name: ICACHE
description: Instruction cache
groupName: ICACHE
source: STM32H503 SVD v1.5
registers:
  - name: CR
    displayName: CR
    description: Control register
    addressOffset: 0
    size: 32
    resetValue: 4
    resetMask: 4294967295
    fields:
      - name: EN
        description: enable
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: cache disabled
            value: 0
          - name: B_0x1
            description: cache enabled
            value: 1
      - name: CACHEINV
        description: "cache invalidation\nSet by software and cleared by hardware when the BUSYF flag is set (during cache maintenance operation). Writing 0 has no effect."
        bitOffset: 1
        bitWidth: 1
        access: write-only
        enumeratedValues:
          - name: B_0x0
            description: no effect
            value: 0
          - name: B_0x1
            description: invalidate entire cache (all cache lines valid bit = 0)
            value: 1
      - name: WAYSEL
        description: "cache associativity mode selection\nThis bit allows user to choose ICACHE set-associativity. It can be written by software only when cache is disabled (EN = 0)."
        bitOffset: 2
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: direct mapped cache (1-way cache)
            value: 0
          - name: B_0x1
            description: n-way set associative cache (reset value)
            value: 1
      - name: HITMEN
        description: hit monitor enable
        bitOffset: 16
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: cache hit monitor switched off. Stopping the monitor does not reset it.
            value: 0
          - name: B_0x1
            description: cache hit monitor enabled
            value: 1
      - name: MISSMEN
        description: miss monitor enable
        bitOffset: 17
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: cache miss monitor switched off. Stopping the monitor does not reset it.
            value: 0
          - name: B_0x1
            description: cache miss monitor enabled
            value: 1
      - name: HITMRST
        description: hit monitor reset
        bitOffset: 18
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: no effect
            value: 0
          - name: B_0x1
            description: reset cache hit monitor
            value: 1
      - name: MISSMRST
        description: miss monitor reset
        bitOffset: 19
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: no effect
            value: 0
          - name: B_0x1
            description: reset cache miss monitor
            value: 1
  - name: SR
    displayName: SR
    description: Status register
    addressOffset: 4
    size: 32
    resetValue: 1
    resetMask: 4294967295
    fields:
      - name: BUSYF
        description: busy flag
        bitOffset: 0
        bitWidth: 1
        access: read-only
        enumeratedValues:
          - name: B_0x0
            description: cache not busy on a CACHEINV operation
            value: 0
          - name: B_0x1
            description: cache executing a full invalidate CACHEINV operation
            value: 1
      - name: BSYENDF
        description: busy end flag
        bitOffset: 1
        bitWidth: 1
        access: read-only
        enumeratedValues:
          - name: B_0x0
            description: cache busy
            value: 0
          - name: B_0x1
            description: full invalidate CACHEINV operation finished
            value: 1
      - name: ERRF
        description: cache error flag
        bitOffset: 2
        bitWidth: 1
        access: read-only
        enumeratedValues:
          - name: B_0x0
            description: no error
            value: 0
          - name: B_0x1
            description: an error occurred during the operation (cacheable write)
            value: 1
  - name: IER
    displayName: IER
    description: Interrupt enable register
    addressOffset: 8
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: BSYENDIE
        description: "interrupt enable on busy end\nSet by software to enable an interrupt generation at the end of a cache invalidate operation."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: interrupt disabled on busy end
            value: 0
          - name: B_0x1
            description: interrupt enabled on busy end
            value: 1
      - name: ERRIE
        description: "interrupt enable on cache error\nSet by software to enable an interrupt generation in case of cache functional error (cacheable write access)"
        bitOffset: 2
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: interrupt disabled on error
            value: 0
          - name: B_0x1
            description: interrupt enabled on error
            value: 1
  - name: FCR
    displayName: FCR
    description: Flag clear register
    addressOffset: 12
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: CBSYENDF
        description: "clear busy end flag\nSet by software."
        bitOffset: 1
        bitWidth: 1
        access: write-only
        enumeratedValues:
          - name: B_0x0
            description: no effect
            value: 0
          - name: B_0x1
            description: clears BSYENDF flag in ICACHE_SR.
            value: 1
      - name: CERRF
        description: "clear cache error flag\nSet by software."
        bitOffset: 2
        bitWidth: 1
        access: write-only
        enumeratedValues:
          - name: B_0x0
            description: no effect
            value: 0
          - name: B_0x1
            description: clears ERRF flag in ICACHE_SR
            value: 1
  - name: HMONR
    displayName: HMONR
    description: Hit monitor register
    addressOffset: 16
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: HITMON
        description: cache hit monitor counter
        bitOffset: 0
        bitWidth: 32
        access: read-only
  - name: MMONR
    displayName: MMONR
    description: Miss monitor register
    addressOffset: 20
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: MISSMON
        description: cache miss monitor counter
        bitOffset: 0
        bitWidth: 16
        access: read-only
addressBlocks:
  - offset: 0
    size: 1024
    usage: registers
interrupts:
  - name: INTR
    description: Instruction cache global interrupt
