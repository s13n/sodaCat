name: GpTimer
description: TIM14 address block description
groupName: TIM14
registers:
  - name: CR1
    displayName: CR1
    description: TIM14 control register 1
    addressOffset: 0
    size: 16
    access: read-write
    resetValue: 0
    resetMask: 65535
    fields:
      - name: CEN
        description: "Counter enable\nNote: External clock and gated mode can work only if the CEN bit has been previously set by\nsoftware. However trigger mode can set the CEN bit automatically by hardware."
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Counter disabled
            value: 0
          - name: B_0x1
            description: Counter enabled
            value: 1
      - name: UDIS
        description: "Update disable\nThis bit is set and cleared by software to enable/disable update interrupt (UEV) event generation.\nCounter overflow\nSetting the UG bit.\nBuffered registers are then loaded with their preload values."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: 'UEV enabled. An UEV is generated by one of the following events:'
            value: 0
          - name: B_0x1
            description: UEV disabled. No UEV is generated, shadow registers keep their value (ARR, PSC, CCRx). The counter and the prescaler are reinitialized if the UG bit is set.
            value: 1
      - name: URS
        description: "Update request source\nThis bit is set and cleared by software to select the update interrupt (UEV) sources.\nCounter overflow\nSetting the UG bit"
        bitOffset: 2
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: 'Any of the following events generate an UEV if enabled:'
            value: 0
          - name: B_0x1
            description: Only counter overflow generates an UEV if enabled.
            value: 1
      - name: OPM
        description: One-pulse mode
        bitOffset: 3
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Counter is not stopped on the update event
            value: 0
          - name: B_0x1
            description: Counter stops counting on the next update event (clearing the CEN bit).
            value: 1
      - name: ARPE
        description: Auto-reload preload enable
        bitOffset: 7
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: TIMx_ARR register is not buffered
            value: 0
          - name: B_0x1
            description: TIMx_ARR register is buffered
            value: 1
      - name: CKD
        description: "Clock division\nThis bit-field indicates the division ratio between the timer clock (CK_INT) frequency and sampling clock used by the digital filters (TIx),"
        bitOffset: 8
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: t<sub>DTS</sub> = t<sub>CK_INT</sub>
            value: 0
          - name: B_0x1
            description: t<sub>DTS</sub> = 2   t<sub>CK_INT</sub>
            value: 1
          - name: B_0x2
            description: t<sub>DTS</sub> = 4   t<sub>CK_INT</sub>
            value: 2
      - name: UIFREMAP
        description: UIF status bit remapping
        bitOffset: 11
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: No remapping. UIF status bit is not copied to TIMx_CNT register bit 31.
            value: 0
          - name: B_0x1
            description: Remapping enabled. UIF status bit is copied to TIMx_CNT register bit 31.
            value: 1
  - name: DIER
    displayName: DIER
    description: TIM14 Interrupt enable register
    addressOffset: 12
    size: 16
    access: read-write
    resetValue: 0
    resetMask: 65535
    fields:
      - name: UIE
        description: Update interrupt enable
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Update interrupt disabled
            value: 0
          - name: B_0x1
            description: Update interrupt enabled
            value: 1
      - name: CC1IE
        description: Capture/Compare 1 interrupt enable
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: CC1 interrupt disabled
            value: 0
          - name: B_0x1
            description: CC1 interrupt enabled
            value: 1
  - name: SR
    displayName: SR
    description: TIM14 status register
    addressOffset: 16
    size: 16
    access: read-write
    resetValue: 0
    resetMask: 65535
    fields:
      - name: UIF
        description: "Update interrupt flag\nThis bit is set by hardware on an update event. It is cleared by software.\nAt overflow and if UDIS= 0  in the TIMx_CR1 register.\nWhen CNT is reinitialized by software using the UG bit in TIMx_EGR register, if URS= 0  and UDIS= 0  in the TIMx_CR1 register."
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: No update occurred.
            value: 0
          - name: B_0x1
            description: 'Update interrupt pending. This bit is set by hardware when the registers are updated:'
            value: 1
      - name: CC1IF
        description: "Capture/compare 1 interrupt flag\nThis flag is set by hardware. It is cleared by software (input capture or output compare mode) or by reading the TIMx_CCR1 register (input capture mode only).\nIf channel CC1 is configured as output: this flag is set when the content of the counter TIMx_CNT matches the content of the TIMx_CCR1 register. When the content of TIMx_CCR1 is greater than the content of TIMx_ARR, the CC1IF bit goes high on the counter overflow (in up-counting and up/down-counting modes) or underflow (in down-counting mode). There are 3 possible options for flag setting in center-aligned mode, refer to the CMS bits in the TIMx_CR1 register for the full description.\nIf channel CC1 is configured as input: this bit is set when counter value has been captured in TIMx_CCR1 register (an edge has been detected on IC1, as per the edge sensitivity defined with the CC1P and CC1NP bits setting, in TIMx_CCER)."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: No compare match / No input capture occurred
            value: 0
          - name: B_0x1
            description: A compare match or an input capture occurred.
            value: 1
      - name: CC1OF
        description: "Capture/Compare 1 overcapture flag\nThis flag is set by hardware only when the corresponding channel is configured in input capture mode. It is cleared by software by writing it to  0 ."
        bitOffset: 9
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: No overcapture has been detected.
            value: 0
          - name: B_0x1
            description: The counter value has been captured in TIMx_CCR1 register while CC1IF flag was already set
            value: 1
  - name: EGR
    displayName: EGR
    description: TIM14 event generation register
    addressOffset: 20
    size: 16
    access: write-only
    resetValue: 0
    resetMask: 65535
    fields:
      - name: UG
        description: "Update generation\nThis bit can be set by software, it is automatically cleared by hardware."
        bitOffset: 0
        bitWidth: 1
        access: write-only
        enumeratedValues:
          - name: B_0x0
            description: No action
            value: 0
          - name: B_0x1
            description: Re-initialize the counter and generates an update of the registers. Note that the prescaler counter is cleared too (anyway the prescaler ratio is not affected). The counter is cleared.
            value: 1
      - name: CC1G
        description: "Capture/compare 1 generation\nThis bit is set by software in order to generate an event, it is automatically cleared by hardware.\nIf channel CC1 is configured as output:\nCC1IF flag is set, Corresponding interrupt or is sent if enabled.\nIf channel CC1 is configured as input:\nThe current value of the counter is captured in TIMx_CCR1 register. The CC1IF flag is set, the corresponding interrupt is sent if enabled. The CC1OF flag is set if the CC1IF flag was already high."
        bitOffset: 1
        bitWidth: 1
        access: write-only
        enumeratedValues:
          - name: B_0x0
            description: No action
            value: 0
          - name: B_0x1
            description: 'A capture/compare event is generated on channel 1:'
            value: 1
  - name: CCMR1
    displayName: CCMR1
    description: TIM14 capture/compare mode register 1
    addressOffset: 24
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: CC1S
        description: "Capture/Compare 1 selection\nThis bit-field defines the direction of the channel (input/output) as well as the used input. \nNote: CC1S bits are writable only when the channel is OFF (CC1E = 0 in TIMx_CCER)."
        bitOffset: 0
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: CC1 channel is configured as output
            value: 0
          - name: B_0x1
            description: CC1 channel is configured as input, IC1 is mapped on TI1
            value: 1
      - name: IC1PSC
        description: "Input capture 1 prescaler\nThis bit-field defines the ratio of the prescaler acting on CC1 input (IC1).\nThe prescaler is reset as soon as CC1E= 0  (TIMx_CCER register)."
        bitOffset: 2
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: no prescaler, capture is done each time an edge is detected on the capture input
            value: 0
          - name: B_0x1
            description: capture is done once every 2 events
            value: 1
          - name: B_0x2
            description: capture is done once every 4 events
            value: 2
          - name: B_0x3
            description: capture is done once every 8 events
            value: 3
      - name: IC1F
        description: "Input capture 1 filter\nThis bit-field defines the frequency used to sample TI1 input and the length of the digital filter applied to TI1. The digital filter is made of an event counter in which N consecutive events are needed to validate a transition on the output:"
        bitOffset: 4
        bitWidth: 4
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: "No filter, sampling is done at f\t<sub>DTS</sub>"
            value: 0
          - name: B_0x1
            description: f<sub>SAMPLING</sub>=f<sub>CK_INT</sub>, N=2
            value: 1
          - name: B_0x2
            description: f<sub>SAMPLING</sub>=f<sub>CK_INT</sub>, N=4
            value: 2
          - name: B_0x3
            description: f<sub>SAMPLING</sub>=f<sub>CK_INT</sub>, N=8
            value: 3
          - name: B_0x4
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/2, N=6
            value: 4
          - name: B_0x5
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/2, N=8
            value: 5
          - name: B_0x6
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/4, N=6
            value: 6
          - name: B_0x7
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/4, N=8
            value: 7
          - name: B_0x8
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/8, N=6
            value: 8
          - name: B_0x9
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/8, N=8
            value: 9
          - name: B_0xA
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/16, N=5
            value: 10
          - name: B_0xB
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/16, N=6
            value: 11
          - name: B_0xC
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/16, N=8
            value: 12
          - name: B_0xD
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/32, N=5
            value: 13
          - name: B_0xE
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/32, N=6
            value: 14
          - name: B_0xF
            description: f<sub>SAMPLING</sub>=f<sub>DTS</sub>/32, N=8
            value: 15
  - name: CCMR1_ALTERNATE1
    displayName: CCMR1_ALTERNATE1
    description: TIM14 capture/compare mode register 1
    alternateRegister: TIM14_CCMR1
    addressOffset: 24
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: CC1S
        description: "Capture/Compare 1 selection\nThis bit-field defines the direction of the channel (input/output) as well as the used input.\nNote: CC1S bits are writable only when the channel is OFF (CC1E = 0 in TIMx_CCER)."
        bitOffset: 0
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: CC1 channel is configured as output.
            value: 0
          - name: B_0x1
            description: CC1 channel is configured as input, IC1 is mapped on TI1.
            value: 1
          - name: B_0x2
            description: Reserved.
            value: 2
          - name: B_0x3
            description: Reserved.
            value: 3
      - name: OC1FE
        description: "Output compare 1 fast enable\nThis bit decreases the latency between a trigger event and a transition on the timer output. It must be used in one-pulse mode (OPM bit set in TIMx_CR1 register), to have the output pulse starting as soon as possible after the starting trigger."
        bitOffset: 2
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: CC1 behaves normally depending on counter and CCR1 values even when the trigger is ON. The minimum delay to activate CC1 output when an edge occurs on the trigger input is 5 clock cycles.
            value: 0
          - name: B_0x1
            description: An active edge on the trigger input acts like a compare match on CC1 output. OC is then set to the compare level independently of the result of the comparison. Delay to sample the trigger input and to activate CC1 output is reduced to 3 clock cycles. OC1FE acts only if the channel is configured in PWM1 or PWM2 mode.
            value: 1
      - name: OC1PE
        description: Output compare 1 preload enable
        bitOffset: 3
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Preload register on TIMx_CCR1 disabled. TIMx_CCR1 can be written at anytime, the new value is taken in account immediately.
            value: 0
          - name: B_0x1
            description: Preload register on TIMx_CCR1 enabled. Read/Write operations access the preload register. TIMx_CCR1 preload value is loaded in the active register at each update event.
            value: 1
      - name: OC1M
        description: "OC1M[2:0]: Output compare 1 mode (refer to bit 16 for OC1M[3])\nThese bits define the behavior of the output reference signal OC1REF from which OC1 is derived. OC1REF is active high whereas OC1 active level depends on CC1P bit.\nOthers: Reserved\nNote: In PWM mode 1 or 2, the OCREF level changes when the result of the comparison changes or when the output compare mode switches from frozen to PWM mode.\nNote: The OC1M[3] bit is not contiguous, located in bit 16."
        bitOffset: 4
        bitWidth: 3
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Frozen. The comparison between the output compare register TIMx_CCR1 and the counter TIMx_CNT has no effect on the outputs. This mode can be used when the timer serves as a software timebase. When the frozen mode is enabled during timer operation, the output keeps the state (active or inactive) it had before entering the frozen state.
            value: 0
          - name: B_0x1
            description: Set channel 1 to active level on match. OC1REF signal is forced high when the counter TIMx_CNT matches the capture/compare register 1 (TIMx_CCR1).
            value: 1
          - name: B_0x2
            description: Set channel 1 to inactive level on match. OC1REF signal is forced low when the counter TIMx_CNT matches the capture/compare register 1 (TIMx_CCR1).
            value: 2
          - name: B_0x3
            description: Toggle - OC1REF toggles when TIMx_CNT = TIMx_CCR1.
            value: 3
          - name: B_0x4
            description: Force inactive level - OC1REF is forced low.
            value: 4
          - name: B_0x5
            description: Force active level - OC1REF is forced high.
            value: 5
          - name: B_0x6
            description: PWM mode 1 - Channel 1 is active as long as TIMx_CNT < TIMx_CCR1 else inactive.
            value: 6
          - name: B_0x7
            description: PWM mode 2 - Channel 1 is inactive as long as TIMx_CNT < TIMx_CCR1 else active
            value: 7
      - name: OC1M_1
        description: OC1M[3]
        bitOffset: 16
        bitWidth: 1
        access: read-write
  - name: CCER
    displayName: CCER
    description: TIM14 capture/compare enable register
    addressOffset: 32
    size: 16
    access: read-write
    resetValue: 0
    resetMask: 65535
    fields:
      - name: CC1E
        description: Capture/Compare 1 output enable.
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Capture mode disabled / OC1 is not active
            value: 0
          - name: B_0x1
            description: Capture mode enabled / OC1 signal is output on the corresponding output pin
            value: 1
      - name: CC1P
        description: "Capture/Compare 1 output Polarity.\nWhen CC1 channel is configured as input, both CC1NP/CC1P bits select the active polarity of TI1FP1 and TI2FP1 for trigger or capture operations.\nCC1NP=0, CC1P=0:\tnon-inverted/rising edge. The circuit is sensitive to TIxFP1 rising edge (capture or trigger operations in reset, external clock or trigger mode), TIxFP1 is not inverted (trigger operation in gated mode or encoder mode).\nCC1NP=0, CC1P=1:\tinverted/falling edge. The circuit is sensitive to TIxFP1 falling edge (capture or trigger operations in reset, external clock or trigger mode), TIxFP1 is inverted (trigger operation in gated mode or encoder mode).\nCC1NP=1, CC1P=1:\tnon-inverted/both edges/ The circuit is sensitive to both TIxFP1 rising and falling edges (capture or trigger operations in reset, external clock or trigger mode), TIxFP1is not inverted (trigger operation in gated mode). This configuration must not be used in encoder mode.\nCC1NP=1, CC1P=0:\tThis configuration is reserved, it must not be used."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: OC1 active high (output mode) / Edge sensitivity selection (input mode, see below)
            value: 0
          - name: B_0x1
            description: OC1 active low (output mode) / Edge sensitivity selection (input mode, see below)
            value: 1
      - name: CC1NP
        description: "Capture/Compare 1 complementary output Polarity.\nCC1 channel configured as output: CC1NP must be kept cleared.\nCC1 channel configured as input: CC1NP bit is used in conjunction with CC1P to define TI1FP1 polarity (refer to CC1P description)."
        bitOffset: 3
        bitWidth: 1
        access: read-write
  - name: CNT
    displayName: CNT
    description: TIM14 counter
    addressOffset: 36
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: CNT
        description: Counter value
        bitOffset: 0
        bitWidth: 16
        access: read-write
      - name: UIFCPY
        description: "UIF Copy\nThis bit is a read-only copy of the UIF bit in the TIMx_ISR register."
        bitOffset: 31
        bitWidth: 1
        access: read-write
  - name: PSC
    displayName: PSC
    description: TIM14 prescaler
    addressOffset: 40
    size: 16
    access: read-write
    resetValue: 0
    resetMask: 65535
    fields:
      - name: PSC
        description: "Prescaler value\nThe counter clock frequency CK_CNT is equal to f<sub>CK_PSC</sub> / (PSC[15:0] + 1).\nPSC contains the value to be loaded in the active prescaler register at each update event.\n(including when the counter is cleared through UG bit of TIMx_EGR register or through trigger controller when configured in  reset mode )."
        bitOffset: 0
        bitWidth: 16
        access: read-write
  - name: ARR
    displayName: ARR
    description: TIM14 auto-reload register
    addressOffset: 44
    size: 16
    access: read-write
    resetValue: 65535
    resetMask: 65535
    fields:
      - name: ARR
        description: "Auto-reload value\nARR is the value to be loaded in the actual auto-reload register.\nRefer to Section 19.3.1: Time-base unit on page 517 for more details about ARR update and behavior.\nThe counter is blocked while the auto-reload value is null."
        bitOffset: 0
        bitWidth: 16
        access: read-write
  - name: CCR1
    displayName: CCR1
    description: TIM14 capture/compare register 1
    addressOffset: 52
    size: 16
    access: read-write
    resetValue: 0
    resetMask: 65535
    fields:
      - name: CCR1
        description: "Capture/Compare 1 value\nIf channel CC1 is configured as output:\nCCR1 is the value to be loaded in the actual capture/compare 1 register (preload value).\nIt is loaded permanently if the preload feature is not selected in the TIMx_CCMR1 register (bit OC1PE). Else the preload value is copied in the active capture/compare 1 register when an update event occurs.\nThe active capture/compare register contains the value to be compared to the counter TIMx_CNT and signaled on OC1 output.\nIf channel CC1is configured as input:\nCCR1 is the counter value transferred by the last input capture 1 event (IC1)."
        bitOffset: 0
        bitWidth: 16
        access: read-write
  - name: TISEL
    displayName: TISEL
    description: TIM14 timer input selection register
    addressOffset: 104
    size: 16
    access: read-write
    resetValue: 0
    resetMask: 65535
    fields:
      - name: TI1SEL
        description: "selects TI1[0] to TI1[15] input\nOthers: Reserved"
        bitOffset: 0
        bitWidth: 4
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: TIM14_CH1 input
            value: 0
          - name: B_0x1
            description: RTC CLK
            value: 1
          - name: B_0x2
            description: HSE/32
            value: 2
          - name: B_0x3
            description: MCO
            value: 3
          - name: B_0x4
            description: MCO2
            value: 4
addressBlocks:
  - offset: 0
    size: 108
    usage: registers
interrupts:
  - name: INTR
    description: TIM14 gloabal interrupt
