name: RNG
description: True random number generator
groupName: RNG
baseAddress: 1108084736
registers:
- name: RNG_CR
  displayName: RNG_CR
  description: RNG control register
  addressOffset: 0
  size: 32
  resetValue: 8388816
  resetMask: 4294967295
  fields:
  - name: RNGEN
    description: True random number generator enable
    bitOffset: 2
    bitWidth: 1
    access: read-write
    enumeratedValues:
    - name: B_0x0
      description: True random number generator is disabled. Analog noise 
        sources are powered off and logic clocked by the RNG clock is gated.
      value: 0
    - name: B_0x1
      description: True random number generator is enabled.
      value: 1
  - name: IE
    description: Interrupt Enable
    bitOffset: 3
    bitWidth: 1
    access: read-write
    enumeratedValues:
    - name: B_0x0
      description: RNG Interrupt is disabled
      value: 0
    - name: B_0x1
      description: RNG Interrupt is enabled. An interrupt is pending as soon as 
        DRDY = 1, SEIS = 1 or CEIS = 1 in the RNG_SR register.
      value: 1
  - name: CED
    description: "Clock error detection \nThe clock error detection cannot be enabled
      nor disabled on-the-fly when the RNG is enabled, i.e. to enable or disable CED
      the RNG must be disabled.\nWriting this bit is taken into account only if CONDRST
      bit is set to 1 in the same access, while CONFIGLOCK remains at 0. Writing to
      this bit is ignored if CONFIGLOCK = 1."
    bitOffset: 5
    bitWidth: 1
    access: read-write
    enumeratedValues:
    - name: B_0x0
      description: Clock error detection is enable
      value: 0
    - name: B_0x1
      description: Clock error detection is disable
      value: 1
  - name: ARDIS
    description: "Auto reset disable\nWhen auto-reset is enabled application still
      need to clear SEIS bit after a noise source error.\nWriting this bit is taken
      into account only if CONDRST bit is set to 1 in the same access, while CONFIGLOCK
      remains at 0. Writing to this bit is ignored if CONFIGLOCK = 1."
    bitOffset: 7
    bitWidth: 1
    access: read-write
    enumeratedValues:
    - name: B_0x0
      description: When a noise source error occurs RNG performs an automatic 
        reset to clear SECS bit.
      value: 0
    - name: B_0x1
      description: When a noise source error occurs application must reset RNG 
        by writing CONDRST to 1 then to 0, in order to restart random number 
        generation.
      value: 1
  - name: RNG_CONFIG3
    description: "RNG configuration 3\nReserved to the RNG configuration (bitfield
      3). Refer to RNG_CONFIG1 bitfield for details.\nIf NISTC bit is cleared in this
      register RNG_CONFIG3 bitfield values are ignored by RNG."
    bitOffset: 8
    bitWidth: 4
    access: read-write
  - name: NISTC
    description: "Non NIST compliant\ntwo conditioning loops are performed and 256
      bits of noise source are used.\nWriting this bit is taken into account only
      if CONDRST bit is set to 1 in the same access, while CONFIGLOCK remains at 0.
      Writing to this bit is ignored if CONFIGLOCK = 1."
    bitOffset: 12
    bitWidth: 1
    access: read-write
    enumeratedValues:
    - name: B_0x0
      description: Hardware default values for NIST compliant RNG. In this 
        configuration per 128-bit output
      value: 0
    - name: B_0x1
      description: 'Custom values for NIST compliant RNG. See Section 23.6: RNG entropy
        source validation for proposed configuration.'
      value: 1
  - name: RNG_CONFIG2
    description: "RNG configuration 2\nReserved to the RNG configuration (bitfield
      2). Refer to RNG_CONFIG1 bitfield for details."
    bitOffset: 13
    bitWidth: 3
    access: read-write
  - name: CLKDIV
    description: "Clock divider factor\nThis value used to configure an internal programmable
      divider (from 1 to 16) acting on the incoming RNG clock. These bits can be written
      only when the core is disabled (RNGEN = 0). \n...\nWriting these bits is taken
      into account only if CONDRST bit is set to 1 in the same access, while CONFIGLOCK
      remains at 0. Writing to this bit is ignored if CONFIGLOCK = 1."
    bitOffset: 16
    bitWidth: 4
    access: read-write
    enumeratedValues:
    - name: B_0x0
      description: internal RNG clock after divider is similar to incoming RNG 
        clock.
      value: 0
    - name: B_0x1
      description: two RNG clock cycles per internal RNG clock.
      value: 1
    - name: B_0x2
      description: 2sup2/sup (= 4) RNG clock cycles per internal RNG clock.
      value: 2
    - name: B_0xF
      description: 2sup15/sup RNG clock cycles per internal clock (for example. 
        an incoming 48 MHz RNG clock becomes a 1.5 kHz internal RNG clock)
      value: 15
  - name: RNG_CONFIG1
    description: "RNG configuration 1\nReserved to the RNG configuration (bitfield
      1). Must be initialized using the recommended value documented in Section 23.6:
      RNG entropy source validation.\nWriting any bit of RNG_CONFIG1 is taken into
      account only if CONDRST bit is set to 1 in the same access, while CONFIGLOCK
      remains at 0. Writing to this bit is ignored if CONFIGLOCK = 1."
    bitOffset: 20
    bitWidth: 6
    access: read-write
  - name: CONDRST
    description: "Conditioning soft reset\n\tWrite 1 and then write 0 to reset the
      conditioning logic, clear all the FIFOs and start a new RNG initialization process,
      with RNG_SR cleared. Registers RNG_CR and RNG_NSCR are not changed by CONDRST.\n\
      This bit must be set to 1 in the same access that set any configuration bits
      [29:4]. In other words, when CONDRST bit is set to 1 correct configuration in
      bits [29:4] must also be written.\nWhen CONDRST is set to 0 by software its
      value goes to 0 when the reset process is done. It takes about 2 AHB clock cycles
      + 2 RNG clock cycles."
    bitOffset: 30
    bitWidth: 1
    access: read-write
  - name: CONFIGLOCK
    description: "RNG Config lock\nThis bitfield is set once: if this bit is set it
      can only be reset to 0 if RNG is reset."
    bitOffset: 31
    bitWidth: 1
    access: read-write
    enumeratedValues:
    - name: B_0x0
      description: Writes to the RNG_CR configuration bits [29:4] are allowed.
      value: 0
    - name: B_0x1
      description: Writes to the RNG_CR configuration bits [29:4] are ignored 
        until the next RNG reset.
      value: 1
- name: RNG_SR
  displayName: RNG_SR
  description: RNG status register
  addressOffset: 4
  size: 32
  resetValue: 0
  resetMask: 4294967295
  fields:
  - name: DRDY
    description: "Data Ready\nOnce the output buffer becomes empty (after reading
      the RNG_DR register), this bit returns to 0 until a new random value is generated.\n\
      Note: The DRDY bit can rise when the peripheral is disabled (RNGEN = 0 in the
      RNG_CR register).\nIf IE=1 in the RNG_CR register, an interrupt is generated
      when DRDY = 1."
    bitOffset: 0
    bitWidth: 1
    access: read-only
    enumeratedValues:
    - name: B_0x0
      description: The RNG_DR register is not yet valid, no random data is 
        available.
      value: 0
    - name: B_0x1
      description: The RNG_DR register contains valid random data.
      value: 1
  - name: CECS
    description: "Clock error current status\nNote: CECS bit is valid only if the
      CED bit in the RNG_CR register is set to 0."
    bitOffset: 1
    bitWidth: 1
    access: read-only
    enumeratedValues:
    - name: B_0x0
      description: The RNG clock is correct (fRNGCLK fHCLK/32). If the CEIS bit 
        is set, this means that a slow clock was detected and the situation has 
        been recovered.
      value: 0
    - name: B_0x1
      description: The RNG clock is too slow (fRNGCLK fHCLK/32).
      value: 1
  - name: SECS
    description: "Seed error current status\nRun-time repetition count test failed
      (noise source has provided more than 24 consecutive bits at a constant value
      0 or 1, or more than 32 consecutive occurrence of two bits patterns 01 or 10)\n\
      Start-up or continuous adaptive proportion test on noise source failed.\nStart-up
      post-processing/conditioning sanity check failed."
    bitOffset: 2
    bitWidth: 1
    access: read-only
    enumeratedValues:
    - name: B_0x0
      description: No faulty sequence has currently been detected. If the SEIS 
        bit is set, this means that a faulty sequence was detected and the 
        situation has been recovered.
      value: 0
    - name: B_0x1
      description: 'At least one of the following faulty sequence has been detected:'
      value: 1
  - name: CEIS
    description: "Clock error interrupt status\nThis bit is set at the same time as
      CECS. It is cleared by writing 0. Writing 1 has no effect.\nAn interrupt is
      pending if IE = 1 in the RNG_CR register."
    bitOffset: 5
    bitWidth: 1
    access: read-write
    enumeratedValues:
    - name: B_0x0
      description: The RNG clock is correct (fRNGCLK fHCLK/32)
      value: 0
    - name: B_0x1
      description: The RNG clock before internal divider is detected too slow 
        (fRNGCLK fHCLK/32)
      value: 1
  - name: SEIS
    description: "Seed error interrupt status\nThis bit is set at the same time as
      SECS. It is cleared by writing 0 (unless CONDRST is used). Writing 1 has no
      effect.\nAn interrupt is pending if IE = 1 in the RNG_CR register."
    bitOffset: 6
    bitWidth: 1
    access: read-write
    enumeratedValues:
    - name: B_0x0
      description: No faulty sequence detected
      value: 0
    - name: B_0x1
      description: At least one faulty sequence is detected. See SECS bit 
        description for details.
      value: 1
- name: RNG_DR
  displayName: RNG_DR
  description: RNG data register
  addressOffset: 8
  size: 32
  resetValue: 0
  resetMask: 4294967295
  fields:
  - name: RNDATA
    description: "Random data\n32-bit random data which are valid when DRDY = 1. When
      DRDY = 0 RNDATA value is zero.\nIt is recommended to always verify that RNG_DR
      is different from zero. Because when it is the case a seed error occurred between
      RNG_SR polling and RND_DR output reading (rare event)."
    bitOffset: 0
    bitWidth: 32
    access: read-only
- name: RNG_HTCR
  displayName: RNG_HTCR
  description: RNG health test control register
  addressOffset: 16
  size: 32
  resetValue: 29356
  resetMask: 4294967295
  fields:
  - name: HTCFG
    description: "health test configuration\nThis configuration is used by RNG to
      configure the health tests. See Section 23.6: RNG entropy source validation
      for the recommended value.\nNote: The RNG behavior, including the read to this
      register, is not guaranteed if a different value from the recommended value
      is written."
    bitOffset: 0
    bitWidth: 32
    access: read-write
interrupts:
- name: RNG
  description: RNG global interrupt
  value: 114
addressBlocks:
- offset: 0
  size: 1024
  usage: registers
