name: Flash
description: Flash
groupName: Flash
source: STM32G474 SVD v2.9
params:
  - name: pages
    type: int
    description: Number of flash memory pages
  - name: dual_bank
    type: bool
    default: false
    description: Dual-bank flash organization supported
  - name: pb4_pupen
    type: bool
    default: false
    description: PB4 pull-up enable bit present in PWR_PUCRB
registers:
  - name: ACR
    displayName: ACR
    description: Flash access control register
    addressOffset: 0
    size: 32
    access: read-write
    resetValue: 263681
    resetMask: 4294967295
    fields:
      - name: LATENCY
        description: Latency
        bitOffset: 0
        bitWidth: 4
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Zero wait state
            value: 0
          - name: B_0x1
            description: One wait state
            value: 1
          - name: B_0x2
            description: Two wait states
            value: 2
          - name: B_0x3
            description: Three wait states
            value: 3
          - name: B_0x4
            description: Four wait states
            value: 4
      - name: PRFTEN
        description: Prefetch enable
        bitOffset: 8
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Prefetch disabled
            value: 0
          - name: B_0x1
            description: Prefetch enabled
            value: 1
      - name: ICEN
        description: Instruction cache enable
        bitOffset: 9
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Instruction cache is disabled
            value: 0
          - name: B_0x1
            description: Instruction cache is enabled
            value: 1
      - name: DCEN
        description: Data cache enable
        bitOffset: 10
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Data cache is disabled
            value: 0
          - name: B_0x1
            description: Data cache is enabled
            value: 1
      - name: ICRST
        description: Instruction cache reset
        bitOffset: 11
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Instruction cache is not reset
            value: 0
          - name: B_0x1
            description: Instruction cache is reset
            value: 1
      - name: DCRST
        description: Data cache reset
        bitOffset: 12
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Data cache is not reset
            value: 0
          - name: B_0x1
            description: Data cache is reset
            value: 1
      - name: RUN_PD
        description: Flash Power-down mode during Run or Low-power run mode
        bitOffset: 13
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Flash in Idle mode
            value: 0
          - name: B_0x1
            description: Flash in Power-down mode
            value: 1
      - name: SLEEP_PD
        description: Flash Power-down mode during Sleep or Low-power sleep mode
        bitOffset: 14
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Flash in Idle mode during Sleep and Low-power sleep modes
            value: 0
          - name: B_0x1
            description: Flash in Power-down mode during Sleep and Low-power sleep modes
            value: 1
      - name: DBG_SWEN
        description: Debug software enable
        bitOffset: 18
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Debugger disabled
            value: 0
          - name: B_0x1
            description: Debugger enabled
            value: 1
  - name: PDKEYR
    displayName: PDKEYR
    description: Flash Power-down key register
    addressOffset: 4
    size: 32
    access: write-only
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: PDKEYR
        description: Power-down in Run mode Flash key
        bitOffset: 0
        bitWidth: 32
        access: write-only
  - name: KEYR
    displayName: KEYR
    description: Flash key register
    addressOffset: 8
    size: 32
    access: write-only
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: KEYR
        description: Flash key
        bitOffset: 0
        bitWidth: 32
        access: write-only
  - name: OPTKEYR
    displayName: OPTKEYR
    description: Flash option key register
    addressOffset: 12
    size: 32
    access: write-only
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: OPTKEYR
        description: Option byte key
        bitOffset: 0
        bitWidth: 32
        access: write-only
  - name: SR
    displayName: SR
    description: Flash status register
    addressOffset: 16
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: EOP
        description: End of operation
        bitOffset: 0
        bitWidth: 1
        access: read-write
      - name: OPERR
        description: Operation error
        bitOffset: 1
        bitWidth: 1
        access: read-write
      - name: PROGERR
        description: Programming error
        bitOffset: 3
        bitWidth: 1
        access: read-write
      - name: WRPERR
        description: Write protection error
        bitOffset: 4
        bitWidth: 1
        access: read-write
      - name: PGAERR
        description: Programming alignment error
        bitOffset: 5
        bitWidth: 1
        access: read-write
      - name: SIZERR
        description: Size error
        bitOffset: 6
        bitWidth: 1
        access: read-write
      - name: PGSERR
        description: Programming sequence error
        bitOffset: 7
        bitWidth: 1
        access: read-write
      - name: MISSERR
        description: Fast programming data miss error
        bitOffset: 8
        bitWidth: 1
        access: read-write
      - name: FASTERR
        description: Fast programming error
        bitOffset: 9
        bitWidth: 1
        access: read-write
      - name: RDERR
        description: PCROP read error
        bitOffset: 14
        bitWidth: 1
        access: read-write
      - name: OPTVERR
        description: Option validity error
        bitOffset: 15
        bitWidth: 1
        access: read-write
      - name: BSY
        description: Busy
        bitOffset: 16
        bitWidth: 1
        access: read-only
  - name: CR
    displayName: CR
    description: Flash control register
    addressOffset: 20
    size: 32
    access: read-write
    resetValue: 3221225472
    resetMask: 4294967295
    fields:
      - name: PG
        description: Programming
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Flash programming disabled
            value: 0
          - name: B_0x1
            description: Flash programming enabled
            value: 1
      - name: PER
        description: Page erase
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: page erase disabled
            value: 0
          - name: B_0x1
            description: page erase enabled
            value: 1
      - name: MER1
        description: Bank 1 Mass erase
        bitOffset: 2
        bitWidth: 1
        access: read-write
      - name: PNB
        description: Page number selection
        bitOffset: 3
        bitWidth: 7
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: page 0
            value: 0
          - name: B_0x1
            description: page 1
            value: 1
      - name: BKER
        description: Bank erase
        bitOffset: 11
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Bank 1 is selected for page erase
            value: 0
          - name: B_0x1
            description: Bank 2 is selected for page erase
            value: 1
      - name: MER2
        description: Bank 2 Mass erase
        bitOffset: 15
        bitWidth: 1
        access: read-write
      - name: START
        description: Start
        bitOffset: 16
        bitWidth: 1
        access: read-write
      - name: OPTSTRT
        description: Options modification start
        bitOffset: 17
        bitWidth: 1
        access: read-write
      - name: FSTPG
        description: Fast programming
        bitOffset: 18
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Fast programming disabled
            value: 0
          - name: B_0x1
            description: Fast programming enabled
            value: 1
      - name: EOPIE
        description: End of operation interrupt enable
        bitOffset: 24
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: EOP Interrupt disabled
            value: 0
          - name: B_0x1
            description: EOP Interrupt enabled
            value: 1
      - name: ERRIE
        description: Error interrupt enable
        bitOffset: 25
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: OPERR error interrupt disabled
            value: 0
          - name: B_0x1
            description: OPERR error interrupt enabled
            value: 1
      - name: RDERRIE
        description: PCROP read error interrupt enable
        bitOffset: 26
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: PCROP read error interrupt disabled
            value: 0
          - name: B_0x1
            description: PCROP read error interrupt enabled
            value: 1
      - name: OBL_LAUNCH
        description: Force the option byte loading
        bitOffset: 27
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Option byte loading complete
            value: 0
          - name: B_0x1
            description: Option byte loading requested
            value: 1
      - name: SEC_PROT1
        description: Securable memory area protection bit for bank 1.
        bitOffset: 28
        bitWidth: 1
        access: read-write
      - name: SEC_PROT2
        description: Securable memory area protection bit for bank 2.
        bitOffset: 29
        bitWidth: 1
        access: read-write
      - name: OPTLOCK
        description: Options Lock
        bitOffset: 30
        bitWidth: 1
        access: read-write
      - name: LOCK
        description: FLASH_CR Lock
        bitOffset: 31
        bitWidth: 1
        access: read-write
  - name: ECCR
    displayName: ECCR
    description: Flash ECC register
    addressOffset: 24
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: ADDR_ECC
        description: ECC fail address
        bitOffset: 0
        bitWidth: 19
        access: read-only
      - name: BK_ECC
        description: ECC fail bank
        bitOffset: 21
        bitWidth: 1
        access: read-only
        enumeratedValues:
          - name: B_0x0
            description: bank 1
            value: 0
          - name: B_0x1
            description: bank 2
            value: 1
      - name: SYSF_ECC
        description: System Flash ECC fail
        bitOffset: 22
        bitWidth: 1
        access: read-only
      - name: ECCCIE
        description: ECC correction interrupt enable
        bitOffset: 24
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: ECCC interrupt disabled
            value: 0
          - name: B_0x1
            description: ECCC interrupt enabled.
            value: 1
      - name: ECCC2
        description: ECC correction
        bitOffset: 28
        bitWidth: 1
        access: read-write
      - name: ECCD2
        description: ECC2 detection
        bitOffset: 29
        bitWidth: 1
        access: read-write
      - name: ECCC
        description: ECC correction
        bitOffset: 30
        bitWidth: 1
        access: read-write
      - name: ECCD
        description: ECC detection
        bitOffset: 31
        bitWidth: 1
        access: read-write
  - name: OPTR
    displayName: OPTR
    addressOffset: 32
    size: 32
    access: read-write
    fields:
      - name: RDP
        description: Read protection level
        bitOffset: 0
        bitWidth: 8
        access: read-write
        enumeratedValues:
          - name: B_0xAA
            description: Level 0, read protection not active
            value: 170
          - name: B_0xCC
            description: Level 2, chip read protection active
            value: 204
      - name: BOR_LEV
        description: BOR reset Level
        bitOffset: 8
        bitWidth: 3
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: BOR Level 0. Reset level threshold is around 1.7 V
            value: 0
          - name: B_0x1
            description: BOR Level 1. Reset level threshold is around 2.0 V
            value: 1
          - name: B_0x2
            description: BOR Level 2. Reset level threshold is around 2.2 V
            value: 2
          - name: B_0x3
            description: BOR Level 3. Reset level threshold is around 2.5 V
            value: 3
          - name: B_0x4
            description: BOR Level 4. Reset level threshold is around 2.8 V
            value: 4
      - name: nRST_STOP
        description: None
        bitOffset: 12
        bitWidth: 1
        access: read-write
      - name: nRST_STDBY
        description: None
        bitOffset: 13
        bitWidth: 1
        access: read-write
      - name: nRST_SHDW
        description: None
        bitOffset: 14
        bitWidth: 1
        access: read-write
      - name: IWDG_SW
        description: Independent watchdog selection
        bitOffset: 16
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Hardware independent watchdog
            value: 0
          - name: B_0x1
            description: Software independent watchdog
            value: 1
      - name: IWDG_STOP
        description: None
        bitOffset: 17
        bitWidth: 1
        access: read-write
      - name: IWGD_STDBY
        description: None
        bitOffset: 18
        bitWidth: 1
        access: read-write
      - name: WWDG_SW
        description: Window watchdog selection
        bitOffset: 19
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Hardware window watchdog
            value: 0
          - name: B_0x1
            description: Software window watchdog
            value: 1
      - name: BFB2
        description: Dual-bank boot
        bitOffset: 20
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Dual-bank boot disable
            value: 0
          - name: B_0x1
            description: Dual-bank boot enable
            value: 1
      - name: DBANK
        description: This bit can only be written when PCROPA/B is disabled.
        bitOffset: 22
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Single bank mode with 128 bits data read width
            value: 0
          - name: B_0x1
            description: Dual bank mode with 64 bits data
            value: 1
      - name: nBOOT1
        description: Boot configuration
        bitOffset: 23
        bitWidth: 1
        access: read-write
      - name: SRAM_PE
        description: SRAM1 and CCM SRAM parity check enable
        bitOffset: 24
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: SRAM1 and CCM SRAM parity check enable
            value: 0
          - name: B_0x1
            description: SRAM1 and CCM SRAM parity check disable
            value: 1
      - name: CCMSRAM_RST
        description: None
        bitOffset: 25
        bitWidth: 1
        access: read-write
      - name: nSWBOOT0
        description: Software BOOT0
        bitOffset: 26
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: BOOT0 taken from the option bit nBOOT0
            value: 0
          - name: B_0x1
            description: BOOT0 taken from PB8/BOOT0 pin
            value: 1
      - name: nBOOT0
        description: nBOOT0 option bit
        bitOffset: 27
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: nBOOT0 = 0
            value: 0
          - name: B_0x1
            description: nBOOT0 = 1
            value: 1
      - name: NRST_MODE
        description: None
        bitOffset: 28
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x1
            description: 'Reset Input only: a low level on the NRST pin generates system reset, internal RESET not propagated to the NSRT pin'
            value: 1
          - name: B_0x2
            description: 'GPIO: standard GPIO pad functionality, only internal RESET possible'
            value: 2
          - name: B_0x3
            description: 'Bidirectional reset: NRST pin configured in reset input/output mode (legacy mode)'
            value: 3
      - name: IRHEN
        description: Internal reset holder enable bit
        bitOffset: 30
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Internal resets are propagated as simple pulse on NRST pin
            value: 0
          - name: B_0x1
            description: Internal resets drives NRST pin low until it is seen as low level
            value: 1
  - name: PCROP1SR
    displayName: PCROP1SR
    description: Flash PCROP1 Start address register
    addressOffset: 36
    size: 32
    access: read-write
    resetValue: 4294901760
    resetMask: 4294901760
    fields:
      - name: PCROP1_STRT
        description: PCROP area start offset
        bitOffset: 0
        bitWidth: 15
        access: read-write
  - name: PCROP1ER
    displayName: PCROP1ER
    description: Flash PCROP1 End address register
    addressOffset: 40
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 268369920
    fields:
      - name: PCROP1_END
        description: Bank 1 PCROP area end offset
        bitOffset: 0
        bitWidth: 15
        access: read-write
      - name: PCROP_RDP
        description: PCROP area preserved when RDP level decreased
        bitOffset: 31
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: PCROP area is not erased when the RDP level is decreased from Level 1 to Level 0.
            value: 0
          - name: B_0x1
            description: PCROP area is erased when the RDP level is decreased from Level 1 to Level 0 (full mass erase).
            value: 1
  - name: WRP1AR
    displayName: WRP1AR
    description: Flash Bank 1 WRP area A address register
    addressOffset: 44
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4278255360
    fields:
      - name: WRP1A_STRT
        description: WRP first area A start offset
        bitOffset: 0
        bitWidth: 7
        access: read-write
      - name: WRP1A_END
        description: WRP first area A end offset
        bitOffset: 16
        bitWidth: 7
        access: read-write
  - name: WRP1BR
    displayName: WRP1BR
    description: Flash Bank 1 WRP area B address register
    addressOffset: 48
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4278255360
    fields:
      - name: WRP1B_STRT
        description: WRP second area B start offset
        bitOffset: 0
        bitWidth: 7
        access: read-write
      - name: WRP1B_END
        description: WRP second area B end offset
        bitOffset: 16
        bitWidth: 7
        access: read-write
  - name: PCROP2SR
    displayName: PCROP2SR
    description: Flash PCROP2 Start address register
    addressOffset: 68
    size: 32
    access: read-write
    resetValue: 4294901760
    resetMask: 4294901760
    fields:
      - name: PCROP2_STRT
        description: PCROP area start offset
        bitOffset: 0
        bitWidth: 15
        access: read-write
  - name: PCROP2ER
    displayName: PCROP2ER
    description: Flash PCROP2 End address register
    addressOffset: 72
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294901760
    fields:
      - name: PCROP2_END
        description: PCROP area end offset
        bitOffset: 0
        bitWidth: 15
        access: read-write
  - name: WRP2AR
    displayName: WRP2AR
    description: Flash Bank 2 WRP area A address register
    addressOffset: 76
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4278255360
    fields:
      - name: WRP2A_STRT
        description: WRP first area A start offset
        bitOffset: 0
        bitWidth: 7
        access: read-write
      - name: WRP2A_END
        description: WRP first area A end offset
        bitOffset: 16
        bitWidth: 7
        access: read-write
  - name: WRP2BR
    displayName: WRP2BR
    description: Flash Bank 2 WRP area B address register
    addressOffset: 80
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4278255360
    fields:
      - name: WRP2B_STRT
        description: WRP second area B start offset
        bitOffset: 0
        bitWidth: 7
        access: read-write
      - name: WRP2B_END
        description: WRP second area B end offset
        bitOffset: 16
        bitWidth: 7
        access: read-write
  - name: SEC1R
    displayName: SEC1R
    description: Flash Securable area bank1 register
    addressOffset: 112
    size: 32
    access: read-write
    resetValue: 4293984000
    resetMask: 4293984000
    fields:
      - name: SEC_SIZE1
        description: sets the number of pages used in the bank 1 Securable memory area.
        bitOffset: 0
        bitWidth: 8
        access: read-write
      - name: BOOT_LOCK
        description: used to force boot from user Flash area.
        bitOffset: 16
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Boot based on the pad/option bit configuration
            value: 0
          - name: B_0x1
            description: Boot forced from Main Flash memory
            value: 1
  - name: SEC2R
    displayName: SEC2R
    description: Flash Securable area bank2 register
    addressOffset: 116
    size: 32
    access: read-write
    resetValue: 4294967040
    resetMask: 4294967040
    fields:
      - name: SEC_SIZE2
        description: sets the number of pages used in the bank 2 Securable memory area.
        bitOffset: 0
        bitWidth: 8
        access: read-write
addressBlocks:
  - offset: 0
    size: 1024
    usage: registers
interrupts:
  - name: INTR
    description: FLASH
