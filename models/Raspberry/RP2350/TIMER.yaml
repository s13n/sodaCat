# Created from RP2350.svd (Rev 0.1)

name: TIMER
description: "Controls time and alarms\n\n            time is a 64 bit value indicating
  the time since power-on\n\n            timeh is the top 32 bits of time & timel
  is the bottom 32 bits to change time write to timelw before timehw to read time
  read from timelr before timehr\n\n            An alarm is set by setting alarm_enable
  and writing to the corresponding alarm register When an alarm is pending, the corresponding
  alarm_running signal will be high An alarm can be cancelled before it has finished
  by clearing the alarm_enable When an alarm fires, the corresponding alarm_irq is
  set and alarm_running is cleared To clear the interrupt write a 1 to the corresponding
  alarm_irq The timer can be locked to prevent writing"
registers:
  - name: TIMEHW
    addressOffset: 0
    description: Write to bits 63:32 of time always write timelw before timehw
    resetValue: 0
    fields:
      - name: TIMEHW
        access: write-only
        bitOffset: 0
        bitWidth: 32
  - name: TIMELW
    addressOffset: 4
    description: Write to bits 31:0 of time writes do not get copied to time 
      until timehw is written
    resetValue: 0
    fields:
      - name: TIMELW
        access: write-only
        bitOffset: 0
        bitWidth: 32
  - name: TIMEHR
    addressOffset: 8
    description: Read from bits 63:32 of time always read timelr before timehr
    resetValue: 0
    fields:
      - name: TIMEHR
        access: read-only
        bitOffset: 0
        bitWidth: 32
  - name: TIMELR
    addressOffset: 12
    description: Read from bits 31:0 of time
    resetValue: 0
    fields:
      - name: TIMELR
        access: read-only
        readAction: modify
        bitOffset: 0
        bitWidth: 32
  - name: ALARM0
    addressOffset: 16
    description: Arm alarm 0, and configure the time it will fire. Once armed, 
      the alarm fires when TIMER_ALARM0 == TIMELR. The alarm will disarm itself 
      once it fires, and can be disarmed early using the ARMED status register.
    resetValue: 0
    fields:
      - name: ALARM0
        access: read-write
        bitOffset: 0
        bitWidth: 32
  - name: ALARM1
    addressOffset: 20
    description: Arm alarm 1, and configure the time it will fire. Once armed, 
      the alarm fires when TIMER_ALARM1 == TIMELR. The alarm will disarm itself 
      once it fires, and can be disarmed early using the ARMED status register.
    resetValue: 0
    fields:
      - name: ALARM1
        access: read-write
        bitOffset: 0
        bitWidth: 32
  - name: ALARM2
    addressOffset: 24
    description: Arm alarm 2, and configure the time it will fire. Once armed, 
      the alarm fires when TIMER_ALARM2 == TIMELR. The alarm will disarm itself 
      once it fires, and can be disarmed early using the ARMED status register.
    resetValue: 0
    fields:
      - name: ALARM2
        access: read-write
        bitOffset: 0
        bitWidth: 32
  - name: ALARM3
    addressOffset: 28
    description: Arm alarm 3, and configure the time it will fire. Once armed, 
      the alarm fires when TIMER_ALARM3 == TIMELR. The alarm will disarm itself 
      once it fires, and can be disarmed early using the ARMED status register.
    resetValue: 0
    fields:
      - name: ALARM3
        access: read-write
        bitOffset: 0
        bitWidth: 32
  - name: ARMED
    addressOffset: 32
    description: Indicates the armed/disarmed status of each alarm. A write to 
      the corresponding ALARMx register arms the alarm. Alarms automatically 
      disarm upon firing, but writing ones here will disarm immediately without 
      waiting to fire.
    resetValue: 0
    fields:
      - name: ARMED
        access: read-write
        modifiedWriteValues: oneToClear
        bitOffset: 0
        bitWidth: 4
  - name: TIMERAWH
    addressOffset: 36
    description: Raw read from bits 63:32 of time (no side effects)
    resetValue: 0
    fields:
      - name: TIMERAWH
        access: read-only
        bitOffset: 0
        bitWidth: 32
  - name: TIMERAWL
    addressOffset: 40
    description: Raw read from bits 31:0 of time (no side effects)
    resetValue: 0
    fields:
      - name: TIMERAWL
        access: read-only
        bitOffset: 0
        bitWidth: 32
  - name: DBGPAUSE
    addressOffset: 44
    description: Set bits high to enable pause when the corresponding debug 
      ports are active
    resetValue: 7
    fields:
      - name: DBG0
        description: Pause when processor 0 is in debug mode
        access: read-write
        bitOffset: 1
        bitWidth: 1
      - name: DBG1
        description: Pause when processor 1 is in debug mode
        access: read-write
        bitOffset: 2
        bitWidth: 1
  - name: PAUSE
    addressOffset: 48
    description: Set high to pause the timer
    resetValue: 0
    fields:
      - name: PAUSE
        access: read-write
        bitOffset: 0
        bitWidth: 1
  - name: LOCKED
    addressOffset: 52
    description: Set locked bit to disable write access to timer Once set, 
      cannot be cleared (without a reset)
    resetValue: 0
    fields:
      - name: LOCKED
        access: read-write
        bitOffset: 0
        bitWidth: 1
  - name: SOURCE
    addressOffset: 56
    description: Selects the source for the timer. Defaults to the normal tick 
      configured in the ticks block (typically configured to 1 microsecond). 
      Writing to 1 will ignore the tick and count clk_sys cycles instead.
    resetValue: 0
    fields:
      - name: CLK_SYS
        access: read-write
        enumeratedValues:
          - name: TICK
            value: 0
          - name: CLK_SYS
            value: 1
        bitOffset: 0
        bitWidth: 1
  - name: INTR
    addressOffset: 60
    description: Raw Interrupts
    resetValue: 0
    fields:
      - name: ALARM_0
        access: read-write
        modifiedWriteValues: oneToClear
        bitOffset: 0
        bitWidth: 1
      - name: ALARM_1
        access: read-write
        modifiedWriteValues: oneToClear
        bitOffset: 1
        bitWidth: 1
      - name: ALARM_2
        access: read-write
        modifiedWriteValues: oneToClear
        bitOffset: 2
        bitWidth: 1
      - name: ALARM_3
        access: read-write
        modifiedWriteValues: oneToClear
        bitOffset: 3
        bitWidth: 1
  - name: INTE
    addressOffset: 64
    description: Interrupt Enable
    resetValue: 0
    fields:
      - name: ALARM_0
        access: read-write
        bitOffset: 0
        bitWidth: 1
      - name: ALARM_1
        access: read-write
        bitOffset: 1
        bitWidth: 1
      - name: ALARM_2
        access: read-write
        bitOffset: 2
        bitWidth: 1
      - name: ALARM_3
        access: read-write
        bitOffset: 3
        bitWidth: 1
  - name: INTF
    addressOffset: 68
    description: Interrupt Force
    resetValue: 0
    fields:
      - name: ALARM_0
        access: read-write
        bitOffset: 0
        bitWidth: 1
      - name: ALARM_1
        access: read-write
        bitOffset: 1
        bitWidth: 1
      - name: ALARM_2
        access: read-write
        bitOffset: 2
        bitWidth: 1
      - name: ALARM_3
        access: read-write
        bitOffset: 3
        bitWidth: 1
  - name: INTS
    addressOffset: 72
    description: Interrupt status after masking & forcing
    resetValue: 0
    fields:
      - name: ALARM_0
        access: read-only
        bitOffset: 0
        bitWidth: 1
      - name: ALARM_1
        access: read-only
        bitOffset: 1
        bitWidth: 1
      - name: ALARM_2
        access: read-only
        bitOffset: 2
        bitWidth: 1
      - name: ALARM_3
        access: read-only
        bitOffset: 3
        bitWidth: 1
interrupts:
  - name: IRQ_0
  - name: IRQ_1
  - name: IRQ_2
  - name: IRQ_3
addressBlocks:
  - offset: 0
    size: 76
    usage: registers
headerStructName: TIMER
