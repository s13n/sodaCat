name: BasicTimer
description: Basic timers
groupName: TIM
registers:
  - name: TIM6_CR1
    displayName: TIM6_CR1
    description: TIM6 control register 1
    addressOffset: 0
    size: 16
    resetValue: 0
    resetMask: 65535
    fields:
      - name: CEN
        description: "Counter enable\nCEN is cleared automatically in one-pulse mode, when an update event occurs."
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Counter disabled
            value: 0
          - name: B_0x1
            description: Counter enabled
            value: 1
      - name: UDIS
        description: "Update disable\nThis bit is set and cleared by software to enable/disable UEV event generation.\nCounter overflow/underflow\nSetting the UG bit\nUpdate generation through the slave mode controller\nBuffered registers are then loaded with their preload values."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: 'UEV enabled. The Update (UEV) event is generated by one of the following events:'
            value: 0
          - name: B_0x1
            description: UEV disabled. The Update event is not generated, shadow registers keep their value (ARR, PSC). However the counter and the prescaler are reinitialized if the UG bit is set or if a hardware reset is received from the slave mode controller.
            value: 1
      - name: URS
        description: "Update request source\nThis bit is set and cleared by software to select the UEV event sources.\nCounter overflow/underflow\nSetting the UG bit\nUpdate generation through the slave mode controller"
        bitOffset: 2
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: 'Any of the following events generates an update interrupt or DMA request if enabled. These events can be:'
            value: 0
          - name: B_0x1
            description: Only counter overflow/underflow generates an update interrupt or DMA request if enabled.
            value: 1
      - name: OPM
        description: One-pulse mode
        bitOffset: 3
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Counter is not stopped at update event
            value: 0
          - name: B_0x1
            description: Counter stops counting at the next update event (clearing the CEN bit).
            value: 1
      - name: ARPE
        description: Auto-reload preload enable
        bitOffset: 7
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: TIMx_ARR register is not buffered.
            value: 0
          - name: B_0x1
            description: TIMx_ARR register is buffered.
            value: 1
      - name: UIFREMAP
        description: UIF status bit remapping
        bitOffset: 11
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: No remapping. UIF status bit is not copied to TIMx_CNT register bit 31.
            value: 0
          - name: B_0x1
            description: Remapping enabled. UIF status bit is copied to TIMx_CNT register bit 31.
            value: 1
      - name: DITHEN
        description: "Dithering enable\nNote: The DITHEN bit can only be modified when CEN bit is reset."
        bitOffset: 12
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Dithering disabled
            value: 0
          - name: B_0x1
            description: Dithering enabled
            value: 1
  - name: TIM6_CR2
    displayName: TIM6_CR2
    description: TIM6 control register 2
    addressOffset: 4
    size: 16
    resetValue: 0
    resetMask: 65535
    fields:
      - name: MMS
        description: "Master mode selection\nThese bits are used to select the information to be sent in master mode to slave timers for synchronization (TRGO). The combination is as follows:\nNote: The clock of the slave timer or he peripheral receiving the tim_trgo must be enabled prior to receive events from the master timer, and must not be changed on-the-fly while triggers are received from the master timer."
        bitOffset: 4
        bitWidth: 3
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Reset - the UG bit from the TIMx_EGR register is used as a trigger output (tim_trgo).
            value: 0
          - name: B_0x1
            description: Enable - the Counter enable signal, tim_cnt_en, is used as a trigger output (tim_trgo). It is useful to start several timers at the same time or to control a window in which a slave timer is enabled. The Counter Enable signal is generated when the CEN control bit is written.
            value: 1
          - name: B_0x2
            description: Update - The update event is selected as a trigger output (tim_trgo). For instance a master timer can then be used as a prescaler for a slave timer.
            value: 2
  - name: TIM6_DIER
    displayName: TIM6_DIER
    description: TIM6 DMA/Interrupt enable register
    addressOffset: 12
    size: 16
    resetValue: 0
    resetMask: 65535
    fields:
      - name: UIE
        description: Update interrupt enable
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Update interrupt disabled.
            value: 0
          - name: B_0x1
            description: Update interrupt enabled.
            value: 1
      - name: UDE
        description: Update DMA request enable
        bitOffset: 8
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Update DMA request disabled.
            value: 0
          - name: B_0x1
            description: Update DMA request enabled.
            value: 1
  - name: TIM6_SR
    displayName: TIM6_SR
    description: TIM6 status register
    addressOffset: 16
    size: 16
    resetValue: 0
    resetMask: 65535
    fields:
      - name: UIF
        description: "Update interrupt flag\nThis bit is set by hardware on an update event. It is cleared by software.\nOn counter overflow if UDIS = 0 in the TIMx_CR1 register.\nWhen CNT is reinitialized by software using the UG bit in the TIMx_EGR register, if URS = 0 and UDIS = 0 in the TIMx_CR1 register."
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: No update occurred.
            value: 0
          - name: B_0x1
            description: 'Update interrupt pending. This bit is set by hardware when the registers are updated:'
            value: 1
  - name: TIM6_EGR
    displayName: TIM6_EGR
    description: TIM6 event generation register
    addressOffset: 20
    size: 16
    resetValue: 0
    resetMask: 65535
    fields:
      - name: UG
        description: "Update generation\nThis bit can be set by software, it is automatically cleared by hardware."
        bitOffset: 0
        bitWidth: 1
        access: write-only
        enumeratedValues:
          - name: B_0x0
            description: No action.
            value: 0
          - name: B_0x1
            description: Re-initializes the timer counter and generates an update of the registers. Note that the prescaler counter is cleared too (but the prescaler ratio is not affected).
            value: 1
  - name: TIM6_CNT
    displayName: TIM6_CNT
    description: TIM6 counter
    addressOffset: 36
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: CNT
        description: "Counter value\nNon-dithering mode (DITHEN = 0)\nThe register holds the counter value.\nDithering mode (DITHEN = 1)\nThe register only holds the non-dithered part in CNT[15:0]. The fractional part is not available."
        bitOffset: 0
        bitWidth: 16
        access: read-write
      - name: UIFCPY
        description: "UIF copy\nThis bit is a read-only copy of the UIF bit of the TIMx_ISR register. If the UIFREMAP bit in TIMx_CR1 is reset, bit 31 is reserved and read as 0."
        bitOffset: 31
        bitWidth: 1
        access: read-only
  - name: TIM6_PSC
    displayName: TIM6_PSC
    description: TIM6 prescaler
    addressOffset: 40
    size: 16
    resetValue: 0
    resetMask: 65535
    fields:
      - name: PSC
        description: "Prescaler value\nThe counter clock frequency ftim_cnt_ck is equal to ftim_psc_ck / (PSC[15:0] + 1).\nPSC contains the value to be loaded into the active prescaler register at each update event.\n(including when the counter is cleared through UG bit of TIMx_EGR register."
        bitOffset: 0
        bitWidth: 16
        access: read-write
  - name: TIM6_ARR
    displayName: TIM6_ARR
    description: TIM6 auto-reload register
    addressOffset: 44
    size: 32
    resetValue: 65535
    resetMask: 4294967295
    fields:
      - name: ARR
        description: "Auto-reload value\nARR is the value to be loaded into the actual auto-reload register.\nRefer to  for more details about ARR update and behavior.\nThe counter is blocked while the auto-reload value is null.\nNon-dithering mode (DITHEN = 0)\nThe register holds the auto-reload value in ARR[15:0]. The ARR[19:16] bits are reserved.\nDithering mode (DITHEN = 1)\nThe register holds the integer part in ARR[19:4]. The ARR[3:0] bitfield contains the dithered part."
        bitOffset: 0
        bitWidth: 20
        access: read-write
addressBlocks:
  - offset: 0
    size: 1024
    usage: registers
interrupts:
  - name: INTR
    description: TIM6 global interrupt
