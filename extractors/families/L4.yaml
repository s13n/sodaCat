families:
  L41x_L42x:
    ref_manual: {name: RM0394, url: 'https://www.st.com/resource/en/reference_manual/rm0394-stm32l41xxx42xxx43xxx44xxx45xxx46xxx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf'}
    chips:
    - STM32L412
    - STM32L422
  L43x_L46x:
    ref_manual: {name: RM0394, url: 'https://www.st.com/resource/en/reference_manual/rm0394-stm32l41xxx42xxx43xxx44xxx45xxx46xxx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf'}
    chips:
    - STM32L431
    - STM32L432
    - STM32L433
    - STM32L442
    - STM32L443
    - STM32L451
    - STM32L452
    - STM32L462
  L47x_L4Ax:
    ref_manual: {name: RM0351, url: 'https://www.st.com/resource/en/reference_manual/rm0351-stm32l47xxx-stm32l48xxx-stm32l49xxx-and-stm32l4axxx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf'}
    chips:
    - STM32L471
    - STM32L475
    - STM32L476
    - STM32L486
    - STM32L496
    - STM32L4A6
blocks:
  ADC:
    from: STM32L412.ADC1
    instances: [ADC1, ADC2, ADC3]
    interrupts:
      ADC1: INTR
  ADC_Common:
    from: STM32L471.ADC_Common
    instances: [ADC123_Common, ADC12_Common, ADC_Common]
  AES:
    from: STM32L431.AES
    instances: [AES]
    interrupts:
      AES: INTR
  AdvCtrlTimer:
    from: STM32L412.TIM1
    instances: [TIM1, TIM8]
    interrupts:
      TIM1_TRG_COM: TRG_COM
      TIM1_CC: CC
  BasicTimer:
    from: STM32L412.TIM6
    instances: [TIM6, TIM7]
    interrupts:
      TIM6_DACUNDER: INTR
  COMP:
    from: STM32L412.COMP
    instances: [COMP]
    transforms:
      - {type: renameRegisters, pattern: '^COMP\d+_', replacement: ''}
    interrupts:
      COMP: INTR
  CRC:
    from: STM32L412.CRC
    instances: [CRC]
  CRS:
    from: STM32L412.CRS
    instances: [CRS]
    interrupts:
      CRS: INTR
  DAC:
    from: STM32L471.DAC
    instances: [DAC, DAC1]
  DBGMCU:
    from: STM32L412.DBGMCU
    instances: [DBGMCU]
  DCMI:
    from: STM32L471.DCMI
    instances: [DCMI]
    interrupts:
      DCMI: INTR
  DFSDM:
    from: STM32L431.DFSDM
    instances: [DFSDM, DFSDM1]
    interrupts:
      DFSDM1_FLT3: FLT3
      DFSDM1_FLT0: FLT0
      DFSDM1_FLT1: FLT1
      DFSDM1_FLT2: FLT2
  DMA:
    from: STM32L412.DMA1
    instances: [DMA1, DMA2]
    interrupts:
      DMA1_Channel1: Channel1
      DMA1_Channel2: Channel2
      DMA1_Channel3: Channel3
      DMA1_Channel4: Channel4
      DMA1_Channel5: Channel5
      DMA1_Channel6: Channel6
      DMA1_Channel7: Channel7
  DMA2D:
    from: STM32L486.DMA2D
    instances: [DMA2D]
    interrupts:
      DMA2D: INTR
  EXTI:
    from: STM32L412.EXTI
    instances: [EXTI]
    interrupts:
      PVD_PVM: PVD_PVM
      EXTI0: INTR0
      EXTI1: INTR1
      EXTI2: INTR2
      EXTI3: INTR3
      EXTI4: INTR4
      EXTI9_5: INTR9_5
      EXTI15_10: INTR15_10
  FMC:
    from: STM32L471.FMC
    instances: [FMC]
    interrupts:
      FMC: INTR
  Flash:
    from: STM32L412.FLASH
    instances: [FLASH]
    interrupts:
      FLASH: INTR
  GPIO:
    from: STM32L412.GPIOC
    instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH, GPIOI]
  GpTimer:
    from: STM32L431.TIM2
    instances: [TIM15, TIM16, TIM17, TIM2, TIM3, TIM4, TIM5]
    interrupts:
      TIM1_BRK_TIM15: INTR
    params:
      width:
        type: int
        default: 16
        description: Counter width in bits
      channels:
        type: int
        default: 4
        description: Number of capture/compare channels
  HASH:
    from: STM32L486.HASH
    instances: [HASH]
  I2C:
    from: STM32L412.I2C1
    instances: [I2C1, I2C2, I2C3, I2C4]
    interrupts:
      I2C1_EV: EV
      I2C1_ER: ER
  IWDG:
    from: STM32L412.IWDG
    instances: [IWDG]
  LCD:
    from: STM32L431.LCD
    instances: [LCD]
    interrupts:
      LCD: INTR
  LPTIM:
    from: STM32L412.LPTIM1
    instances: [LPTIM1, LPTIM2]
    interrupts:
      LPTIM1: INTR
  LPUART:
    from: STM32L412.LPUART1
    instances: [LPUART1]
  OPAMP:
    from: STM32L412.OPAMP
    instances: [OPAMP]
    transforms:
      - {type: renameRegisters, pattern: '^OPAMP\d+_', replacement: ''}
  OTG_FS_DEVICE:
    from: STM32L471.OTG_FS_DEVICE
    instances: [OTG_FS_DEVICE]
  OTG_FS_GLOBAL:
    from: STM32L471.OTG_FS_GLOBAL
    instances: [OTG_FS_GLOBAL]
    interrupts:
      OTG_FS: INTR
  OTG_FS_HOST:
    from: STM32L471.OTG_FS_HOST
    instances: [OTG_FS_HOST]
  OTG_FS_PWRCLK:
    from: STM32L471.OTG_FS_PWRCLK
    instances: [OTG_FS_PWRCLK]
  PWR:
    from: STM32L412.PWR
    instances: [PWR]
  QUADSPI:
    from: STM32L412.QUADSPI
    instances: [QUADSPI]
  RCC:
    from: STM32L412.RCC
    instances: [RCC]
    interrupts:
      RCC: INTR
  RNG:
    from: STM32L412.RNG
    instances: [RNG]
    interrupts:
      RNG: INTR
  RTC:
    from: STM32L431.RTC
    instances: [RTC]
    variants:
      L41x_L42x:
        from: STM32L412.RTC
  SAI:
    from: STM32L431.SAI1
    instances: [SAI1, SAI2]
    interrupts:
      SAI1: INTR
  SDMMC:
    from: STM32L431.SDMMC
    instances: [SDMMC, SDMMC1]
    interrupts:
      SDMMC1: INTR
  SPI:
    from: STM32L412.SPI1
    instances: [SPI1, SPI2, SPI3]
    interrupts:
      SPI1: INTR
  SWPMI:
    from: STM32L431.SWPMI1
    instances: [SWPMI1]
    interrupts:
      SWPMI1: INTR
  SYSCFG:
    from: STM32L412.SYSCFG
    instances: [SYSCFG]
  TSC:
    from: STM32L412.TSC
    instances: [TSC]
    interrupts:
      TSC: INTR
  USART:
    from: STM32L431.UART4
    instances: [UART4, UART5, USART1, USART2, USART3]
    interrupts:
      UART4: INTR
    params:
      has_synchronous:
        type: bool
        default: true
        description: Synchronous mode support (CLKEN, CPOL, CPHA, LBCL)
      has_smartcard:
        type: bool
        default: true
        description: Smartcard mode support (SCEN, NACK, SCARCNT)
  USB:
    from: STM32L412.USB_FS
    instances: [USB_FS]
    interrupts:
      USB_FS: INTR
  VREFBUF:
    from: STM32L431.VREFBUF
    instances: [VREFBUF]
  WWDG:
    from: STM32L412.WWDG
    instances: [WWDG]
    interrupts:
      WWDG: INTR
  bxCAN:
    from: STM32L431.CAN1
    instances: [CAN1, CAN2]
    interrupts:
      CAN1_TX: TX
      CAN1_RX0: RX0
      CAN1_RX1: RX1
      CAN1_SCE: SCE
chip_params:
  _all:
    _all:
      UART4: {has_synchronous: false, has_smartcard: false}
      UART5: {has_synchronous: false, has_smartcard: false}
      TIM2: {width: 32}
      TIM5: {width: 32}
      TIM15: {channels: 2}
      TIM16: {channels: 1}
      TIM17: {channels: 1}
