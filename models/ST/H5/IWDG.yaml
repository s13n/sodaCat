name: IWDG
description: Independent watchdog
groupName: IWDG
source: STM32H503 SVD v1.5
registers:
  - name: KR
    displayName: KR
    description: IWDG key register
    addressOffset: 0
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: KEY
        description: "Key value (write only, read 0x0000)\nThese bits must be written by software at regular intervals with the key value 0xAAAA, otherwise the watchdog generates a reset when the counter reaches 0.\nWriting the key value 0x5555 to enable access to the IWDG_PR, IWDG_RLR and IWDG_WINR registers (see )\nWriting the key value 0xCCCC starts the watchdog (except if the hardware watchdog option is selected)"
        bitOffset: 0
        bitWidth: 16
        access: write-only
  - name: PR
    displayName: PR
    description: IWDG prescaler register
    addressOffset: 4
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: PR
        description: "Prescaler divider\nThese bits are write access protected see . They are written by software to select the prescaler divider feeding the counter clock. PVU bit of the  must be reset in order to be able to change the prescaler divider.\nOthers: divider / 1024\nNote: Reading this register returns the prescaler value from the VDD voltage domain. This value may not be up to date/valid if a write operation to this register is ongoing. For this reason the value read from this register is valid only when the PVU bit in the status register (IWDG_SR) is reset."
        bitOffset: 0
        bitWidth: 4
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: divider / 4
            value: 0
          - name: B_0x1
            description: divider / 8
            value: 1
          - name: B_0x2
            description: divider / 16
            value: 2
          - name: B_0x3
            description: divider / 32
            value: 3
          - name: B_0x4
            description: divider / 64
            value: 4
          - name: B_0x5
            description: divider / 128
            value: 5
          - name: B_0x6
            description: divider / 256
            value: 6
          - name: B_0x7
            description: divider / 512
            value: 7
  - name: RLR
    displayName: RLR
    description: IWDG reload register
    addressOffset: 8
    size: 32
    resetValue: 4095
    resetMask: 4294967295
    fields:
      - name: RL
        description: "Watchdog counter reload value\nThese bits are write access protected see . They are written by software to define the value to be loaded in the watchdog counter each time the value 0xAAAA is written in the . The watchdog counter counts down from this value. The timeout period is a function of this value and the prescaler.clock. It is not recommended to set RL[11:0] to a value lower than 2.\nThe RVU bit in the  must be reset to be able to change the reload value.\nNote: Reading this register returns the reload value from the VDD voltage domain. This value may not be up to date/valid if a write operation to this register is ongoing on it. For this reason the value read from this register is valid only when the RVU bit in the status register (IWDG_SR) is reset."
        bitOffset: 0
        bitWidth: 12
        access: read-write
  - name: SR
    displayName: SR
    description: IWDG status register
    addressOffset: 12
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: PVU
        description: "Watchdog prescaler value update\nThis bit is set by hardware to indicate that an update of the prescaler value is ongoing. It is reset by hardware when the prescaler update operation is completed in the VDD voltage domain (takes up to three periods of the IWDG kernel clock iwdg_ker_ck).\nThe prescaler value can be updated only when PVU bit is reset."
        bitOffset: 0
        bitWidth: 1
        access: read-only
      - name: RVU
        description: "Watchdog counter reload value update\nThis bit is set by hardware to indicate that an update of the reload value is ongoing. It is reset by hardware when the reload value update operation is completed in the VDD voltage domain (takes up to three periods of the IWDG kernel clock iwdg_ker_ck).\nThe reload value can be updated only when RVU bit is reset."
        bitOffset: 1
        bitWidth: 1
        access: read-only
      - name: WVU
        description: "Watchdog counter window value update\nThis bit is set by hardware to indicate that an update of the window value is ongoing. It is reset by hardware when the reload value update operation is completed in the VDD voltage domain (takes up to three periods of the IWDG kernel clock iwdg_ker_ck).\nThe window value can be updated only when WVU bit is reset.\nThis bit is generated only if generic 'window' = 1"
        bitOffset: 2
        bitWidth: 1
        access: read-only
      - name: EWU
        description: "Watchdog interrupt comparator value update\nThis bit is set by hardware to indicate that an update of the interrupt comparator value (EWIT[11:0]) or an update of the EWIE is ongoing. It is reset by hardware when the update operation is completed in the VDD voltage domain (takes up to three periods of the IWDG kernel clock iwdg_ker_ck).\nThe EWIT[11:0] and EWIE fields can be updated only when EWU bit is reset."
        bitOffset: 3
        bitWidth: 1
        access: read-only
      - name: EWIF
        description: "Watchdog early interrupt flag\nThis bit is set to '1' by hardware in order to indicate that an early interrupt is pending. This bit must be cleared by the software by writing the bit EWIC of IWDG_EWCR register to '1'."
        bitOffset: 14
        bitWidth: 1
        access: read-only
  - name: WINR
    displayName: WINR
    description: IWDG window register
    addressOffset: 16
    size: 32
    resetValue: 4095
    resetMask: 4294967295
    fields:
      - name: WIN
        description: "Watchdog counter window value\nThese bits are write access protected, see , they contain the high limit of the window value to be compared with the downcounter.\nTo prevent a reset, the IWDCNT downcounter must be reloaded when its value is lower than WIN[11:0]+1 and greater than 1.\nThe WVU bit in the  must be reset to be able to change the reload value.\nNote: Reading this register returns the reload value from the VDD voltage domain. This value may not be valid if a write operation to this register is ongoing. For this reason the value read from this register is valid only when the WVU bit in the (IWDG_SR) is reset."
        bitOffset: 0
        bitWidth: 12
        access: read-write
  - name: EWCR
    displayName: EWCR
    description: IWDG early wakeup interrupt register
    addressOffset: 20
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: EWIT
        description: "Watchdog counter window value\nThese bits are write access protected (see ). They are written by software to define at which position of the IWDCNT down-counter the early wakeup interrupt must be generated. The early interrupt is generated when the IWDCNT is lower or equal to EWIT[11:0] - 1.\nEWIT[11:0] must be bigger than 1.\nAn interrupt is generated only if EWIE = 1.\nThe EWU bit in the  must be reset to be able to change the reload value.\nNote: Reading this register returns the Early wakeup comparator value and the Interrupt enable bit from the VDD voltage domain. This value may not be up to date/valid if a write operation to this register is ongoing, hence the value read from this register is valid only when the EWU bit in the  is reset."
        bitOffset: 0
        bitWidth: 12
        access: read-write
      - name: EWIC
        description: "Watchdog early interrupt acknowledge\nThe software must write a 1 into this bit in order to acknowledge the early wakeup interrupt and to clear the EWIF flag. Writing 0 has not effect, reading this flag returns a 0."
        bitOffset: 14
        bitWidth: 1
        access: write-only
      - name: EWIE
        description: "Watchdog early interrupt enable\nSet and reset by software.\nThe EWU bit in the  must be reset to be able to change the value of this bit."
        bitOffset: 15
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: The early interrupt interface is disabled.
            value: 0
          - name: B_0x1
            description: The early interrupt interface is enabled.
            value: 1
addressBlocks:
  - offset: 0
    size: 1024
    usage: registers
interrupts:
  - name: INTR
    description: IWDG interrupt
