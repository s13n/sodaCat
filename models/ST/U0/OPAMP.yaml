name: OPAMP
description: OPAMP address block description
groupName: OPAMP
registers:
  - name: OPAMP_CSR
    displayName: OPAMP_CSR
    description: OPAMP control/status register
    addressOffset: 0
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: OPAEN
        description: Operational amplifier Enable
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: operational amplifier disabled
            value: 0
          - name: B_0x1
            description: operational amplifier enabled
            value: 1
      - name: OPALPM
        description: "Operational amplifier Low Power Mode\nThe operational amplifier must be disable to change this configuration."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: operational amplifier in normal mode
            value: 0
          - name: B_0x1
            description: operational amplifier in low-power mode
            value: 1
      - name: OPAMODE
        description: Operational amplifier PGA mode
        bitOffset: 2
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: internal PGA disable
            value: 0
          - name: B_0x1
            description: internal PGA disable
            value: 1
          - name: B_0x2
            description: internal PGA enable, gain programmed in PGA_GAIN
            value: 2
          - name: B_0x3
            description: internal follower
            value: 3
      - name: PGA_GAIN
        description: Operational amplifier Programmable amplifier gain value
        bitOffset: 4
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: internal PGA Gain 2
            value: 0
          - name: B_0x1
            description: internal PGA Gain 4
            value: 1
          - name: B_0x2
            description: internal PGA Gain 8
            value: 2
          - name: B_0x3
            description: internal PGA Gain 16
            value: 3
      - name: VM_SEL
        description: "Inverting input selection\nThese bits are used only when OPAMODE = 00, 01 or 10.\n1x:\tInverting input not externally connected. These configurations are valid only when OPAMODE = 10 (PGA mode)"
        bitOffset: 8
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: GPIO connected to VINM (valid also in PGA mode for filtering)
            value: 0
      - name: VP_SEL
        description: Non inverted input selection
        bitOffset: 10
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: GPIO connected to VINP
            value: 0
          - name: B_0x1
            description: DAC connected to VINP
            value: 1
      - name: CALON
        description: Calibration mode enabled
        bitOffset: 12
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Normal mode
            value: 0
          - name: B_0x1
            description: Calibration mode (all switches opened by HW)
            value: 1
      - name: CALSEL
        description: Calibration selection
        bitOffset: 13
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: NMOS calibration (200mV applied on OPAMP inputs)
            value: 0
          - name: B_0x1
            description: PMOS calibration (VDDA-200mV applied on OPAMP inputs)
            value: 1
      - name: USERTRIM
        description: "allows to switch from factory AOP offset trimmed values to AOP offset user trimmed values\nThis bit is active for both mode normal and low-power."
        bitOffset: 14
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: factory trim code used
            value: 0
          - name: B_0x1
            description: user trim code used
            value: 1
      - name: CALOUT
        description: "Operational amplifier calibration output\nDuring calibration mode offset is trimmed when this signal toggle."
        bitOffset: 15
        bitWidth: 1
        access: read-only
      - name: OPA_RANGE
        description: "Operational amplifier power supply range for stability\nAll AOP must be in power down to allow AOP-RANGE bit write. It applies to all AOP embedded in the product."
        bitOffset: 31
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Low range (VDDA < 2.4V)
            value: 0
          - name: B_0x1
            description: High range (VDDA > 2.4V)
            value: 1
  - name: OPAMP_OTR
    displayName: OPAMP_OTR
    description: OPAMP offset trimming register in normal mode
    addressOffset: 4
    size: 32
    resetValue: 0
    resetMask: 4294901760
    fields:
      - name: TRIMOFFSETN
        description: Trim for NMOS differential pairs
        bitOffset: 0
        bitWidth: 5
        access: read-write
      - name: TRIMOFFSETP
        description: Trim for PMOS differential pairs
        bitOffset: 8
        bitWidth: 5
        access: read-write
  - name: OPAMP_LPOTR
    displayName: OPAMP_LPOTR
    description: OPAMP offset trimming register in low-power mode
    addressOffset: 8
    size: 32
    resetValue: 0
    resetMask: 4294901760
    fields:
      - name: TRIMLPOFFSETN
        description: Low-power mode trim for NMOS differential pairs
        bitOffset: 0
        bitWidth: 5
        access: read-write
      - name: TRIMLPOFFSETP
        description: Low-power mode trim for PMOS differential pairs
        bitOffset: 8
        bitWidth: 5
        access: read-write
addressBlocks:
  - offset: 0
    size: 12
    usage: registers
