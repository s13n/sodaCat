displayPrefix: STM32
shared_blocks:
  WWDG:
    from: STM32L412.WWDG
    interrupts: {WWDG: INTR}
    params:
      - {name: cfr_version, type: int, default: 1, max: 2, description: 'CFR register layout: 1 = v1 (2-bit WDGTB at [8:7]), 2 = v2 (3-bit WDGTB at [13:11])'}
    transforms:
      # Clone CFR -> CFR_V2: newer WWDG IP with 3-bit prescaler at bits [13:11]
      - type: cloneRegister
        source: CFR
        name: CFR_V2
        removeFields: [WDGTB]
      - type: patchFields
        register: CFR_V2
        fields:
          - {name: WDGTB, description: Timer base, bitOffset: 11, bitWidth: 3}
  IWDG:
    # Independent Watchdog (Gen 0-3 superset chain)
    # Gen 0 (basic): KR, PR[2:0], RLR, SR{PVU,RVU} — F4, L1
    # Gen 1 (window): +WINR, +WVU — F3, F7, L0, L4, L4+, L5, C0, G0, G4, H7
    # Gen 2 (early wakeup): +EWCR, PR[3:0], +EWU/EWIF in SR — U3, U5
    # Gen 3 (EW+ONF): +ONF in SR — H5, H7RS, U0
    # N6 stays separate (Gen 4: EWIF@bit15, separate ICR register)
    from: STM32H7S.IWDG
    interrupts: {IWDG: INTR}
    params:
      - {name: gen, type: int, default: 1, max: 3, description: 'IWDG generation: 0=basic (KR/PR/RLR/SR), 1=+window (WINR/WVU), 2=+early wakeup (EWCR/4-bit PR/EWU/EWIF), 3=+ONF status'}
    transforms:
      - {type: patchAddressBlock, size: 24}
      # Rename PR field to PRESCALER to avoid C++ name collision with register PR
      - {type: renameFields, register: PR, pattern: ^PR$, replacement: PRESCALER}
  RNG:
    # Random Number Generator (Gen 0-3 superset chain)
    # Gen 0 (basic): CR{RNGEN,IE}, SR{DRDY,CECS,SECS,CEIS,SEIS}, DR — F4
    # Gen 1 (+CED): +CED in CR — F7, L0, L4, L4+(L4R/S), G0, G4, H7(non-H73x)
    # Gen 2 (+config): +CONFIG3/NISTC/CONFIG2/CLKDIV/CONFIG1/CONDRST/CONFIGLOCK, +HTCR — L5, L4+(L4P/Q), H7(H73x)
    # Gen 3 (+ARDIS+NSCR): +ARDIS in CR, +NSCR register — H5, H7RS, U0, U5, N6
    # U3 stays separate (8-bit CONFIG1, BUSY in SR, 4 HTCR registers)
    from: STM32N645.RNG
    interrupts: {RNG: INTR}
    params:
      - {name: gen, type: int, default: 1, max: 3, description: 'RNG generation: 0=basic (CR:RNGEN+IE), 1=+CED, 2=+HTCR/config/CONDRST/CONFIGLOCK, 3=+ARDIS+NSCR'}
    transforms:
      - {type: patchAddressBlock, size: 20}
  CRYP:
    # Cryptographic processor (Gen 0-2 superset chain)
    # Gen 0 (basic): CR{ALGODIR,ALGOMODE,DATATYPE,KEYSIZE,FFLUSH,CRYPEN,GCM_CCMPH,ALGOMODE_1}, SR{IFEM-BUSY} — F4, F7, H7(H742_H753)
    # Gen 1 (+NPBLB): +NPBLB[23:20] in CR — H7(H745_H757, H73x, H7A3_B)
    # Gen 2 (+KMOD+IPRST+KERF+KEYVALID): +KMOD, +IPRST in CR; +KERF, +KEYVALID in SR — H7RS, N6
    from: STM32N655.CRYP
    interrupts: {CRYP: INTR}
    params:
      - {name: gen, type: int, default: 0, max: 2, description: 'CRYP generation: 0=basic, 1=+NPBLB, 2=+KMOD/IPRST/KERF/KEYVALID'}
  HASH:
    # Hash processor (Gen 0-2 superset chain)
    # Gen 0 (basic): CR{ALGO0[7]+ALGO1[18] split}, SR{DINIS,DCIS,DMAS,BUSY} — F4, F7, H7, L4, L4+, L5
    # Gen 1 (+extended SR): CR{ALGO[17:18] unified 2-bit}, SR{+NBWP,DINNE,NBWE} — H5, U5
    # Gen 2 (+SHA-512): CR{ALGO[17:20] unified 4-bit, +SHA-384/512}, SR extended — H7RS, N6, U3
    from: STM32N645.HASH
    interrupts: {HASH: INTR}
    params:
      - {name: gen, type: int, default: 0, max: 2, description: 'HASH generation: 0=basic (split ALGO0+ALGO1, 4-field SR), 1=+extended SR (unified 2-bit ALGO, NBWP/DINNE/NBWE), 2=+SHA-512 (4-bit ALGO)'}
  PKA:
    # Public key accelerator (Gen 0-3 superset chain)
    # Gen 0 (basic): CR{EN,START,MODE,PROCENDIE,RAMERRIE,ADDRERRIE}, SR{BUSY,PROCENDF,RAMERRF,ADDRERRF} — L5
    # Gen 1 (+OPER error): CR{+OPERRIE}, SR{+INITOK,+OPERRF}, CLRFR{+OPERRFC} — U5
    # Gen 2 (+LMF): SR{+LMF} — H5, H7RS, N6
    # Gen 3 (+chaining mode): CR{+CMFIE}, SR{+CCEN,+RNGOKF,+DATAOKF,+INCRERRF,+DATAZF,+TRZERRF,+MDERRF,+RNGERRF,+CMF}, CLRFR{+CMFC} — U3
    from: STM32U385.PKA
    interrupts: {PKA: INTR}
    params:
      - {name: gen, type: int, default: 2, max: 3, description: 'PKA generation: 0=basic, 1=+OPER error/INITOK, 2=+LMF, 3=+chaining mode'}
  DMA2D:
    # Chrom-Art Accelerator (Gen 0-3 superset chain)
    # Gen 0 (basic): CR.MODE[2-bit], LO[14-bit], OPFCCR{CM}, single OCOLR — F4, F7
    # Gen 1 (+AI/RBS): FGPFCCR/BGPFCCR/OPFCCR{+AI,+RBS} — L4, L4+
    # Gen 2 (+LOM/wideMode/wideLO/SB): CR{+LOM}, MODE→3-bit, LO→16-bit, OPFCCR{+SB}, 4 OCOLR variants — U5
    # Gen 3 (+CSS): FGPFCCR{+CSS} — H7RS, N6
    from: STM32H7S.DMA2D
    interrupts: {DMA2D: INTR}
    params:
      - {name: gen, type: int, default: 0, max: 3, description: 'DMA2D generation: 0=basic, 1=+AI/RBS, 2=+LOM/wideMode/wideLO/SB/OCOLR variants, 3=+CSS'}
    transforms:
      - {type: patchAddressBlock, size: 3072}
  TimerV2:
    # Modern timer (V2 layout): CCR5@0x48, DCR@0x3DC, DTR2, ECR
    # Unified GP + AdvCtrl. Families: G4, H5, H7RS, N6, U3, U5
    from: STM32N645.TIM1
    interrupts:
      TIM2: {name: INTR, description: Global interrupt}
      TIM1_BRK: BRK
      TIM1_UP: UP
      TIM1_TRG_COM: TRG_COM
      TIM1_TRG_CCU: TRG_CCU
      TIM1_CC: CC
      TIM1_BRK_TERR_IERR: BRK_TERR_IERR
      TIM1_TRG_COM_DIR_IDX: TRG_COM_DIR_IDX
      TIM1_BRK_TIM15: BRK
      TIM1_UP_TIM16: UP
    params:
      - {name: width32, type: bool, default: false, description: 32-bit counter width}
      - {name: max_channel, type: int, default: 3, max: 5, description: Highest capture/compare channel index (0-5)}
      - {name: has_centerPWM, type: bool, default: true, description: Center-aligned PWM (CMS/DIR in CR1)}
      - {name: encoder, type: int, default: 0, max: 3, description: 'Encoder level: 0=none 1=basic 2=index 3=index+blanking'}
      - {name: has_xor_input, type: bool, default: true, description: TI1S XOR (Hall sensor)}
      - {name: has_etr, type: bool, default: true, description: External trigger input (ETF/ETPS/ECE/ETP)}
      - {name: has_dma_burst, type: bool, default: true, description: DMA burst transfer (DCR/DMAR)}
      - {name: has_complementary, type: bool, default: false, description: Complementary output (BDTR/RCR/break/dead-time)}
      - {name: has_dither, type: bool, default: true, description: Dithering (DITHEN in CR1)}
      - {name: sms_preload, type: int, default: 0, max: 2, description: 'SMS preload: 0=none 1=SMSPE 2=SMSPE+SMSPS'}
      - {name: has_uifremap, type: bool, default: false, description: UIF remap (UIFREMAP in CR1)}
      - {name: has_extended_ocm, type: bool, default: false, description: Extended OC mode (OC1M_3 etc.)}
      - {name: has_mms2, type: bool, default: false, description: Master mode selection 2 (MMS2 in CR2)}
    transforms:
      # N6 SVD naming normalization
      - {type: renameFields, register: SMCR, pattern: ^SMS_1$, replacement: SMS_3}
      - {type: renameFields, register: SMCR, pattern: ^TS_1$, replacement: TS_4_3}
      - {type: renameFields, register: CCMR1_Output, pattern: OC(\d)M_1$, replacement: 'OC\1M_3'}
      - {type: renameFields, register: CCMR2_Output, pattern: OC(\d)M_1$, replacement: 'OC\1M_3'}
      - {type: renameFields, register: CCMR3, pattern: OC(\d)M_1$, replacement: 'OC\1M_3'}
      - {type: renameFields, register: CR2, pattern: ^MMS_1$, replacement: MMS_3}
      # Widen counter/compare fields to 32-bit (TIM1 source has 16/20-bit)
      - {type: patchFields, register: CNT, fields: [{name: CNT, bitWidth: 31}]}
      - {type: patchFields, register: ARR, fields: [{name: ARR, bitWidth: 32}]}
      - {type: patchFields, register: CCR1, fields: [{name: CCR1, bitWidth: 32}]}
      - {type: patchFields, register: CCR2, fields: [{name: CCR2, bitWidth: 32}]}
      - {type: patchFields, register: CCR3, fields: [{name: CCR3, bitWidth: 32}]}
      - {type: patchFields, register: CCR4, fields: [{name: CCR4, bitWidth: 32}]}
      # Add OCCS to SMCR (GP-only, bit 3, reserved on AdvCtrl hardware)
      - {type: patchFields, register: SMCR, fields: [{name: OCCS, description: OCREF clear selection, bitOffset: 3, bitWidth: 1}]}
      # Ensure addressBlock covers DCR/DMAR at 0x3E0+4
      - {type: patchAddressBlock, size: 996}
  BasicTimer:
    from: STM32N645.TIM6
    interrupts:
      TIM6: INTR
      TIM6_DAC: INTR
      TIM6_DAC1: INTR
      TIM6_DACUNDER: INTR
      TIM6_DAC_LPTIM1: INTR
      TIM7: INTR
      TIM18: INTR
  I2C:
    from: STM32U535.I2C1
    interrupts:
      I2C: INTR
      I2C1: INTR
      I2C1_EV: EV
      I2C1_ER: ER
      I2C1_EV_IRQ: EV
      I2C1_ER_IRQ: ER
      I2C1_ERR: ERR
  USART:
    from: STM32N645.USART1
    interrupts:
      USART1: {name: INTR, description: Global interrupt}
    params:
      - {name: synchronous, type: int, default: 3, max: 3, description: 'Synchronous/smartcard capability: 0=none, 1=synchronous only, 2=sync+smartcard, 3=sync+smartcard+TCBGT'}
      - {name: has_fifo, type: bool, default: true, description: 'FIFO mode (FIFOEN in CR1; TXFTIE/RXFTCFG/RXFTIE/TXFTCFG in CR3; TXFE/RXFF/RXFT/TXFT in ISR; TXFECF in ICR). Also implies PRESC register and SPI slave fields (SLVEN, DIS_NSS, UDR, UDRCF).'}
      - {name: has_wakeup, type: bool, default: true, description: 'Wakeup from Stop mode interrupt flag selection (WUS/WUFIE in CR3; WUF in ISR; WUCF in ICR)'}
      - {name: has_autocr, type: bool, default: false, description: 'Autonomous mode (AUTOCR register at 0x30)'}
    transforms:
      # Add AUTOCR register for autonomous mode (U3/U5 only)
      - type: patchRegisters
        registers:
          - name: AUTOCR
            description: Autonomous mode control register
            displayName: AUTOCR
            addressOffset: 48
            size: 32
            access: read-write
            resetValue: 2147483648
            fields:
              - {name: TDN, description: Transmit data number, bitOffset: 0, bitWidth: 16}
              - {name: TRIGPOL, description: Trigger polarity, bitOffset: 16, bitWidth: 1}
              - {name: TRIGEN, description: Trigger enable, bitOffset: 17, bitWidth: 1}
              - {name: IDLEDIS, description: Idle disable, bitOffset: 18, bitWidth: 1}
              - {name: TRIGSEL, description: Trigger selection, bitOffset: 19, bitWidth: 4}
              - {name: TECLREN, description: Transfer complete clear enable, bitOffset: 31, bitWidth: 1}
  LPUART:
    from: STM32N645.LPUART1
    interrupts:
      LPUART1: {name: INTR, description: Global interrupt}
    params:
      - {name: has_fifo, type: bool, default: true, description: 'FIFO mode (FIFOEN/TXFEIE/RXFFIE in CR1; TXFTIE/RXFTCFG/RXFTIE/TXFTCFG in CR3; TXFE/RXFF/RXFT/TXFT in ISR). Also implies PRESC register and TXFRQ in RQR.'}
      - {name: has_wakeup, type: bool, default: true, description: 'Wakeup from Stop mode (WUS/WUFIE in CR3; WUF in ISR; WUCF in ICR)'}
      - {name: has_autocr, type: bool, default: false, description: 'Autonomous mode (AUTOCR register at 0x30)'}
    transforms:
      # Add AUTOCR register for autonomous mode (U3/U5 only)
      - type: patchRegisters
        registers:
          - name: AUTOCR
            description: Autonomous mode control register
            displayName: AUTOCR
            addressOffset: 48
            size: 32
            access: read-write
            resetValue: 2147483648
            fields:
              - {name: TDN, description: Transmit data number, bitOffset: 0, bitWidth: 16}
              - {name: TRIGPOL, description: Trigger polarity, bitOffset: 16, bitWidth: 1}
              - {name: TRIGEN, description: Trigger enable, bitOffset: 17, bitWidth: 1}
              - {name: IDLEDIS, description: Idle disable, bitOffset: 18, bitWidth: 1}
              - {name: TRIGSEL, description: Trigger selection, bitOffset: 19, bitWidth: 4}
      - type: patchAddressBlock
        size: 1024
  LPOPAMP:
    # LPOTR-type OPAMP: L4, L4+, L5, U0, U5 share this model
    # HSOTR-type families use HSOPAMP; G4/L1 are distinct IPs; U3 has different VM_SEL width
    from: STM32U535.OPAMP
    params:
      - {name: single, type: bool, default: false, description: "Single operational amplifier (no second amplifier registers)"}
    transforms:
      - {type: renameRegisters, pattern: '^OPAMP1_', replacement: ''}
      - {type: renameRegisters, pattern: '^OPAMP2_(.+)', replacement: '\g<1>2'}
      # U5/L5 SVD typo: OPAMP2_CRS instead of OPAMP2_CSR
      - {type: renameRegisters, pattern: '^CRS', replacement: CSR}
  HSOPAMP:
    # HSOTR-type OPAMP: H7 and H5 share this model
    # LPOTR-type families use LPOPAMP; G4/L1 are distinct IPs; U3 has different VM_SEL width
    from: STM32H723.OPAMP
    params:
      - {name: single, type: bool, default: false, description: "Single operational amplifier (no second amplifier registers)"}
    transforms:
      - {type: renameRegisters, pattern: '^OPAMP1_', replacement: ''}
      - {type: renameRegisters, pattern: '^OPAMP2_(.+)', replacement: '\g<1>2'}
      # SVD bug: HSOTR fields named TRIMLP* instead of TRIMHS* (confirmed in all H7 RMs)
      - {type: renameFields, register: HSOTR, pattern: '^TRIMLP', replacement: TRIMHS}
      - {type: renameFields, register: HSOTR2, pattern: '^TRIMLP', replacement: TRIMHS}
      # SVD bug: CSR2 missing VP_SEL field (present in RM0468, RM0399, RM0433, RM0455)
      - {type: patchFields, register: CSR2, fields: [{name: VP_SEL, description: "Non inverted input selection", bitOffset: 2, bitWidth: 2}]}
      # SVD bug: OR register missing (all reserved, present in all H7/H5 RMs at offset 0x0C)
      - {type: patchRegisters, registers: [{name: OR, displayName: OR, description: "OPAMP option register", addressOffset: 12, size: 32, access: read-write, resetValue: 0}]}
  LPTIM:
    from: STM32U031.LPTIM1
    interrupts:
      LPTIM1: INTR
      LPTIM2: INTR2
      LP_Timer1: INTR
    params:
      - {name: max_channel, type: int, default: 0, max: 3, description: Highest CC channel index (0=CCR1 only, 1=CCR1+CCR2, 3=CCR1-CCR4)}
      - {name: has_counter_reset, type: bool, default: true, description: COUNTRST/RSTARE in CR}
      - {name: has_repetition, type: bool, default: true, description: RCR register and UE/REPOK status bits}
      - {name: has_cfgr2, type: bool, default: true, description: CFGR2 input selection register}
      - {name: or_type, type: int, default: 0, max: 2, description: "OR register variant (0=none, 1=L4 2-bit option, 2=G4 6-bit input mux)"}
    transforms:
      # Widen TRIGSEL from 3-bit to 4-bit (G4 has 16 trigger sources)
      - {type: patchFields, register: CFGR, fields: [{name: TRIGSEL, bitWidth: 4}]}
      # Add OR register variants at offset 0x20 (G4 input-mux layout, L4 generic option bits)
      - type: patchRegisters
        registers:
          - name: OR_INMUX
            displayName: OR_INMUX
            description: Option register [input mux variant]
            addressOffset: 32
            size: 32
            access: read-write
            resetValue: 0
            fields:
              - {name: IN1, description: LPTIM input 1 mux, bitOffset: 0, bitWidth: 1}
              - {name: IN2, description: LPTIM input 2 mux, bitOffset: 1, bitWidth: 1}
              - {name: IN1_2_1, description: LPTIM input 1 extended mux, bitOffset: 2, bitWidth: 2}
              - {name: IN2_2_1, description: LPTIM input 2 extended mux, bitOffset: 4, bitWidth: 2}
          - name: OR_OPTION
            displayName: OR_OPTION
            description: Option register [generic option bits variant]
            alternateRegister: OR_INMUX
            addressOffset: 32
            size: 32
            access: read-write
            resetValue: 0
            fields:
              - {name: OR_0, description: Option register bit 0, bitOffset: 0, bitWidth: 1}
              - {name: OR_1, description: Option register bit 1, bitOffset: 1, bitWidth: 1}
  TimerV1:
    # Classic timer (V1 layout): DCR@0x48, CCR5@0x58
    # Unified GP + AdvCtrl. Families: F4, F7, H7, C0, G0, U0, L4, L4P, L5, L0, L1
    from: STM32H723.TIM1
    interrupts:
      TIM2: {name: INTR, description: Global interrupt}
      TIM1_BRK: BRK
      TIM1_UP: UP
      TIM1_TRG_COM: TRG_COM
      TIM1_CC: CC
      TIM_CC: CC
      TIM1_BRK_TIM9: BRK
      TIM1_UP_TIM10: UP
      TIM1_TRG_COM_TIM11: TRG_COM
      TIM1_BRK_UP_TRG_COM: BRK_UP_TRG_COM
      TIM1_BRK_TIM15: BRK
      TIM1_UP_TIM16: UP
      TIM1_TRG_COM_TIM17: TRG_COM
    params:
      - {name: width32, type: bool, default: false, description: 32-bit counter width}
      - {name: max_channel, type: int, default: 3, max: 5, description: Highest capture/compare channel index (0-5)}
      - {name: has_centerPWM, type: bool, default: true, description: Center-aligned PWM (CMS/DIR in CR1)}
      - {name: encoder, type: int, default: 0, max: 1, description: 'Encoder level: 0=none 1=basic'}
      - {name: has_xor_input, type: bool, default: true, description: TI1S XOR (Hall sensor)}
      - {name: has_etr, type: bool, default: true, description: External trigger input (ETF/ETPS/ECE/ETP)}
      - {name: has_dma_burst, type: bool, default: true, description: DMA burst transfer (DCR/DMAR)}
      - {name: has_complementary, type: bool, default: false, description: Complementary output (BDTR/RCR/break/dead-time)}
      - {name: has_uifremap, type: bool, default: false, description: UIF remap (UIFREMAP in CR1)}
      - {name: has_extended_ocm, type: bool, default: false, description: Extended OC mode (OC1M_3 etc.)}
      - {name: has_mms2, type: bool, default: false, description: Master mode selection 2 (MMS2 in CR2)}
    transforms:
      # Fix H7 SVD naming inconsistency: OC4M_4 should be OC4M_3
      - {type: renameFields, register: CCMR2_Output, pattern: ^OC4M_4$, replacement: OC4M_3}
      # Widen counter/compare fields to 32-bit (TIM1 source has 16-bit)
      - {type: patchFields, register: CNT, fields: [{name: CNT, bitWidth: 31}]}
      - {type: patchFields, register: ARR, fields: [{name: ARR, bitWidth: 32}]}
      - {type: patchFields, register: CCR1, fields: [{name: CCR1, bitWidth: 32}]}
      - {type: patchFields, register: CCR2, fields: [{name: CCR2, bitWidth: 32}]}
      - {type: patchFields, register: CCR3, fields: [{name: CCR3, bitWidth: 32}]}
      - {type: patchFields, register: CCR4, fields: [{name: CCR4, bitWidth: 32}]}
      # Add OCCS to SMCR (GP-only, bit 3, reserved on AdvCtrl hardware)
      - {type: patchFields, register: SMCR, fields: [{name: OCCS, description: OCREF clear selection, bitOffset: 3, bitWidth: 1}]}
      # Widen DMAR DMAB field from 16-bit to 32-bit
      - {type: patchFields, register: DMAR, fields: [{name: DMAB, bitWidth: 32}]}
      # Fix RCR REP field: SVD has 8-bit, RM says 16-bit for TIM1/TIM8
      - {type: patchFields, register: RCR, fields: [{name: REP, bitWidth: 16}]}
  ModernSPI:
    # Modern SPI/I2S: split TX/RX data registers, CFG1/CFG2 configuration
    # Families: H5, H7, H7RS, N6, U3, U5
    from: STM32N645.SPI1
    interrupts:
      SPI1: INTR
    params:
      - {name: has_tser, type: bool, default: false, description: 'TSER transfer reload (H7): TSER in CR2, TSERFIE/TSERF/TSERFC, UDRDET/UDRCFG widened in CFG1'}
      - {name: has_autocr, type: bool, default: false, description: 'Autonomous mode (AUTOCR register at 0x1C)'}
      - {name: has_i2s, type: bool, default: false, description: 'I2S audio capability (per-instance)'}
    transforms:
      # H7: TSER field in CR2 for transfer extension reload
      - type: patchFields
        register: CR2
        fields:
          - {name: TSER, description: Number of data transfer extension to be reload into TSIZE, bitOffset: 16, bitWidth: 16, access: read-only}
      # H7: widen UDRCFG from 1-bit to 2-bit and add UDRDET
      - type: patchFields
        register: CFG1
        fields:
          - {name: UDRCFG, bitWidth: 2}
          - {name: UDRDET, description: Detection of underrun condition at slave transmitter, bitOffset: 11, bitWidth: 2}
      # H7: TSERFIE in IER
      - type: patchFields
        register: IER
        fields:
          - {name: TSERFIE, description: Additional number of transactions reload interrupt enable, bitOffset: 10, bitWidth: 1}
      # H7: TSERF in SR
      - type: patchFields
        register: SR
        fields:
          - {name: TSERF, description: Additional number of SPI data to be transacted was reload, bitOffset: 10, bitWidth: 1}
      # H7: TSERFC in IFCR
      - type: patchFields
        register: IFCR
        fields:
          - {name: TSERFC, description: TSERFC flag clear, bitOffset: 10, bitWidth: 1}
      # U3/U5: AUTOCR register for autonomous mode
      - type: patchRegisters
        registers:
          - name: AUTOCR
            displayName: AUTOCR
            description: Autonomous mode control register
            addressOffset: 28
            size: 32
            access: read-write
            resetValue: 0
            fields:
              - {name: TRIGSEL, description: Trigger selection, bitOffset: 16, bitWidth: 4}
              - {name: TRIGPOL, description: Trigger polarity, bitOffset: 20, bitWidth: 1}
              - {name: TRIGEN, description: Hardware control of CSTART triggering enable, bitOffset: 21, bitWidth: 1}
  LegacySPI:
    # Legacy SPI/I2S: single data register, CR1/CR2/SR/DR architecture
    # Families: C0, F3, F4, F7, G0, G4, L0, L1, L4, L4P, L5, U0
    from: STM32G030.SPI1
    interrupts:
      SPI1: INTR
      SPI3: INTR
    params:
      - {name: has_fifo, type: bool, default: true, description: 'FIFO capability (DS/FRXTH/LDMA_RX/LDMA_TX/NSSP in CR2, FRLVL/FTLVL in SR)'}
      - {name: has_i2s, type: bool, default: false, description: 'I2S audio capability (per-instance)'}
      - {name: has_astrten, type: bool, default: false, description: 'Asynchronous start enable (ASTRTEN in I2SCFGR)'}
    transforms:
      # Fix G0 SVD typo: SE2 should be I2SE
      - {type: renameFields, register: I2SCFGR, pattern: ^SE2$, replacement: I2SE}
      # Add ASTRTEN field (C0 and possibly others)
      - type: patchFields
        register: I2SCFGR
        fields:
          - {name: ASTRTEN, description: Asynchronous start enable, bitOffset: 12, bitWidth: 1}
  SAI:
    # Serial Audio Interface: dual audio block (A/B) with optional GCR, PDM
    # Families: F4, F7, G4, H5, H7, H7RS, L4, L4P, L5, N6, U3, U5
    from: STM32U535.SAI1
    interrupts:
      SAI1: INTR
      SAI1_A: A
      SAI1_B: B
    params:
      - {name: has_gcr, type: bool, default: true, description: 'GCR register (inter-SAI synchronization)'}
      - {name: has_pdm, type: bool, default: false, description: 'PDM support (PDMCR/PDMDLY registers + OSR in xCR1)'}
      - {name: has_mcken, type: bool, default: false, description: 'Master clock enable (MCKEN + 6-bit MCKDIV in xCR1)'}
    transforms:
      # Normalize enable field names to generic SAIXEN
      - {type: renameFields, register: ACR1, pattern: ^SAIAEN$, replacement: SAIXEN}
      - {type: renameFields, register: BCR1, pattern: ^SAIAEN$, replacement: SAIXEN}
      # Fix truncated counter name
      - {type: renameFields, register: ACR2, pattern: ^MUTECN$, replacement: MUTECNT}
      - {type: renameFields, register: BCR2, pattern: ^MUTECN$, replacement: MUTECNT}
  GPIO:
    # General Purpose I/O: standard GPIO port with optional BRR, HSLVR, SECCFGR
    # Families: all except N6 (N6 has 20+ extended registers)
    from: STM32U375.GPIOA
    params:
      - {name: has_brr, type: bool, default: true, description: 'BRR register (port bit reset)'}
      - {name: has_hslvr, type: bool, default: false, description: 'HSLVR register (high-speed low-voltage)'}
      - {name: has_seccfgr, type: bool, default: false, description: 'SECCFGR register (security configuration)'}
  QUADSPI:
    # Quad-SPI flash memory interface
    # Families: F4, F7, G4, H7, L4
    from: STM32F412.QUADSPI
    interrupts:
      QUADSPI: INTR
  OCTOSPI:
    # Octo-SPI flash memory interface
    # Families: H5, H7, L5, U3, U5 (L4P has different IP variants, stays family-specific)
    from: STM32U5Fx.OCTOSPI1
    interrupts:
      OCTOSPI1: INTR
    params:
      - {name: has_maxtran, type: bool, default: false, description: 'DCR3 maximum transfer field'}
  SPDIFRX:
    # S/PDIF audio receiver interface
    # Families: F4, F7, H7, H7RS, N6
    from: STM32N645.SPDIFRX
    interrupts:
      SPDIFRX: INTR
      SPDIF_Rx: INTR
      SPDIF: INTR
      SPDIF_RX: INTR
    params:
      - {name: has_symbol_clock, type: bool, default: true, description: 'CR symbol clock fields (CKSEN, CKSBKPEN)'}
  CORDIC:
    # CORDIC co-processor: G4, H5, H7, H7RS, U5
    from: STM32H562.CORDIC
    interrupts:
      Cordic: INTR
      CORDIC_IT: INTR
      CORDIC: INTR
  FMAC:
    # Filter Math Accelerator: G4, H5, H7, U5
    from: STM32H723.FMAC
    interrupts:
      FMAC: INTR
  MDIOS:
    # Management Data Input/Output Slave: F7, H7, H7RS, N6
    from: STM32H723.MDIOS
    interrupts:
      MDIOS_WKUP: WKUP
      MDIOS: INTR
  OTG_HS_PWRCLK:
    # USB OTG HS power and clock: F4, F7, H7
    from: STM32H723.OTG1_HS_PWRCLK
    transforms:
      - {type: renameRegisters, pattern: ^OTG_HS_, replacement: ''}
    interrupts:
      OTG_HS_WKUP: INTR
  OTG_FS_PWRCLK:
    # USB OTG FS power and clock: F4, F7, L4, L4P
    from: STM32F722.OTG_FS_PWRCLK
    transforms:
      - {type: renameRegisters, pattern: ^OTG_FS_, replacement: ''}
    interrupts:
      OTG_FS_WKUP: INTR
  CRC:
    # CRC calculation unit (modern IP with INIT/POL): all except F3, F4, L1
    from: STM32U375.CRC
    params:
      - {name: idr32, type: bool, default: true, description: 'IDR register is 32-bit (false = 8-bit)'}
      - {name: has_rtype, type: bool, default: false, description: 'CR register includes RTYPE_IN and RTYPE_OUT reversal type fields'}
  CRS:
    # Clock Recovery System: C0, G4, H5, H7, H7RS, L0, L4, L4P, L5, U0, U3, U5
    from: STM32U375.CRS
    interrupts:
      CRS: INTR
    params:
      - {name: trim_width, type: int, default: 6, description: 'TRIM field width in CR register (6 or 7 bits)'}
  PSSI:
    # Parallel Synchronous Slave Interface: H5, H7, H7RS, N6, U5
    from: STM32H7S.PSSI
    interrupts:
      PSSI: INTR
    params:
      - {name: has_cksrc, type: bool, default: false, description: 'CKSRC field in CR for clock source selection'}
  CEC:
    # Gen2 HDMI-CEC: F4, F7, G0, H7, H7RS (F3 Gen1 stays separate)
    from: STM32H723.CEC
    interrupts:
      CEC: INTR
      HDMI_CEC: INTR
  DCMI:
    # Digital Camera Interface: F4, F7, H5, H7, L4, L4P, N6, U5
    from: STM32H723.DCMI
    interrupts:
      DCMI: INTR
      DCMI_PSSI: INTR
    params:
      - {name: has_pixel_select, type: bool, default: true, description: 'BSM/OEBS/LSM/OELS fields in CR for byte/line selection'}
  bxCAN:
    # Basic Extended CAN: F3, F4, F7, L4, L4P
    from: STM32F446.CAN1
    interrupts:
      CAN1_TX: TX
      CAN1_RX0: RX0
      CAN1_RX1: RX1
      CAN1_SCE: SCE
      USB_HP_CAN_TX: CAN_TX
      USB_LP_CAN_RX0: CAN_RX0
      CAN_RX1: RX1
      CAN_SCE: SCE
    params:
      - {name: filter_banks, type: int, default: 28, description: 'Number of CAN filter banks (14 or 28)'}
      - {name: linked_to_slave, type: string, default: '', description: Instance name of slave CAN sharing this master filter banks}
      - {name: linked_to_master, type: string, default: '', description: Instance name of master CAN whose filter banks this slave uses}
families:
  C0:
    svd:
      zip: stm32c0-svd.zip
      version: "1.5"
      date: "2025-07-22"
    subfamilies:
      C0xx:
        ref_manual:
          name: RM0490
          url: https://www.st.com/resource/en/reference_manual/rm0490-stm32c0-series-advanced-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '5'
          date: 2024-12
        chips:
          - STM32C011
          - STM32C031
          - STM32C051
          - STM32C071
          - STM32C091
          - STM32C092
    blocks:
      ADC:
        from: STM32C071.ADC
        instances: [ADC]
        interrupts:
          ADC: INTR
        params:
          - {name: ext_channels, type: int, default: 19, max: 19, description: Number of external input channels}
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      DBGMCU:
        from: STM32C071.DBG
        instances: [DBG]
      DMA:
        from: STM32C071.DMA
        instances: [DMA]
        interrupts:
          DMA1_Channel1: Channel1
          DMA1_Channel2_3: Channel2_3
        params:
          - {name: channels, type: int, default: 5, max: 5, description: Number of DMA channels}
      DMAMUX:
        from: STM32C071.DMAMUX
        instances: [DMAMUX]
        interrupts:
          DMAMUX_DMA1_Channel4_5: INTR
        params:
          - {name: channels, type: int, default: 5, max: 5, description: Number of DMA request multiplexer channels}
      EXTI:
        from: STM32C071.EXTI
        instances: [EXTI]
        interrupts:
          PVM: PVM
          EXTI0_1: INTR0_1
          EXTI2_3: INTR2_3
          EXTI4_15: INTR4_15
      FDCAN:
        from: STM32C092.FDCAN
        instances: [FDCAN]
        interrupts:
          FDCAN_IT0: IT0
          FDCAN_IT1: IT1
      Flash:
        from: STM32C071.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
        params:
          - {name: pages, type: int, max: 128, description: Number of flash memory pages}
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOF]
      Timer:
        uses: TimerV1
        instances: [TIM1, TIM14, TIM15, TIM16, TIM17, TIM2, TIM3]
      I2C:
        uses: I2C
        instances: [I2C, I2C1, I2C2]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      PWR:
        from: STM32C071.PWR
        instances: [PWR]
      RCC:
        from: STM32C071.RCC
        instances: [RCC]
        interrupts:
          RCC_CRS: INTR
      RTC:
        from: STM32C011.RTC
        instances: [RTC]
        interrupts:
          RTC: INTR
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2]
      SYSCFG:
        from: STM32C071.SYSCFG
        instances: [SYSCFG]
      USART:
        uses: USART
        instances: [USART1, USART2, USART3, USART4]
      USB:
        from: STM32C071.USB
        instances: [USB]
        interrupts:
          USB: INTR
      WWDG:
        uses: WWDG
        instances: [WWDG]
    chip_params:
      _all:
        _all:
          WWDG: {cfr_version: 2}
          SPI: {has_astrten: true}
          CRS: {trim_width: 7}
          SPI1: {has_i2s: true}
          USART2: {synchronous: 1, has_fifo: false, has_wakeup: false}
          USART3: {synchronous: 1, has_fifo: false, has_wakeup: false}
          USART4: {synchronous: 1, has_fifo: false, has_wakeup: false}
          TIM2: {width32: true, encoder: 1}
          TIM14: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM3: {encoder: 1}
      C0xx:
        STM32C011:
          ADC: {ext_channels: 13}
          DMA: {channels: 3}
          DMAMUX: {channels: 3}
          Flash: {pages: 16}
        STM32C031:
          ADC: {ext_channels: 13}
          DMA: {channels: 3}
          DMAMUX: {channels: 3}
          Flash: {pages: 16}
        STM32C051:
          Flash: {pages: 32}
        STM32C071:
          Flash: {pages: 64}
        STM32C091:
          Flash: {pages: 128}
        STM32C092:
          Flash: {pages: 128}
  F3:
    svd:
      zip: stm32f3-svd.zip
      version: "1.3"
      date: "2023-03-28"
    subfamilies:
      F301:
        ref_manual: {name: RM0366, url: https://www.st.com/resource/en/reference_manual/rm0366-stm32f301x68-and-stm32f318x8-advanced-armbased-32bit-mcus-stmicroelectronics.pdf}
        chips:
          - STM32F301
      F302:
        ref_manual: {name: RM0365, url: https://www.st.com/resource/en/reference_manual/rm0365-stm32f302xbcde-and-stm32f302x68-advanced-armbased-32bit-mcus-stmicroelectronics.pdf}
        chips:
          - STM32F302
      F303:
        ref_manual: {name: RM0316, url: https://www.st.com/resource/en/reference_manual/dm00043574-stm32f303xb-c-d-e-stm32f303x6-8-stm32f328x8-stm32f358xc-stm32f398xe-advanced-arm-based-mcus-stmicroelectronics.pdf}
        chips:
          - STM32F303
          - STM32F3x8
      F37x:
        ref_manual: {name: RM0313, url: https://www.st.com/resource/en/reference_manual/rm0313-stm32f37xxx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf}
        chips:
          - STM32F373
      F334:
        ref_manual: {name: RM0364, url: https://www.st.com/resource/en/reference_manual/rm0364-stm32f334xx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf}
        chips:
          - STM32F3x4
    blocks:
      ADC:
        instances: [ADC, ADC1, ADC2, ADC3, ADC4]
        interrupts:
          ADC1_IRQ: INTR
        variants:
          F301:
            from: STM32F301.ADC
          F302:
            from: STM32F302.ADC1
          F303:
            from: STM32F303.ADC1
          F37x:
            from: STM32F373.ADC
          F334:
            from: STM32F3x4.ADC1
      ADC_Common:
        instances: [ADC1_2, ADC3_4, ADC_Common]
        interrupts:
          ADC1_2: INTR
        variants:
          F302:
            from: STM32F302.ADC1_2
          F303:
            from: STM32F303.ADC1_2
          F334:
            from: STM32F3x4.ADC_Common
            transforms:
              - {type: renameRegisters, pattern: ^ADC1_, replacement: ''}
      AdvCtrlTimer:
        instances: [TIM1, TIM20, TIM8]
        interrupts:
          TIM1_BRK_TIM15: BRK
          TIM1_UP_TIM16: UP
          TIM1_TRG_COM_TIM17: TRG
        variants:
          F301:
            from: STM32F301.TIM1
          F302:
            from: STM32F302.TIM1
          F303:
            from: STM32F303.TIM1
          F334:
            from: STM32F3x4.TIM1
      BasicTimer:
        uses: BasicTimer
        instances: [TIM18, TIM6, TIM7]
        interrupts:
          TIM6_DAC1: INTR
      CEC:
        from: STM32F373.CEC
        instances: [CEC]
        interrupts:
          CEC: INTR
      CRC:
        from: STM32F301.CRC
        instances: [CRC]
      DAC:
        instances: [DAC, DAC1, DAC2]
        variants:
          F301:
            from: STM32F301.DAC1
          F302:
            from: STM32F302.DAC
          F303:
            from: STM32F303.DAC
          F37x:
            from: STM32F373.DAC1
          F334:
            from: STM32F3x4.DAC1
      DBGMCU:
        from: STM32F301.DBGMCU
        instances: [DBGMCU]
      DMA:
        from: STM32F301.DMA1
        instances: [DMA1, DMA2]
        interrupts:
          DMA1_CH1: CH1
          DMA1_CH2: CH2
          DMA1_CH3: CH3
          DMA1_CH4: CH4
          DMA1_CH5: CH5
          DMA1_CH6: CH6
          DMA1_CH7: CH7
      EXTI:
        instances: [EXTI]
        interrupts:
          PVD_IRQ: PVD_IRQ
          TAMP: TAMP
          EXTI0_IRQ: IT0
          EXTI1_IRQ: IT1
          EXTI2_RI_IRQ: IT2
          EXTI3_IRQ: IT3
          EXTI4_IRQ: IT4
          EXTI5_9_IRQ: IT5_9
          EXTI15_10_IRQ: IT15_10
          COMP2_IRQ: COMP2
          COMP4_6_IRQ: COMP4_6
        variants:
          F301:
            from: STM32F301.EXTI
          F302:
            from: STM32F302.EXTI
          F303:
            from: STM32F303.EXTI
          F37x:
            from: STM32F373.EXTI
          F334:
            from: STM32F3x4.EXTI
      FMC:
        from: STM32F302.FMC
        instances: [FMC]
        interrupts:
          FMC: INTR
      Flash:
        instances: [Flash]
        interrupts:
          FLASH: INTR
        variants:
          F301:
            from: STM32F301.Flash
          F302:
            from: STM32F302.Flash
          F303:
            from: STM32F303.Flash
          F37x:
            from: STM32F373.Flash
          F334:
            from: STM32F3x4.Flash
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH]
      Timer:
        uses: TimerV1
        instances: [TIM12, TIM13, TIM14, TIM15, TIM16, TIM17, TIM19, TIM2, TIM3, TIM4, TIM5]
      HRTIM_Common:
        from: STM32F3x4.HRTIM_Common
        instances: [HRTIM_Common]
        interrupts:
          HRTIM1_FLT: INTR
      HRTIM_Master:
        from: STM32F3x4.HRTIM_Master
        instances: [HRTIM_Master]
        interrupts:
          HRTIM1_MST: INTR
      HRTIM_Timer:
        from: STM32F3x4.HRTIM_TIMA
        instances: [HRTIM_TIMA, HRTIM_TIMB, HRTIM_TIMC, HRTIM_TIMD, HRTIM_TIME]
        interrupts:
          HRTIM1_TIMA: INTR
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      PWR:
        instances: [PWR]
        interrupts:
          PVD: INTR
        variants:
          F301:
            from: STM32F301.PWR
          F302:
            from: STM32F302.PWR
          F303:
            from: STM32F303.PWR
          F37x:
            from: STM32F373.PWR
          F334:
            from: STM32F3x4.PWR
      RCC:
        instances: [RCC]
        interrupts:
          RCC: INTR
        variants:
          F301:
            from: STM32F301.RCC
          F302:
            from: STM32F302.RCC
          F303:
            from: STM32F303.RCC
          F37x:
            from: STM32F373.RCC
          F334:
            from: STM32F3x4.RCC
      RTC:
        instances: [RTC]
        interrupts:
          RTC_WKUP_IRQ: WKUP
          RTC_ALARM_IT_IRQ: ALARM
        variants:
          F301:
            from: STM32F301.RTC
          F302:
            from: STM32F302.RTC
          F303:
            from: STM32F303.RTC
          F37x:
            from: STM32F373.RTC
          F334:
            from: STM32F3x4.RTC
      SDADC:
        from: STM32F373.SDADC1
        instances: [SDADC1, SDADC2, SDADC3]
        interrupts:
          SDADC1: INTR
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2, SPI3, SPI4]
      SYSCFG:
        instances: [SYSCFG_COMP_OPAMP]
        interrupts:
          COMP123: COMP123
          COMP456: COMP456
          COMP7: COMP7
        variants:
          F301:
            from: STM32F301.SYSCFG_COMP_OPAMP
          F302:
            from: STM32F302.SYSCFG_COMP_OPAMP
          F303:
            from: STM32F303.SYSCFG_COMP_OPAMP
          F37x:
            from: STM32F373.SYSCFG_COMP_OPAMP
          F334:
            from: STM32F3x4.SYSCFG_COMP_OPAMP
      TSC:
        instances: [TSC]
        interrupts:
          EXTI2_TSC: INTR
        variants:
          F301:
            from: STM32F301.TSC
          F302:
            from: STM32F302.TSC
          F303:
            from: STM32F303.TSC
          F37x:
            from: STM32F373.TSC
          F334:
            from: STM32F3x4.TSC
      USART:
        uses: USART
        instances: [UART4, UART5, USART1, USART2, USART3]
      USB:
        from: STM32F373.USB
        instances: [USB, USB_FS]
        interrupts:
          USB_HP: HP
          USB_LP: LP
          USB_WAKEUP: WAKEUP
      WWDG:
        uses: WWDG
        instances: [WWDG]
      bxCAN:
        uses: bxCAN
        instances: [CAN]
    chip_params:
      _all:
        _all:
          USART: {has_fifo: false, synchronous: 2}
          DCMI: {has_pixel_select: false}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          SPI2: {has_i2s: true}
          SPI3: {has_i2s: true}
          TIM2: {width32: true, encoder: 1}
          TIM5: {width32: true, encoder: 1}
          TIM12: {max_channel: 1, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM13: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM14: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM3: {encoder: 1}
          TIM4: {encoder: 1}
          TIM19: {encoder: 1}
      F37x:
        _all:
          SPI1: {has_i2s: true}
      F334:
        _all:
          SPI2: {has_i2s: false}
          SPI3: {has_i2s: false}
  F4:
    svd:
      zip: stm32f4-svd.zip
      version: "2.0"
      date: "2024-02-12"
    subfamilies:
      F401:
        ref_manual: {name: RM0368, url: https://www.st.com/resource/en/reference_manual/rm0368-stm32f401xbc-and-stm32f401xde-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '6', date: 2025-01}
        chips:
          - STM32F401
      F410:
        ref_manual: {name: RM0401, url: https://www.st.com/resource/en/reference_manual/rm0401-stm32f410-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '4', date: 2025-02}
        chips:
          - STM32F410
      F411:
        ref_manual: {name: RM0383, url: https://www.st.com/resource/en/reference_manual/rm0383-stm32f411xce-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '4', date: 2025-05}
        chips:
          - STM32F411
      F4x5_F4x7_F42x_F43x:
        ref_manual: {name: RM0090, url: https://www.st.com/resource/en/reference_manual/rm0090-stm32f405415-stm32f407417-stm32f427437-and-stm32f429439-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '21', date: 2024-06}
        chips:
          - STM32F405
          - STM32F407
          - STM32F415
          - STM32F417
          - STM32F427
          - STM32F429
          - STM32F437
          - STM32F439
      F412:
        ref_manual: {name: RM0402, url: https://www.st.com/resource/en/reference_manual/rm0402-stm32f412-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '7', date: 2025-02}
        chips:
          - STM32F412
      F413_F423:
        ref_manual: {name: RM0430, url: https://www.st.com/resource/en/reference_manual/rm0430-stm32f413423-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '9', date: 2024-10}
        chips:
          - STM32F413
          - STM32F423
      F446:
        ref_manual: {name: RM0390, url: https://www.st.com/resource/en/reference_manual/rm0390-stm32f446xx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '9', date: 2026-02}
        chips:
          - STM32F446
      F469_F479:
        ref_manual: {name: RM0386, url: https://www.st.com/resource/en/reference_manual/rm0386-stm32f469xx-and-stm32f479xx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '6', date: 2024-05}
        chips:
          - STM32F469
          - STM32F479
    blocks:
      ADC:
        from: STM32F401.ADC1
        instances: [ADC1, ADC2, ADC3]
        interrupts:
          ADC: INTR
      ADC_Common:
        from: STM32F405.ADC_Common
        instances: [ADC_Common, C_ADC]
        params:
          - {name: multi, type: bool, default: false, description: 'Multi-ADC mode support (MULT field in CCR, CDR register)'}
        transforms:
          - {type: patchAddressBlock, size: 12}
      AES:
        from: STM32F413.AES
        instances: [AES]
        interrupts:
          CRYPTO: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6_DAC1: INTR
      CEC:
        uses: CEC
        instances: [HDMI_CEC]
      CRC:
        from: STM32F401.CRC
        instances: [CRC]
      CRYP:
        uses: CRYP
        instances: [CRYP]
      DAC:
        from: STM32F410.DAC
        instances: [DAC]
        interrupts:
          TIM6_DAC: INTR
      DBGMCU:
        from: STM32F401.DBG
        instances: [DBG]
      DCMI:
        uses: DCMI
        instances: [DCMI]
      DFSDM:
        from: STM32F412.DFSDM
        instances: [DFSDM, DFSDM1, DFSDM2]
        transforms:
          - {type: renameRegisters, pattern: ^DFSDM\d+_, replacement: ''}
        interrupts:
          DFSDM1_FLT0: FLT0
          DFSDM1_FLT1: FLT1
      DMA:
        from: STM32F401.DMA1
        instances: [DMA1, DMA2]
        interrupts:
          DMA1_Stream0: Stream0
          DMA1_Stream1: Stream1
          DMA1_Stream2: Stream2
          DMA1_Stream3: Stream3
          DMA1_Stream4: Stream4
          DMA1_Stream5: Stream5
          DMA1_Stream6: Stream6
          DMA1_Stream7: Stream7
      DMA2D:
        uses: DMA2D
        instances: [DMA2D]
      DSI:
        from: STM32F469.DSIHOST
        instances: [DSIHOST]
      EXTI:
        from: STM32F401.EXTI
        instances: [EXTI]
        interrupts:
          TAMP_STAMP: TAMP_STAMP
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI9_5: INTR9_5
          EXTI15_10: INTR15_10
      Ethernet_DMA:
        from: STM32F405.Ethernet_DMA
        instances: [Ethernet_DMA]
      Ethernet_MAC:
        from: STM32F405.Ethernet_MAC
        instances: [Ethernet_MAC]
        interrupts:
          ETH: IT
          ETH_WKUP: WKUP
      Ethernet_MMC:
        from: STM32F405.Ethernet_MMC
        instances: [Ethernet_MMC]
      Ethernet_PTP:
        from: STM32F405.Ethernet_PTP
        instances: [Ethernet_PTP]
      FMC:
        from: STM32F427.FMC
        instances: [FMC]
        interrupts:
          FMC: INTR
      FMPI2C:
        from: STM32F446.FMPI2C
        instances: [FMPI2C]
        transforms:
          - {type: patchAddressBlock, size: 44}
      FSMC:
        from: STM32F405.FSMC
        instances: [FSMC]
        interrupts:
          FSMC: INTR
      Flash:
        from: STM32F401.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH, GPIOI, GPIOJ, GPIOK]
      Timer:
        uses: TimerV1
        instances: [TIM1, TIM10, TIM11, TIM12, TIM13, TIM14, TIM2, TIM3, TIM4, TIM5, TIM8, TIM9]
      HASH:
        uses: HASH
        instances: [HASH]
        interrupts:
          HASH_RNG: INTR
      I2C:
        from: STM32F429.I2C1
        instances: [I2C1, I2C2, I2C3, I2C4]
        interrupts:
          I2C1_EV: EV
          I2C1_ER: ER
        params:
          - {name: has_noise_filter, type: bool, default: true, description: Digital and analog noise filter (FLTR register)}
      IWDG:
        uses: IWDG
        instances: [IWDG]
      LPTIM:
        uses: LPTIM
        instances: [LPTIM, LPTIM1]
      LTDC:
        from: STM32F429.LTDC
        instances: [LTDC]
        interrupts:
          LCD_TFT: INTR
          LCD_TFT_1: ERROR
      OTG_FS_DEVICE:
        from: STM32F401.OTG_FS_DEVICE
        instances: [OTG_FS_DEVICE]
        interrupts:
          OTG_FS: INTR
        params:
          - {name: has_lpm, type: bool, default: false, description: 'Link Power Management support (ERRATIM in DCFG, DEVLNSTS in DSTS)'}
        transforms:
          - type: patchFields
            register: FS_DCFG
            fields:
              - {name: ERRATIM, description: Erratic error interrupt mask, bitOffset: 15, bitWidth: 1}
          - type: patchFields
            register: FS_DSTS
            fields:
              - {name: DEVLNSTS, description: Device line status, bitOffset: 22, bitWidth: 2}
      OTG_FS_GLOBAL:
        from: STM32F412.OTG_FS_GLOBAL
        instances: [OTG_FS_GLOBAL]
        interrupts:
          OTG_FS_WKUP: WKUP
          OTG_FS: INTR
        params:
          - {name: has_bcd, type: bool, default: true, description: Battery charging detection (BCD fields in GCCFG)}
        transforms:
          - {type: patchAddressBlock, size: 280}
        variants:
          F401:
            from: STM32F429.OTG_FS_GLOBAL
            transforms:
              - {type: patchAddressBlock, size: 272}
          F411:
            from: STM32F429.OTG_FS_GLOBAL
            transforms:
              - {type: patchAddressBlock, size: 272}
          F4x5_F4x7_F42x_F43x:
            from: STM32F429.OTG_FS_GLOBAL
            transforms:
              - {type: patchAddressBlock, size: 272}
      OTG_FS_HOST:
        from: STM32F401.OTG_FS_HOST
        instances: [OTG_FS_HOST]
        variants:
          F446:
            from: STM32F446.OTG_FS_HOST
      OTG_FS_PWRCLK:
        uses: OTG_FS_PWRCLK
        instances: [OTG_FS_PWRCLK]
      OTG_HS_DEVICE:
        from: STM32F405.OTG_HS_DEVICE
        instances: [OTG_HS_DEVICE]
        transforms:
          - {type: renameRegisters, pattern: ^OTG_HS_, replacement: ''}
      OTG_HS_GLOBAL:
        from: STM32F405.OTG_HS_GLOBAL
        instances: [OTG_HS_GLOBAL]
        transforms:
          - {type: renameRegisters, pattern: ^OTG_HS_, replacement: ''}
        interrupts:
          OTG_HS_EP1_OUT: EP1_OUT
          OTG_HS_EP1_IN: EP1_IN
          OTG_HS_WKUP: WKUP
          OTG_HS: INTR
      OTG_HS_HOST:
        from: STM32F405.OTG_HS_HOST
        instances: [OTG_HS_HOST]
        transforms:
          - {type: renameRegisters, pattern: ^OTG_HS_, replacement: ''}
      OTG_HS_PWRCLK:
        uses: OTG_HS_PWRCLK
        instances: [OTG_HS_PWRCLK]
      PWR:
        from: STM32F446.PWR
        instances: [PWR]
        params:
          - {name: power_mode, type: string, description: 'Power mode capability: none (F405/407), lvds (low-voltage deepsleep), overdrive'}
          - {name: has_fmssr, type: bool, default: false, description: Flash Memory Stop / Flash Interface Stop while System Run}
          - {name: wakeup_pins, type: int, default: 1, max: 3, description: 'Number of WKUP pins (1, 2, or 3)'}
        transforms:
      # Fix EWUP naming to numbered convention (RM uses EWUP1 on multi-pin chips)
          - {type: renameFields, register: CSR, pattern: ^EWUP$, replacement: EWUP1}
      # Add EWUP3 (bit 6) for 3-pin chips (F410/F412/F413)
          - type: patchFields
            register: CSR
            fields:
              - {name: EWUP3, description: Enable WKUP3 pin, bitOffset: 6, bitWidth: 1, access: read-write}
      # Clone CR → CR_LVDS (non-OD variant): remove OD-only fields
          - type: cloneRegister
            source: CR
            name: CR_LVDS
            removeFields: [ODEN, ODSWEN, UDEN]
      # Set CR_LVDS resetValue to 0x8000 (VOS=0b10, Scale 2)
          - {type: patchRegisters, registers: [{name: CR_LVDS, resetValue: 32768}]}
      # Rename CR fields to OD names (CR becomes the OD variant)
          - {type: renameFields, register: CR, pattern: LPLVDS, replacement: LPUDS}
          - {type: renameFields, register: CR, pattern: MRLVDS, replacement: MRUDS}
      # Clone CSR → CSR_LVDS (non-OD variant): remove OD status fields
          - type: cloneRegister
            source: CSR
            name: CSR_LVDS
            removeFields: [ODRDY, ODSWRDY, UDRDY]
      # Fix addressBlock size (2 registers × 4 bytes = 8)
          - {type: patchAddressBlock, size: 8}
      QUADSPI:
        uses: QUADSPI
        instances: [QUADSPI]
      RCC:
        instances: [RCC]
        interrupts:
          RCC: INTR
        variants:
          F401:
            from: STM32F401.RCC
          F410:
            from: STM32F410.RCC
          F411:
            from: STM32F411.RCC
          F4x5_F4x7_F42x_F43x:
            from: STM32F429.RCC
          F412:
            from: STM32F412.RCC
          F413_F423:
            from: STM32F413.RCC
          F446:
            from: STM32F446.RCC
          F469_F479:
            from: STM32F469.RCC
      RNG:
        uses: RNG
        instances: [RNG]
      RTC:
        from: STM32F401.RTC
        instances: [RTC]
        interrupts:
          EXTI22_RTC_WKUP: WKUP
          EXTI17_RTC_Alarm: Alarm
        transforms:
          - {type: patchAddressBlock, size: 160}
      SAI:
        uses: SAI
        instances: [SAI, SAI1, SAI2]
      SDIO:
        from: STM32F401.SDIO
        instances: [SDIO]
        interrupts:
          SDIO: INTR
      SPDIFRX:
        uses: SPDIFRX
        instances: [SPDIF_RX]
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2, SPI3, SPI4, SPI5, SPI6]
      SYSCFG:
        from: STM32F401.SYSCFG
        instances: [SYSCFG]
      USART:
        from: STM32F413.UART10
        instances: [UART10, UART4, UART5, UART7, UART8, UART9, USART1, USART2, USART3, USART6]
        interrupts:
          UART5: INTR
        params:
          - {name: synchronous, type: int, default: 2, max: 2, description: 'Synchronous/smartcard capability: 0=none, 2=sync+smartcard'}
      WWDG:
        uses: WWDG
        instances: [WWDG]
      bxCAN:
        uses: bxCAN
        instances: [CAN1, CAN2, CAN3]
    chip_params:
      _all:
        _all:
          IWDG: {gen: 0}
          RNG: {gen: 0}
          UART10: {synchronous: 0}
          DCMI: {has_pixel_select: false}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          UART7: {synchronous: 0}
          UART8: {synchronous: 0}
          UART9: {synchronous: 0}
          SPI: {has_fifo: false}
          SPI2: {has_i2s: true}
          SPI3: {has_i2s: true}
          TIM2: {width32: true, encoder: 1}
          TIM5: {width32: true, encoder: 1}
          TIM9: {max_channel: 1, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM10: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM11: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM12: {max_channel: 1, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM13: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM14: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM1: {max_channel: 5, has_complementary: true, encoder: 1}
          TIM8: {max_channel: 5, has_complementary: true, encoder: 1}
          TIM3: {encoder: 1}
          TIM4: {encoder: 1}
          LPTIM: {has_counter_reset: false, has_repetition: false, has_cfgr2: false}
          GPIO: {has_brr: false}
          PSSI: {has_cksrc: true}
          SAI: {has_gcr: false}
          SPDIFRX: {has_symbol_clock: false}
      F401:
        _all:
          PWR: {power_mode: lvds}
      F410:
        _all:
          SPI1: {has_i2s: true}
          SPI5: {has_i2s: true}
          PWR: {power_mode: lvds, has_fmssr: true, wakeup_pins: 3}
      F411:
        _all:
          SPI1: {has_i2s: true}
          SPI4: {has_i2s: true}
          SPI5: {has_i2s: true}
          PWR: {power_mode: lvds, has_fmssr: true}
      F4x5_F4x7_F42x_F43x:
        STM32F405:
          I2C: {has_noise_filter: false}
          PWR: {power_mode: none}
        STM32F407:
          I2C: {has_noise_filter: false}
          PWR: {power_mode: none}
        STM32F415:
          I2C: {has_noise_filter: false}
          PWR: {power_mode: none}
        STM32F417:
          I2C: {has_noise_filter: false}
          PWR: {power_mode: none}
        _all:
          ADC_Common: {multi: true}
          PWR: {power_mode: overdrive}
      F412:
        _all:
          SPI1: {has_i2s: true}
          SPI4: {has_i2s: true}
          SPI5: {has_i2s: true}
          OTG_FS_DEVICE: {has_lpm: true}
          PWR: {power_mode: lvds, has_fmssr: true, wakeup_pins: 3}
      F413_F423:
        _all:
          SPI1: {has_i2s: true}
          SPI4: {has_i2s: true}
          SPI5: {has_i2s: true}
          OTG_FS_DEVICE: {has_lpm: true}
          PWR: {power_mode: lvds, has_fmssr: true, wakeup_pins: 3}
      F446:
        _all:
          SPI1: {has_i2s: true}
          OTG_FS_DEVICE: {has_lpm: true}
          OTG_FS_GLOBAL: {has_bcd: false}
          ADC_Common: {multi: true}
          SAI: {has_gcr: true}
          PWR: {power_mode: overdrive, has_fmssr: true, wakeup_pins: 2}
      F469_F479:
        _all:
          OTG_FS_DEVICE: {has_lpm: true}
          OTG_FS_GLOBAL: {has_bcd: false}
          ADC_Common: {multi: true}
          PWR: {power_mode: overdrive}
    chip_interrupts:
      _all:
        _all:
          SPDIF_RX: {INTR: 94}
  F7:
    svd:
      zip: stm32f7-svd.zip
      version: "1.0"
      date: "2023-03-22"
    subfamilies:
      F72x_F73x:
        ref_manual: {name: RM0431, url: https://www.st.com/resource/en/reference_manual/rm0431-stm32f72xxx-and-stm32f73xxx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '4', date: 2025-02}
        chips:
          - STM32F722
          - STM32F723
          - STM32F730
          - STM32F732
          - STM32F733
      F74x_F75x:
        ref_manual: {name: RM0385, url: https://www.st.com/resource/en/reference_manual/rm0385-stm32f75xxx-and-stm32f74xxx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '9', date: 2025-02}
        chips:
          - STM32F745
          - STM32F746
          - STM32F750
          - STM32F756
      F76x_F77x:
        ref_manual: {name: RM0410, url: https://www.st.com/resource/en/reference_manual/rm0410-stm32f76xxx-and-stm32f77xxx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '5', date: 2024-07}
        chips:
          - STM32F765
          - STM32F767
          - STM32F768
          - STM32F769
          - STM32F777
          - STM32F778
          - STM32F779
    blocks:
      ADC:
        from: STM32F722.ADC1
        instances: [ADC1, ADC2, ADC3]
        interrupts:
          ADC: INTR
      ADC_Common:
        from: STM32F722.C_ADC
        instances: [ADC_Common, C_ADC]
        interrupts:
          ADC: INTR
        transforms:
          - {type: renameFields, register: CCR, pattern: ^MULT$, replacement: MULTI}
          - {type: patchAddressBlock, size: 12}
      AES:
        from: STM32F730.AES
        instances: [AES]
        interrupts:
          AES: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6_DAC: INTR
      CEC:
        uses: CEC
        instances: [CEC]
      CRC:
        uses: CRC
        instances: [CRC]
      CRYP:
        uses: CRYP
        instances: [CRYP]
      DAC:
        from: STM32F722.DAC
        instances: [DAC]
      DBGMCU:
        from: STM32F745.DBG
        instances: [DBG, DBGMCU]
        interrupts:
          FPU: INTR
        transforms:
          - {type: renameFields, register: APB1_FZ, pattern: ^DBG_J2C, replacement: DBG_I2C}
          - {type: renameFields, register: APB1_FZ, pattern: ^DBG_IWDEG_STOP$, replacement: DBG_IWDG_STOP}
          - {type: renameFields, register: APB1_FZ, pattern: ^DBG_I2C3SMBUS, replacement: DBG_I2C3_SMBUS}
          - type: patchFields
            register: APB1_FZ
            fields:
              - {name: DBG_LPTIM1_STOP, bitOffset: 9, bitWidth: 1}
              - {name: DBG_CAN3_STOP, bitOffset: 13, bitWidth: 1}
              - {name: DBG_I2C4_SMBUS_TIMEOUT, bitOffset: 24, bitWidth: 1}
      DCMI:
        uses: DCMI
        instances: [DCMI]
      DFSDM:
        from: STM32F767.DFSDM
        instances: [DFSDM]
        transforms:
          - {type: renameRegisters, pattern: ^DFSDM\d+_, replacement: ''}
        interrupts:
          DFSDM1_FLT0: FLT0
          DFSDM1_FLT1: FLT1
          DFSDM1_FLT2: FLT2
          DFSDM1_FLT3: FLT3
      DMA:
        from: STM32F722.DMA1
        instances: [DMA1, DMA2]
        interrupts:
          DMA1_Stream0: Stream0
          DMA1_Stream1: Stream1
          DMA1_Stream2: Stream2
          DMA1_Stream3: Stream3
          DMA1_Stream4: Stream4
          DMA1_Stream5: Stream5
          DMA1_Stream6: Stream6
          DMA1_Stream7: Stream7
        params:
          - {name: channel_count, type: int, max: 16, description: Number of DMA request channels per stream}
        transforms:
          - {type: patchFields, register: S0CR, fields: [{name: CHSEL, bitWidth: 4}]}
          - {type: patchFields, register: S1CR, fields: [{name: CHSEL, bitWidth: 4}]}
          - {type: patchFields, register: S2CR, fields: [{name: CHSEL, bitWidth: 4}]}
          - {type: patchFields, register: S3CR, fields: [{name: CHSEL, bitWidth: 4}]}
          - {type: patchFields, register: S4CR, fields: [{name: CHSEL, bitWidth: 4}]}
          - {type: patchFields, register: S5CR, fields: [{name: CHSEL, bitWidth: 4}]}
          - {type: patchFields, register: S6CR, fields: [{name: CHSEL, bitWidth: 4}]}
          - {type: patchFields, register: S7CR, fields: [{name: CHSEL, bitWidth: 4}]}
      DMA2D:
        uses: DMA2D
        instances: [DMA2D]
      DSI:
        from: STM32F767.DSI
        instances: [DSI]
        interrupts:
          DSIHOST: INTR
      EXTI:
        from: STM32F722.EXTI
        instances: [EXTI]
        interrupts:
          TAMP_STAMP: TAMP_STAMP
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
        transforms:
          - {type: renameFields, register: IMR, pattern: ^MI9$, replacement: IM9}
      Ethernet_DMA:
        from: STM32F745.Ethernet_DMA
        instances: [Ethernet_DMA]
        interrupts:
          ETH: INTR
          ETH_WKUP: ETH_WKUP
      Ethernet_MAC:
        from: STM32F745.Ethernet_MAC
        instances: [Ethernet_MAC]
        interrupts:
          ETH: INTR
          ETH_WKUP: ETH_WKUP
      Ethernet_MMC:
        from: STM32F745.Ethernet_MMC
        instances: [Ethernet_MMC]
      Ethernet_PTP:
        from: STM32F745.Ethernet_PTP
        instances: [Ethernet_PTP]
      FMC:
        from: STM32F722.FMC
        instances: [FMC]
        interrupts:
          FSMC: INTR
        transforms:
          - type: patchFields
            register: SDSR
            fields:
              - {name: RE, description: Refresh error flag, bitOffset: 0, bitWidth: 1, access: read-only}
      Flash:
        from: STM32F767.FLASH
        instances: [FLASH, Flash]
        interrupts:
          FLASH: INTR
        params:
          - {name: has_pcrop, type: bool, default: false, description: 'PCROP protection support (RDERR, RDERRIE, OPTCR2)'}
          - {name: has_dual_bank, type: bool, default: false, description: 'Dual-bank Flash support (MER2, nDBOOT, nDBANK)'}
        transforms:
          - {type: renameFields, register: SR, pattern: ^PGSERR$, replacement: ERSERR}
          - {type: renameFields, register: OPTKEYR, pattern: ^OPTKEY$, replacement: OPTKEYR}
          - {type: renameFields, register: CR, pattern: ^MER1$, replacement: MER2}
          - type: patchFields
            register: SR
            fields:
              - {name: RDERR, description: PCROP protection error, bitOffset: 8, bitWidth: 1, access: read-write}
          - type: patchFields
            register: CR
            fields:
              - {name: RDERRIE, description: PCROP error interrupt enable, bitOffset: 26, bitWidth: 1}
          - type: patchRegisters
            registers:
              - name: OPTCR2
                displayName: OPTCR2
                description: Flash option control register 2
                addressOffset: 28
                size: 32
                access: read-write
                resetValue: 2147483903
                fields:
                  - {name: PCROPi, description: PCROP protection per sector, bitOffset: 0, bitWidth: 8}
                  - {name: PCROP_RDP, description: PCROP zone preserved when RDP level decreased, bitOffset: 31, bitWidth: 1}
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH, GPIOI, GPIOJ, GPIOK]
      Timer:
        uses: TimerV1
        instances: [TIM1, TIM10, TIM11, TIM12, TIM13, TIM14, TIM2, TIM3, TIM4, TIM5, TIM8, TIM9]
      HASH:
        uses: HASH
        instances: [HASH]
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3, I2C4]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      JPEG:
        from: STM32F767.JPEG
        instances: [JPEG]
        interrupts:
          JPEG: INTR
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1]
        interrupts:
          LP_Timer1: INTR
      LTDC:
        from: STM32F767.LTCD
        instances: [LTCD, LTDC]
        interrupts:
          LCD_TFT: INTR
          LCD_TFT_1: ERROR
      MDIOS:
        uses: MDIOS
        instances: [MDIOS]
      OTG_FS_DEVICE:
        from: STM32F722.OTG_FS_DEVICE
        instances: [OTG_FS_DEVICE]
        transforms:
          - {type: renameRegisters, pattern: ^OTG_FS_, replacement: ''}
      OTG_FS_GLOBAL:
        from: STM32F722.OTG_FS_GLOBAL
        instances: [OTG_FS_GLOBAL]
        interrupts:
          OTG_FS: INTR
        transforms:
          - {type: renameRegisters, pattern: ^OTG_FS_, replacement: ''}
      OTG_FS_HOST:
        from: STM32F722.OTG_FS_HOST
        instances: [OTG_FS_HOST]
        interrupts:
          OTG_FS_WKUP: INTR
        transforms:
          - {type: renameRegisters, pattern: ^OTG_FS_, replacement: ''}
      OTG_FS_PWRCLK:
        uses: OTG_FS_PWRCLK
        instances: [OTG_FS_PWRCLK]
      OTG_HS_DEVICE:
        from: STM32F722.OTG_HS_DEVICE
        instances: [OTG_HS_DEVICE]
        transforms:
          - {type: renameRegisters, pattern: ^OTG_HS_, replacement: ''}
      OTG_HS_GLOBAL:
        from: STM32F745.OTG_HS_GLOBAL
        instances: [OTG_HS_GLOBAL]
        interrupts:
          OTG_HS_EP1_OUT: EP1_OUT
          OTG_HS_EP1_IN: EP1_IN
          OTG_HS_WKUP: WKUP
          OTG_HS: INTR
        transforms:
          - {type: renameRegisters, pattern: ^OTG_HS_, replacement: ''}
          - {type: renameRegisters, pattern: ^GNPTXSTS$, replacement: HNPTXSTS}
          - {type: patchRegisters, registers: [name: DIEPTXF8]}
      OTG_HS_HOST:
        from: STM32F722.OTG_HS_HOST
        instances: [OTG_HS_HOST]
        interrupts:
          OTG_FS: INTR
        transforms:
          - {type: renameRegisters, pattern: ^OTG_HS_, replacement: ''}
      OTG_HS_PWRCLK:
        uses: OTG_HS_PWRCLK
        instances: [OTG_HS_PWRCLK]
      PWR:
        from: STM32F767.PWR
        instances: [PWR]
        interrupts:
          PVD: INTR
        params:
          - {name: has_eiwup, type: bool, default: true, description: Internal wakeup line gated by EIWUP bit (false = always enabled)}
        transforms:
          - type: patchFields
            register: CSR1
            fields:
              - {name: EIWUP, description: Enable internal wakeup, bitOffset: 8, bitWidth: 1, access: read-write}
      QUADSPI:
        uses: QUADSPI
        instances: [QUADSPI]
      RCC:
        instances: [RCC]
        interrupts:
          RCC: INTR
        variants:
          F72x_F73x:
            from: STM32F722.RCC
          F74x_F75x:
            from: STM32F745.RCC
          F76x_F77x:
            from: STM32F767.RCC
      RNG:
        uses: RNG
        instances: [RNG]
      RTC:
        from: STM32F722.RTC
        instances: [RTC]
        interrupts:
          RTC_WKUP: WKUP
          RTC_ALARM: ALARM
        transforms:
          - {type: patchFields, register: OR, fields: [{name: TSINSEL, bitWidth: 2}]}
      SAI:
        uses: SAI
        instances: [SAI1, SAI2]
      SDMMC:
        from: STM32F722.SDMMC1
        instances: [SDMMC1, SDMMC2]
        interrupts:
          SDMMC1: INTR
      SPDIFRX:
        uses: SPDIFRX
        instances: [SPDIFRX, SPDIF_RX]
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2, SPI3, SPI4, SPI5, SPI6]
      SYSCFG:
        from: STM32F722.SYSCFG
        instances: [SYSCFG]
        transforms:
      # F722 MEMRMP is correct (MEM_BOOT + SWP_FMC), add SWP_FB for F76x
          - type: patchFields
            register: MEMRMP
            fields:
              - name: SWP_FB
                description: Flash Bank swap
                bitOffset: 8
                bitWidth: 1
      # F722 PMC has I2C1-3_FMP + PBx_FMP + ADCDC2(16:3); add I2C4_FMP,
      # split ADCDC2 into individual fields, add MII_RMII_SEL
          - type: patchFields
            register: PMC
            fields:
              - name: ADCDC2
              - name: I2C4_FMP
                description: I2C4 Fast Mode Plus Enable
                bitOffset: 3
                bitWidth: 1
              - name: ADC1DC2
                description: ADC1DC2
                bitOffset: 16
                bitWidth: 1
              - name: ADC2DC2
                description: ADC2DC2
                bitOffset: 17
                bitWidth: 1
              - name: ADC3DC2
                description: ADC3DC2
                bitOffset: 18
                bitWidth: 1
              - name: MII_RMII_SEL
                description: Ethernet PHY interface selection
                bitOffset: 23
                bitWidth: 1
      USART:
        uses: USART
        instances: [UART4, UART5, UART7, UART8, USART1, USART2, USART3, USART6]
      USBPHYC:
        from: STM32F730.USBPHYC
        instances: [USBPHYC]
      WWDG:
        uses: WWDG
        instances: [WWDG]
      bxCAN:
        uses: bxCAN
        instances: [CAN1, CAN2, CAN3]
    chip_params:
      _all:
        _all:
          CRC: {idr32: false}
          USART: {has_fifo: false}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          UART7: {synchronous: 0}
          UART8: {synchronous: 0}
          SPI: {has_fifo: false}
          SPI1: {has_i2s: true}
          SPI2: {has_i2s: true}
          SPI3: {has_i2s: true}
          TIM2: {width32: true, encoder: 1}
          TIM5: {width32: true, encoder: 1}
          TIM9: {max_channel: 1, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM10: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM11: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM12: {max_channel: 1, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM13: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM14: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM8: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM3: {encoder: 1}
          TIM4: {encoder: 1}
          LPTIM: {has_counter_reset: false, has_repetition: false, has_cfgr2: false}
          GPIO: {has_brr: false}
          SPDIFRX: {has_symbol_clock: false}
      F72x_F73x:
        _all:
          DMA: {channel_count: 8}
          Flash: {has_pcrop: true}
          Timer: {has_uifremap: true, has_extended_ocm: true}
      F74x_F75x:
        _all:
          DMA: {channel_count: 8}
          USART: {synchronous: 2}
          CAN1: {linked_to_slave: CAN2}
          CAN2: {linked_to_master: CAN1}
      F76x_F77x:
        _all:
          DMA: {channel_count: 16}
          Flash: {has_dual_bank: true}
          PWR: {has_eiwup: false}
          CAN1: {linked_to_slave: CAN2}
          CAN2: {linked_to_master: CAN1}
    chip_interrupts:
      _all:
        _all:
          SPDIF_RX: {INTR: 97}
  G0:
    svd:
      zip: stm32g0-svd.zip
      version: "1.6"
      date: "2024-02-12"
    subfamilies:
      G0x0:
        ref_manual: {name: RM0454, url: https://www.st.com/resource/en/reference_manual/rm0454-stm32g0x0-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '5', date: 2020-11}
        chips:
          - STM32G030
          - STM32G050
          - STM32G070
          - STM32G0B0
      G0x1:
        ref_manual: {name: RM0444, url: https://www.st.com/resource/en/reference_manual/rm0444-stm32g0x1-advanced-armbased-32bit-mcus-stmicroelectronics.pdf}
        chips:
          - STM32G031
          - STM32G041
          - STM32G051
          - STM32G061
          - STM32G071
          - STM32G081
          - STM32G0B1
          - STM32G0C1
    blocks:
      ADC:
        from: STM32G030.ADC
        instances: [ADC]
        interrupts:
          ADC: INTR
      AES:
        from: STM32G041.AES
        instances: [AES]
        interrupts:
          AES_RNG: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6: INTR
      CEC:
        uses: CEC
        instances: [HDMI_CEC]
      COMP:
        from: STM32G051.COMP
        instances: [COMP]
        transforms:
          - {type: renameRegisters, pattern: ^COMP\d+_, replacement: ''}
      CRC:
        uses: CRC
        instances: [CRC]
      DAC:
        from: STM32G051.DAC
        instances: [DAC]
        interrupts:
          TIM6_DAC_LPTIM1: INTR
      DBGMCU:
        from: STM32G030.DBG
        instances: [DBG]
      DMA:
        from: STM32G030.DMA1
        instances: [DMA1, DMA2]
        interrupts:
          DMA1_Channel1: Channel1
          DMA1_Channel2_3: Channel2_3
          DMA1_Channel4_5_6_7_DMAMUX_DMA2_Channel1_2_3_4_5: Channel4_5_6_7
      DMAMUX:
        from: STM32G030.DMAMUX
        instances: [DMAMUX]
        interrupts:
          DMA1_Channel4_5_6_7_DMAMUX_DMA2_Channel1_2_3_4_5: INTR
      EXTI:
        from: STM32G030.EXTI
        instances: [EXTI]
        interrupts:
          EXTI0_1: INTR0_1
          EXTI2_3: INTR2_3
          EXTI4_15: INTR4_15
      FDCAN:
        from: STM32G0B1.FDCAN1
        instances: [FDCAN1, FDCAN2]
      Flash:
        from: STM32G030.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF]
      Timer:
        uses: TimerV1
        instances: [TIM1, TIM14, TIM15, TIM16, TIM17, TIM2, TIM3, TIM4]
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM2]
      LPUART:
        uses: LPUART
        instances: [LPUART, LPUART1, LPUART2]
      PWR:
        from: STM32G030.PWR
        instances: [PWR]
        interrupts:
          PVD: INTR
      RCC:
        from: STM32G030.RCC
        instances: [RCC]
        interrupts:
          RCC: INTR
      RNG:
        uses: RNG
        instances: [RNG]
        interrupts:
          AES_RNG: INTR
      RTC:
        from: STM32G030.RTC
        instances: [RTC]
        interrupts:
          RTC_STAMP: INTR
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2, SPI3]
      SYSCFG:
        from: STM32G030.SYSCFG
        instances: [SYSCFG]
      SYSCFG_ITLINE:
        from: STM32G031.SYSCFG_ITLINE
        instances: [SYSCFG_ITLINE]
      TAMP:
        from: STM32G030.TAMP
        instances: [TAMP]
      UCPD:
        from: STM32G070.UCPD1
        instances: [UCPD1, UCPD2]
        interrupts:
          UCPD1_UCPD2: INTR
      USART:
        uses: USART
        instances: [USART1, USART2, USART3, USART4, USART5, USART6]
      USB:
        from: STM32G0B0.USB
        instances: [USB]
      VREFBUF:
        from: STM32G030.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG]
    chip_params:
      _all:
        _all:
          WWDG: {cfr_version: 2}
          SPI1: {has_i2s: true}
          CRS: {trim_width: 7}
          TIM2: {width32: true, encoder: 1}
          TIM14: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM3: {encoder: 1}
          TIM4: {encoder: 1}
          LPTIM: {has_repetition: false}
      G0x1:
        STM32G0B0:
          SPI2: {has_i2s: true}
        STM32G0B1:
          SPI2: {has_i2s: true}
        STM32G0C1:
          SPI2: {has_i2s: true}
  G4:
    svd:
      zip: stm32g4_svd.zip
      version: "3.0"
      date: "2025-07-22"
    subfamilies:
      G4xx:
        ref_manual:
          name: RM0440
          url: https://www.st.com/resource/en/reference_manual/rm0440-stm32g4-series-advanced-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '9'
          date: 2025-03
        chips:
          - STM32G431
          - STM32G441
          - STM32GBK1CBT6
          - STM32G471
          - STM32G473
          - STM32G474
          - STM32G483
          - STM32G484
          - STM32G491
          - STM32G4A1
    blocks:
      ADC:
        from: STM32G431.ADC1
        instances: [ADC1, ADC2, ADC3, ADC4, ADC5]
        interrupts:
          ADC1_2: INTR
      ADC_Common:
        from: STM32G431.ADC12_Common
        instances: [ADC12_Common, ADC345_Common]
      AES:
        from: STM32G431.AES
        instances: [AES]
        interrupts:
          AES: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6_DACUNDER: INTR
      COMP:
        from: STM32G431.COMP
        instances: [COMP]
        interrupts:
          COMP1_2_3: INTR1_2_3
          COMP4_5_6: INTR4_5_6
          COMP7: INTR7
      CORDIC:
        uses: CORDIC
        instances: [CORDIC]
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      DAC:
        from: STM32G431.DAC1
        instances: [DAC1, DAC2, DAC3, DAC4]
      DBGMCU:
        from: STM32G431.DBGMCU
        instances: [DBGMCU]
      DMA:
        from: STM32G431.DMA1
        instances: [DMA1, DMA2]
        interrupts:
          DMA1_CH1: CH1
          DMA1_CH2: CH2
          DMA1_CH3: CH3
          DMA1_CH4: CH4
          DMA1_CH5: CH5
          DMA1_CH6: CH6
      DMAMUX:
        from: STM32G431.DMAMUX
        instances: [DMAMUX]
        interrupts:
          DMAMUX_OVR: INTR
      EXTI:
        from: STM32G431.EXTI
        instances: [EXTI]
        interrupts:
          PVD_PVM: PVD_PVM
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI9_5: INTR9_5
          EXTI15_10: INTR15_10
          FPU: FPU
      FDCAN:
        from: STM32G431.FDCAN1
        instances: [FDCAN, FDCAN1, FDCAN2, FDCAN3]
        interrupts:
          FDCAN1_IT0: IT0
          FDCAN1_IT1: IT1
      FMAC:
        uses: FMAC
        instances: [FMAC]
      FMC:
        from: STM32G473.FMC
        instances: [FMC]
        interrupts:
          FMC: INTR
      Flash:
        from: STM32G474.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
        params:
          - {name: pages, type: int, max: 256, description: Number of flash memory pages}
          - {name: dual_bank, type: bool, default: false, description: Dual-bank flash organization supported}
          - {name: pb4_pupen, type: bool, default: false, description: PB4 pull-up enable bit present in PWR_PUCRB}
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG]
      Timer:
        uses: TimerV2
        instances: [TIM1, TIM15, TIM16, TIM17, TIM2, TIM20, TIM3, TIM4, TIM5, TIM8]
      HRTIM_Common:
        from: STM32G474.HRTIM_Common
        instances: [HRTIM_Common]
        interrupts:
          HRTIM_TIM_FLT_IRQn: INTR
      HRTIM_Master:
        from: STM32G474.HRTIM_Master
        instances: [HRTIM_Master]
        interrupts:
          HRTIM_Master_IRQn: INTR
      HRTIM_Timer:
        from: STM32G474.HRTIM_TIMA
        instances: [HRTIM_TIMA, HRTIM_TIMB, HRTIM_TIMC, HRTIM_TIMD, HRTIM_TIME, HRTIM_TIMF]
        interrupts:
          HRTIM_TIMA_IRQn: INTR
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3, I2C4]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1]
      LPUART:
        uses: LPUART
        instances: [LPUART1]
      OPAMP:
        from: STM32G431.OPAMP
        instances: [OPAMP]
        transforms:
          - {type: renameRegisters, pattern: ^OPAMP\d+_, replacement: ''}
      PWR:
        from: STM32G431.PWR
        instances: [PWR]
      QUADSPI:
        uses: QUADSPI
        instances: [QUADSPI]
      RCC:
        from: STM32G431.RCC
        instances: [RCC]
        interrupts:
          RCC: INTR
      RNG:
        uses: RNG
        instances: [RNG]
      RTC:
        from: STM32G431.RTC
        instances: [RTC]
        interrupts:
          RTC_TAMP_CSS_LSE: TAMP_CSS_LSE
          RTC_WKUP: WKUP
          RTC_ALARM: ALARM
      SAI:
        uses: SAI
        instances: [SAI]
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2, SPI3, SPI4]
      SYSCFG:
        from: STM32G431.SYSCFG
        instances: [SYSCFG]
      TAMP:
        from: STM32G431.TAMP
        instances: [TAMP]
      UCPD:
        from: STM32G431.UCPD1
        instances: [UCPD1]
        interrupts:
          UCPD1: INTR
      USART:
        uses: USART
        instances: [UART4, UART5, USART1, USART2, USART3]
      USB:
        from: STM32G431.USB_FS_device
        instances: [USB_FS_device]
        interrupts:
          USB_HP: HP
          USB_LP: LP
          USBWakeUP: WakeUP
      VREFBUF:
        from: STM32G431.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG]
    chip_params:
      _all:
        _all:
          WWDG: {cfr_version: 2}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          SPI2: {has_i2s: true}
          SPI3: {has_i2s: true}
          TIM2: {width32: true, encoder: 2, sms_preload: 2}
          TIM5: {width32: true, encoder: 1, sms_preload: 2}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          TIM8: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          TIM20: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          TIM3: {encoder: 2, sms_preload: 2}
          TIM4: {encoder: 1, sms_preload: 2}
          LPTIM: {has_repetition: false, has_cfgr2: false, or_type: 2}
          SAI: {has_gcr: false, has_pdm: true, has_mcken: true}
      G4xx:
        STM32G431:
          Flash: {pages: 64}
        STM32G441:
          Flash: {pages: 64}
        STM32GBK1CBT6:
          Flash: {pages: 64}
        STM32G471:
          Flash: {pages: 256, dual_bank: true}
        STM32G473:
          Flash: {pages: 256, dual_bank: true}
        STM32G474:
          Flash: {pages: 256, dual_bank: true}
        STM32G483:
          Flash: {pages: 256, dual_bank: true}
        STM32G484:
          Flash: {pages: 256, dual_bank: true}
        STM32G491:
          Flash: {pages: 256, pb4_pupen: true}
        STM32G4A1:
          Flash: {pages: 256, pb4_pupen: true}
  H5:
    svd:
      zip: stm32h5-svd.zip
      version: "1.9"
      date: "2025-07-22"
    subfamilies:
      H503:
        ref_manual: {name: RM0492, url: https://www.st.com/resource/en/reference_manual/rm0492-stm32h5-series-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '2', date: 2023-03}
        chips:
          - STM32H503
      H52x_H57x:
        ref_manual: {name: RM0481, url: https://www.st.com/resource/en/reference_manual/rm0481-stm32h52333xx-stm32h56263xx-and-stm32h573xx-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '2', date: 2024-04}
        chips:
          - STM32H523
          - STM32H533
          - STM32H562
          - STM32H563
          - STM32H573
    blocks:
      ADC:
        from: STM32H503.ADC
        instances: [ADC, ADC1, ADC2, ADC2_S, ADC_S]
        interrupts:
          ADC1: INTR
      ADC_Common:
        from: STM32H523.ADCC
        instances: [ADCC]
        transforms:
          - {type: renameRegisters, pattern: ^ADC_, replacement: ''}
      AES:
        from: STM32H533.AES
        instances: [AES]
        interrupts:
          AES: INTR
      AES_S:
        from: STM32H533.AES_S
        instances: [AES_S]
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM6_S, TIM7, TIM7_S]
        interrupts:
          TIM6: INTR
      COMP:
        from: STM32H503.COMP
        instances: [COMP]
        interrupts:
          COMP: INTR
      CORDIC:
        uses: CORDIC
        instances: [CORDIC]
      CRC:
        uses: CRC
        instances: [CRC]
      CRC_S:
        from: STM32H523.CRC_S
        instances: [CRC_S]
      CRS:
        uses: CRS
        instances: [CRS]
      CRS_S:
        from: STM32H523.CRS_S
        instances: [CRS_S]
      DAC:
        from: STM32H503.DAC
        instances: [DAC]
        interrupts:
          DAC1: INTR
      DAC_S:
        from: STM32H523.DAC_S
        instances: [DAC_S]
      DBGMCU:
        from: STM32H503.DBGMCU
        instances: [DBGMCU]
      DBGMCU_S:
        from: STM32H523.DBGMCU_S
        instances: [DBGMCU_S]
      DCACHE:
        from: STM32H523.DCACHE
        instances: [DCACHE]
        interrupts:
          DCACHE: INTR
      DCACHE_S:
        from: STM32H523.DCACHE_S
        instances: [DCACHE_S]
      DCMI:
        uses: DCMI
        instances: [DCMI]
      DCMI_S:
        from: STM32H523.DCMI_S
        instances: [DCMI_S]
      DTS:
        from: STM32H503.DTS
        instances: [DTS]
        interrupts:
          DTS_WKUP: INTR
      DTS_S:
        from: STM32H523.DTS_S
        instances: [DTS_S]
      ETH:
        from: STM32H563.ETH
        instances: [ETH]
        interrupts:
          ETH: INTR
          ETH_WKUP: WKUP
      EXTI:
        from: STM32H503.EXTI
        instances: [EXTI]
        interrupts:
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI5: INTR5
          EXTI6: INTR6
          EXTI7: INTR7
          EXTI8: INTR8
          EXTI9: INTR9
          EXTI10: INTR10
          EXTI11: INTR11
          EXTI12: INTR12
          EXTI13: INTR13
          EXTI14: INTR14
          EXTI15: INTR15
      EXTI_S:
        from: STM32H523.EXTI_S
        instances: [EXTI_S]
      FDCAN:
        from: STM32H523.FDCAN
        instances: [FDCAN, FDCAN1, FDCAN2, FDCAN2_S, FDCAN_S]
        interrupts:
          FDCAN1_IT1: IT1
          FDCAN1_IT0: IT0
      FLASH_S:
        from: STM32H523.FLASH_S
        instances: [FLASH_S]
        interrupts:
          FLASH_S: INTR
      FMAC:
        uses: FMAC
        instances: [FMAC]
      FMC:
        from: STM32H523.FMC
        instances: [FMC]
        interrupts:
          FMC: INTR
      FMC_S:
        from: STM32H523.FMC_S
        instances: [FMC_S]
      Flash:
        from: STM32H503.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
      GPDMA:
        from: STM32H523.GPDMA
        instances: [GPDMA, GPDMA1, GPDMA2, GPDMA2_S, GPDMA_S]
        interrupts:
          GPDMA1_CH7: CH7
          GPDMA1_CH6: CH6
          GPDMA1_CH5: CH5
          GPDMA1_CH4: CH4
          GPDMA1_CH3: CH3
          GPDMA1_CH2: CH2
          GPDMA1_CH1: CH1
          GPDMA1_CH0: CH0
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOA_S, GPIOB, GPIOB_S, GPIOC, GPIOC_S, GPIOD, GPIOD_S, GPIOE, GPIOE_S, GPIOF, GPIOF_S, GPIOG, GPIOG_S, GPIOH, GPIOH_S, GPIOI]
      Timer:
        uses: TimerV2
        instances: [TIM1, TIM12, TIM13, TIM14, TIM15, TIM15_S, TIM16, TIM17, TIM1_S, TIM2, TIM2_S, TIM3, TIM3_S, TIM4, TIM4_S, TIM5, TIM5_S, TIM8, TIM8_S]
      HASH:
        uses: HASH
        instances: [HASH]
      HASH_S:
        from: STM32H523.HASH_S
        instances: [HASH_S]
      I2C:
        uses: I2C
        instances: [I2C, I2C1, I2C2, I2C2_S, I2C3, I2C3_S, I2C4, I2C_S]
      I3C:
        from: STM32H523.I3C
        instances: [I3C, I3C1, I3C2, I3C2_S, I3C_S]
        interrupts:
          I3C1_ERR: ERR
          I3C1_EV: EV
      ICACHE:
        from: STM32H503.ICACHE
        instances: [ICACHE]
        interrupts:
          ICACHE: INTR
      ICACHE_S:
        from: STM32H523.ICACHE_S
        instances: [ICACHE_S]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      IWDG_S:
        from: STM32H523.IWDG_S
        instances: [IWDG_S]
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM1_S, LPTIM2, LPTIM2_S, LPTIM3, LPTIM4, LPTIM5, LPTIM6]
      LPUART:
        uses: LPUART
        instances: [LPUART, LPUART_S]
      OCTOSPI:
        uses: OCTOSPI
        instances: [OCTOSPI]
      OCTOSPI_S:
        from: STM32H523.OCTOSPI_S
        instances: [OCTOSPI_S]
      OPAMP:
        uses: HSOPAMP
        instances: [OPAMP1]
      OTFDEC:
        from: STM32H533.OTFDEC
        instances: [OTFDEC, OTFDEC1, OTFDEC_S]
        interrupts:
          OTFDEC1: INTR
      PKA:
        uses: PKA
        instances: [PKA]
      PKA_S:
        from: STM32H533.PKA_S
        instances: [PKA_S]
      PSSI:
        uses: PSSI
        instances: [PSSI]
      PSSI_S:
        from: STM32H523.PSSI_S
        instances: [PSSI_S]
      PWR:
        from: STM32H503.PWR
        instances: [PWR]
      PWR_S:
        from: STM32H523.PWR_S
        instances: [PWR_S]
      RAMCFG:
        from: STM32H503.RAMCFG
        instances: [RAMCFG]
        interrupts:
          RAMCFG: INTR
      RAMCFG_S:
        from: STM32H523.RAMCFG_S
        instances: [RAMCFG_S]
      RCC:
        from: STM32H503.RCC
        instances: [RCC]
        interrupts:
          RCC: INTR
      RCC_S:
        from: STM32H523.RCC_S
        instances: [RCC_S]
      RNG:
        uses: RNG
        instances: [RNG]
      RNG_S:
        from: STM32H523.RNG_S
        instances: [RNG_S]
      RTC:
        from: STM32H503.RTC
        instances: [RTC]
        interrupts:
          RTC: INTR
      RTC_S:
        from: STM32H523.RTC_S
        instances: [RTC_S]
      SAES:
        from: STM32H533.SAES
        instances: [SAES]
        interrupts:
          SAES: INTR
      SAES_S:
        from: STM32H533.SAES_S
        instances: [SAES_S]
      SAI:
        uses: SAI
        instances: [SAI1, SAI2]
      SBS:
        from: STM32H503.SBS
        instances: [SBS]
      SBS_S:
        from: STM32H523.SBS_S
        instances: [SBS_S]
      SDMMC:
        from: STM32H523.SDMMC
        instances: [SDMMC, SDMMC1, SDMMC2, SDMMC_S]
        interrupts:
          SDMMC1: INTR
      SPI:
        uses: ModernSPI
        instances: [SPI, SPI1, SPI2, SPI2_S, SPI3, SPI3_S, SPI4, SPI4_S, SPI5, SPI6, SPI_S]
      TAMP:
        from: STM32H503.TAMP
        instances: [TAMP]
        interrupts:
          TAMP: INTR
      TAMP_S:
        from: STM32H523.TAMP_S
        instances: [TAMP_S]
      UCPD:
        from: STM32H523.UCPD
        instances: [UCPD, UCPD1, UCPD_S]
        interrupts:
          UCPD1: INTR
      USART:
        uses: USART
        instances: [UART12, UART4, UART4_S, UART5, UART5_S, UART7, UART8, UART9, USART, USART1, USART10, USART11, USART2, USART2_S, USART3, USART3_S, USART6, USART6_S, USART_S]
      USB:
        from: STM32H503.USB
        instances: [USB]
        interrupts:
          USB_FS: INTR
      USBSRAM:
        from: STM32H523.USBSRAM
        instances: [USBSRAM]
      USBSRAM_S:
        from: STM32H523.USBSRAM_S
        instances: [USBSRAM_S]
      USB_S:
        from: STM32H523.USB_S
        instances: [USB_S]
      VREFBUF:
        from: STM32H523.VREFBUF
        instances: [VREFBUF]
      VREFBUF_S:
        from: STM32H523.VREFBUF_S
        instances: [VREFBUF_S]
      WWDG:
        uses: WWDG
        instances: [WWDG]
      WWDG_S:
        from: STM32H523.WWDG_S
        instances: [WWDG_S]
    chip_params:
      _all:
        _all:
          WWDG: {cfr_version: 2}
          IWDG: {gen: 3}
          RNG: {gen: 3}
          HASH: {gen: 1}
          CRS: {trim_width: 7}
          OPAMP: {single: true}
          GPIO: {has_hslvr: true}
          SAI: {has_pdm: true, has_mcken: true}
          SPI: {has_i2s: true}
          SPI_S: {has_i2s: true}
          SPI1: {has_i2s: true}
          SPI2: {has_i2s: true}
          SPI2_S: {has_i2s: true}
          SPI3: {has_i2s: true}
          SPI3_S: {has_i2s: true}
          UART12: {synchronous: 0}
          UART4: {synchronous: 0}
          UART4_S: {synchronous: 0}
          UART5: {synchronous: 0}
          UART5_S: {synchronous: 0}
          UART7: {synchronous: 0}
          UART8: {synchronous: 0}
          UART9: {synchronous: 0}
          TIM2: {width32: true, encoder: 3, sms_preload: 2}
          TIM2_S: {width32: true}
          TIM5: {width32: true, encoder: 3, sms_preload: 2}
          TIM5_S: {width32: true}
          TIM12: {max_channel: 1, has_centerPWM: false, has_etr: false, has_dma_burst: false, encoder: 3}
          TIM13: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM14: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true, sms_preload: 1}
          TIM15_S: {max_channel: 1}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          TIM1_S: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          TIM8: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          TIM8_S: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          TIM3: {encoder: 3, sms_preload: 2}
          TIM4: {encoder: 3, sms_preload: 2}
          LPTIM: {max_channel: 1}
  H7:
    svd:
      zip: stm32h7-svd.zip
      version: "2.8"
      date: "2025-07-22"
    subfamilies:
      H73x:
        ref_manual: {name: RM0468, url: https://www.st.com/resource/en/reference_manual/rm0468-stm32h723733-stm32h725735-and-stm32h730-value-line-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '3', date: 2021-12}
        chips:
          - STM32H723
          - STM32H725
          - STM32H730
          - STM32H733
          - STM32H735
          - STM32H73x
      H742_H753:
        ref_manual: {name: RM0433, url: https://www.st.com/resource/en/reference_manual/rm0433-stm32h742-stm32h743753-and-stm32h750-value-line-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '8', date: 2023-01}
        chips:
          - STM32H742
          - STM32H743
          - STM32H750
          - STM32H753
      H745_H757:
        ref_manual: {name: RM0399, url: https://www.st.com/resource/en/reference_manual/rm0399-stm32h745755-and-stm32h747757-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '4', date: 2023-06}
        chips:
          - STM32H745_CM4
          - STM32H745_CM7
          - STM32H747_CM4
          - STM32H747_CM7
          - STM32H755_CM4
          - STM32H755_CM7
          - STM32H757_CM4
          - STM32H757_CM7
      H7A3_B:
        ref_manual: {name: RM0455, url: https://www.st.com/resource/en/reference_manual/rm0455-stm32h7a37b3-and-stm32h7b0-value-line-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '11', date: 2023-12}
        chips:
          - STM32H7A3
          - STM32H7B0
          - STM32H7B3
    blocks:
      ADC:
        from: STM32H723.ADC1
        instances: [ADC1, ADC2, ADC3]
        interrupts:
          ADC1_2: INTR
        transforms:
          - type: patchAddressBlock
            size: 256
      ADC_Common:
        from: STM32H723.ADC12_Common
        instances: [ADC12_Common, ADC3_Common]
        transforms:
          - type: patchAddressBlock
            size: 256
      ART:
        from: STM32H745_CM4.ART
        instances: [ART]
      AXI:
        from: STM32H723.AXI
        instances: [AXI]
      BDMA:
        from: STM32H723.BDMA
        instances: [BDMA, BDMA1, BDMA2]
        interrupts:
          BDMA_CH0: CH0
          BDMA_CH1: CH1
          BDMA_CH2: CH2
          BDMA_CH3: CH3
          BDMA_CH4: CH4
          BDMA_CH5: CH5
          BDMA_CH6: CH6
          BDMA_CH7: CH7
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6_DAC: INTR
      CAN_CCU:
        from: STM32H723.CAN_CCU
        instances: [CAN_CCU]
      CEC:
        uses: CEC
        instances: [CEC]
      COMP:
        from: STM32H723.COMP1
        instances: [COMP1]
        interrupts:
          COMP: INTR
      CORDIC:
        uses: CORDIC
        instances: [CORDIC]
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      CRYP:
        uses: CRYP
        instances: [CRYP]
      DAC:
        from: STM32H7A3.DAC2
        instances: [DAC, DAC1, DAC2]
        interrupts:
          DAC2: INTR
      DBGMCU:
        instances: [DBGMCU]
        variants:
          H73x:
            from: STM32H723.DBGMCU
          H742_H753:
            from: STM32H743.DBGMCU
          H745_H757:
            from: STM32H745_CM4.DBGMCU
          H7A3_B:
            from: STM32H7A3.DBGMCU
      DCMI:
        uses: DCMI
        instances: [DCMI]
      DFSDM:
        from: STM32H7A3.DFSDM1
        instances: [DFSDM, DFSDM1, DFSDM2]
        interrupts:
          DFSDM1_FLT0: FLT0
          DFSDM1_FLT1: FLT1
          DFSDM1_FLT2: FLT2
          DFSDM1_FLT3: FLT3
        params:
          - {name: filters, type: int, default: 4, max: 8, description: Number of digital filter units (4 or 8)}
          - {name: has_dlyr, type: bool, default: true, description: CHyDLYR delay register present}
        transforms:
          - {type: renameRegisters, pattern: ^DFSDM\d+_, replacement: ''}
      # H7A3 SVD bug: CKOUTDIV/CKOUTSRC/DFSDMEN duplicated in CH1-CH7 (CH0-only per RM)
          - {type: patchFields, register: CH1CFGR1, fields: [name: CKOUTDIV, name: CKOUTSRC, name: DFSDMEN]}
          - {type: patchFields, register: CH2CFGR1, fields: [name: CKOUTDIV, name: CKOUTSRC, name: DFSDMEN]}
          - {type: patchFields, register: CH3CFGR1, fields: [name: CKOUTDIV, name: CKOUTSRC, name: DFSDMEN]}
          - {type: patchFields, register: CH4CFGR1, fields: [name: CKOUTDIV, name: CKOUTSRC, name: DFSDMEN]}
          - {type: patchFields, register: CH5CFGR1, fields: [name: CKOUTDIV, name: CKOUTSRC, name: DFSDMEN]}
          - {type: patchFields, register: CH6CFGR1, fields: [name: CKOUTDIV, name: CKOUTSRC, name: DFSDMEN]}
          - {type: patchFields, register: CH7CFGR1, fields: [name: CKOUTDIV, name: CKOUTSRC, name: DFSDMEN]}
      DMA:
        from: STM32H723.DMA1
        instances: [DMA1, DMA2, DMA2D, DMAMUX1, DMAMUX2]
        interrupts:
          DMA_STR0: STR0
          DMA_STR1: STR1
          DMA_STR2: STR2
          DMA_STR3: STR3
          DMA_STR4: STR4
          DMA_STR5: STR5
          DMA_STR6: STR6
          DMA1_STR7: STR7
      DSIHOST:
        from: STM32H745_CM4.DSIHOST
        instances: [DSIHOST]
        transforms:
          - {type: renameRegisters, pattern: ^DSI_, replacement: ''}
      ETH:
        from: STM32H750.ETH
        instances: [ETH]
        interrupts:
          ETH: INTR
          ETH_WKUP: WKUP
      EXTI:
        from: STM32H723.EXTI
        instances: [EXTI]
        interrupts:
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI9_5: INTR9_5
          EXTI15_10: INTR15_10
          WKUP: WKUP
          FPU: FPU
          ECC_DIAG_IT: ECC_DIAG_IT
          TEMP_IT: TEMP_IT
      Ethernet_DMA:
        from: STM32H742.Ethernet_DMA
        instances: [Ethernet_DMA]
      Ethernet_MAC:
        from: STM32H723.Ethernet_MAC
        instances: [Ethernet_MAC]
      Ethernet_MTL:
        from: STM32H742.Ethernet_MTL
        instances: [Ethernet_MTL]
      FDCAN:
        from: STM32H7A3.FDCAN
        instances: [FDCAN, FDCAN1, FDCAN2]
        interrupts:
          FDCAN2_CAL: CAL
          FDCAN2_IT1: IT1
          FDCAN1_IT1: IT1
          FDCAN2_IT0: IT0
          FDCAN1_IT0: IT0
      FDCAN3:
        from: STM32H723.FDCAN3
        instances: [FDCAN3]
        interrupts:
          FDCAN3_IT0: IT0
          FDCAN3_IT1: IT1
      FMAC:
        uses: FMAC
        instances: [FMAC]
      FMC:
        from: STM32H723.FMC
        instances: [FMC]
        interrupts:
          FMC: INTR
      Flash:
        instances: [FLASH, Flash]
        interrupts:
          FLASH: INTR
        transforms:
          - {type: renameRegisters, pattern: ^FLASH_, replacement: ''}
        variants:
          H73x:
            from: STM32H723.Flash
          H742_H753:
            from: STM32H743.Flash
          H745_H757:
            from: STM32H745_CM4.Flash
          H7A3_B:
            from: STM32H7A3.Flash
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH, GPIOI, GPIOJ, GPIOK]
      Timer:
        uses: TimerV1
        instances: [TIM1, TIM12, TIM13, TIM14, TIM15, TIM16, TIM17, TIM2, TIM3, TIM4, TIM5, TIM8]
        variants:
          H73x:
            instances: [TIM1, TIM12, TIM13, TIM14, TIM15, TIM16, TIM17, TIM2, TIM23, TIM24, TIM3, TIM4, TIM5, TIM8]
      HASH:
        uses: HASH
        instances: [HASH]
        interrupts:
          HASH_RNG: INTR
      HRTIM_Common:
        from: STM32H742.HRTIM_Common
        instances: [HRTIM_Common]
      HRTIM_Master:
        from: STM32H742.HRTIM_Master
        instances: [HRTIM_Master]
        interrupts:
          HRTIM1_MST: INTR
      HRTIM_Timer:
        from: STM32H742.HRTIM_TIMA
        instances: [HRTIM_TIMA, HRTIM_TIMB, HRTIM_TIMC, HRTIM_TIMD, HRTIM_TIME]
        interrupts:
          HRTIM1_FLT: FLT
          HRTIM1_MST: MST
      HSEM:
        from: STM32H743.HSEM
        instances: [HSEM]
        interrupts:
          HSEM0: INTR
        params:
          - {name: semaphores, type: int, default: 32, max: 32, description: Number of hardware semaphores (16 or 32)}
        transforms:
      # MASTERID (RM0433): 4-bit at [11:8]; H743 SVD has 8-bit — narrow to 4
      # H745 SVD uses COREID (RM0399 name) at correct 4-bit width — no fix needed
          - {type: patchFields, register_pattern: ^R\d+$, fields: [{name: MASTERID, bitOffset: 8, bitWidth: 4}]}
          - {type: patchFields, register_pattern: ^RLR\d+$, fields: [{name: MASTERID, bitOffset: 8, bitWidth: 4}]}
          - {type: patchFields, register: CR, fields: [{name: MASTERID, bitOffset: 8, bitWidth: 4}]}
      # H743 SVD: CR is read-write, RM says write-only
          - {type: patchRegisters, registers: [{name: CR, access: write-only}]}
        variants:
          H745_H757:
            from: STM32H745_CM4.HSEM
            transforms: []
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3, I2C4, I2C5]
      IWDG:
        uses: IWDG
        instances: [IWDG, IWDG1, IWDG2]
      JPEG:
        from: STM32H742.JPEG
        instances: [JPEG]
        interrupts:
          JPEG: INTR
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM2, LPTIM3, LPTIM4, LPTIM5]
      LPUART:
        uses: LPUART
        instances: [LPUART1]
      LTDC:
        from: STM32H723.LTDC
        instances: [LTDC]
        interrupts:
          LTDC: INTR
          LTDC_ER: ER
      MDIOS:
        uses: MDIOS
        instances: [MDIOS]
      MDMA:
        from: STM32H743.MDMA
        instances: [MDMA]
        interrupts:
          MDMA: INTR
      OCTOSPI:
        uses: OCTOSPI
        instances: [OCTOSPI1, OCTOSPI2]
      OPAMP:
        uses: HSOPAMP
        instances: [OPAMP]
      OTFDEC:
        from: STM32H725.OTFDEC1
        instances: [OTFDEC1, OTFDEC2]
        interrupts:
          OTFDEC1: INTR
          OTFDEC2: INTR
      OTG_HS_DEVICE:
        from: STM32H723.OTG1_HS_DEVICE
        instances: [OTG1_HS_DEVICE, OTG2_HS_DEVICE]
        transforms:
          - {type: renameRegisters, pattern: ^OTG_HS_, replacement: ''}
        interrupts:
          OTG_HS_EP1_OUT: EP1_OUT
          OTG_HS_EP1_IN: EP1_IN
          OTG_HS_WKUP: WKUP
          OTG_HS: INTR
      OTG_HS_GLOBAL:
        from: STM32H723.OTG1_HS_GLOBAL
        instances: [OTG1_HS_GLOBAL, OTG2_HS_GLOBAL]
        interrupts:
          OTG_HS: INTR
          OTG_HS_WKUP: WKUP
          OTG_HS_EP1_IN: EP1_IN
          OTG_HS_EP1_OUT: EP1_OUT
        transforms:
          - {type: renameRegisters, pattern: ^OTG_HS_, replacement: ''}
      # H723 SVD bug: DIEPTXF7 at 0x12C, should be 0x11C per RM0468
          - {type: patchRegisters, registers: [{name: DIEPTXF7, addressOffset: 284}]}
      # H723 SVD bug: STSPHST is 4-bit in SVD, should be 1-bit per RM0468
          - {type: patchFields, register: GRXSTSR_Device, fields: [{name: STSPHST, bitWidth: 1}]}
          - {type: patchFields, register: GRXSTSP_Device, fields: [{name: STSPHST, bitWidth: 1}]}
      OTG_HS_HOST:
        from: STM32H723.OTG1_HS_HOST
        instances: [OTG1_HS_HOST, OTG2_HS_HOST]
        transforms:
          - {type: renameRegisters, pattern: ^OTG_HS_, replacement: ''}
        interrupts:
          OTG_FS: INTR
      OTG_HS_PWRCLK:
        uses: OTG_HS_PWRCLK
        instances: [OTG1_HS_PWRCLK, OTG2_HS_PWRCLK]
      PSSI:
        uses: PSSI
        instances: [PSSI]
      PWR:
        from: STM32H723.PWR
        instances: [PWR]
        params:
          - {name: has_smps, type: bool, default: true, description: Has SMPS step-down converter (false for H742/H753 which use SCUEN instead of SDEN)}
        transforms:
      # H723/H745 SVDs: USB33DEN marked write-only, RM says read-write
          - type: patchFields
            register: CR3
            fields:
              - {name: USB33DEN, access: read-write}
      # H742/H753 has no SMPS — bit 2 is SCUEN (Supply Config Update Enable) not SDEN
          - type: cloneRegister
            source: CR3
            name: CR3_SCUEN
            renameFields:
              - {pattern: ^SDEN$, replacement: SCUEN}
        variants:
          H7A3_B:
            from: STM32H7A3.PWR
            transforms: []
      QUADSPI:
        uses: QUADSPI
        instances: [QUADSPI]
      RAMECC:
        from: STM32H743.RAMECC1
        instances: [RAMECC, RAMECC1, RAMECC2, RAMECC3]
        interrupts:
          ECC_DIAG_IT: INTR
        params:
          - {name: monitors, type: int, default: 5, max: 5, description: Number of ECC monitoring units in this RAMECC instance}
        transforms:
      # All H7 SVDs: M2FECR/M3FECR/M4FECR at wrong offsets (RM says regular 0x20 stride)
      # All H7 SVDs: scattered access bugs on FAR/FDRH/FECR (RM says all read-only)
          - type: patchRegisters
            registers:
              - {name: M1FECR, access: read-only}
              - {name: M2FDRH, access: read-only}
              - {name: M2FECR, addressOffset: 84, access: read-only}
              - {name: M3FECR, addressOffset: 116}
              - {name: M4FECR, addressOffset: 148, alternateRegister: null}
              - {name: M5FAR, access: read-only}
      RCC:
        instances: [RCC]
        interrupts:
          RCC: INTR
        variants:
          H73x:
            from: STM32H723.RCC
          H742_H753:
            from: STM32H743.RCC
          H745_H757:
            from: STM32H745_CM4.RCC
          H7A3_B:
            from: STM32H7A3.RCC
      RNG:
        uses: RNG
        instances: [RNG]
        interrupts:
          HASH_RNG: INTR
      RTC:
        from: STM32H723.RTC
        instances: [RTC]
        interrupts:
          RTC_TAMP_STAMP_CSS_LSE: TAMP_STAMP_CSS_LSE
          RTC_WKUP: WKUP
          RTC_ALARM: ALARM
        variants:
          H7A3_B:
            from: STM32H7A3.RTC
      SAI:
        uses: SAI
        instances: [SAI1, SAI2, SAI3, SAI4]
      SDMMC:
        from: STM32H743.SDMMC1
        instances: [SDMMC1, SDMMC2]
        interrupts:
          SDMMC1: INTR
      SPDIFRX:
        uses: SPDIFRX
        instances: [SPDIFRX]
      SPI:
        uses: ModernSPI
        instances: [SPI1, SPI2, SPI3, SPI4, SPI5, SPI6]
      SWPMI:
        from: STM32H723.SWPMI
        instances: [SWPMI]
        interrupts:
          SWPMI1: INTR
      SYSCFG:
        from: STM32H723.SYSCFG
        instances: [SYSCFG]
        interrupts:
          LPUART: INTR
      TAMP:
        from: STM32H7A3.TAMP
        instances: [TAMP]
      TT_FDCAN:
        from: STM32H7A3.TT_FDCAN
        instances: [TT_FDCAN]
      USART:
        uses: USART
        instances: [UART4, UART5, UART7, UART8, UART9, USART1, USART10, USART2, USART3, USART6, USART9]
      VREFBUF:
        from: STM32H723.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG, WWDG1, WWDG2]
    chip_interrupts:
      _all:
        _all:
          SPDIFRX: {INTR: 97}
      H742_H753:
        _all:
          SDMMC1: {INTR: 49}
          SDMMC2: {INTR: 124}
      H745_H757:
        _all:
          BDMA: {CH0: 129, CH1: 130, CH2: 131, CH3: 132, CH4: 133, CH5: 134, CH6: 135, CH7: 136}
          OTG1_HS_GLOBAL: {EP1_OUT: 74, EP1_IN: 75, WKUP: 76, INTR: 77}
          OTG2_HS_GLOBAL: {EP1_OUT: 98, EP1_IN: 99, WKUP: 100, INTR: 101}
          SDMMC1: {INTR: 49}
          SDMMC2: {INTR: 124}
    chip_params:
      _all:
        _all:
          WWDG: {cfr_version: 2}
          GPIO: {has_brr: false}
          OCTOSPI: {has_maxtran: true}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          UART7: {synchronous: 0}
          UART8: {synchronous: 0}
          UART9: {synchronous: 0}
          SPI: {has_tser: true}
          SPI1: {has_i2s: true}
          SPI2: {has_i2s: true}
          SPI3: {has_i2s: true}
          TIM2: {width32: true, encoder: 1}
          TIM5: {width32: true, encoder: 1}
          TIM12: {max_channel: 1, has_centerPWM: false, has_etr: false, has_dma_burst: false}
          TIM13: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM14: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          Timer: {has_uifremap: true, has_extended_ocm: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM8: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM3: {encoder: 1}
          TIM4: {encoder: 1}
          LPTIM: {has_repetition: false}
          PSSI: {has_cksrc: true}
          SAI: {has_pdm: true}
      H742_H753:
        _all:
          DFSDM: {has_dlyr: false}
          PWR: {has_smps: false}
          RAMECC3: {monitors: 2}
      H745_H757:
        _all:
          CRYP: {gen: 1}
          DFSDM: {has_dlyr: false}
          RAMECC3: {monitors: 2}
      H73x:
        _all:
          CRYP: {gen: 1}
          RNG: {gen: 2}
          SPI6: {has_i2s: true}
          TIM23: {width32: true, encoder: 1}
          TIM24: {width32: true, encoder: 1}
          RAMECC2: {monitors: 3}
          RAMECC3: {monitors: 2}
      H7A3_B:
        _all:
          CRYP: {gen: 1}
          SPI6: {has_i2s: true}
          DFSDM: {filters: 8}
          RAMECC: {monitors: 3}
          HSEM: {semaphores: 16}
  H7RS:
    svd:
      zip: stm32h7rs-svd.zip
      version: "1.3"
      date: "2025-07-08"
    subfamilies:
      H7R_H7S:
        ref_manual:
          name: RM0477
          url: https://www.st.com/resource/en/reference_manual/rm0477-stm32h7rxsx-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '8'
          date: 2024-12
        chips:
          - STM32H7R
          - STM32H7S
    blocks:
      ADC:
        from: STM32H7S.ADC1
        instances: [ADC1, ADC2]
      ADC_Common:
        from: STM32H7S.ADC12_common
        instances: [ADC12_common]
        interrupts:
          ADC1_2: INTR
      ADF:
        from: STM32H7S.ADF
        instances: [ADF]
        interrupts:
          ADF1_FLT0: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6: INTR
      CEC:
        uses: CEC
        instances: [CEC]
      CORDIC:
        uses: CORDIC
        instances: [CORDIC]
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      CRYP:
        uses: CRYP
        instances: [CRYP]
      DBGMCU:
        from: STM32H7S.DBGMCU
        instances: [DBGMCU]
      DCMIPP:
        from: STM32H7S.DCMIPP
        instances: [DCMIPP]
        interrupts:
          DCMIPP: INTR
      DLYB:
        from: STM32H7S.DLYB1
        instances: [DLYB1, DLYB2]
      DMA2D:
        uses: DMA2D
        instances: [DMA2D]
      DTS:
        from: STM32H7S.DTS
        instances: [DTS]
        interrupts:
          DTS: INTR
      ETH:
        from: STM32H7S.ETH
        instances: [ETH]
        interrupts:
          ETH: INTR
      EXTI:
        from: STM32H7S.EXTI
        instances: [EXTI]
        interrupts:
          PVD_AVD: PVD_AVD
          LOOKUP: LOOKUP
          CACHE_ECC: CACHE_ECC
          ECC_FPU: ECC_FPU
          FPU: FPU
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI5: INTR5
          EXTI6: INTR6
          EXTI7: INTR7
          EXTI8: INTR8
          EXTI9: INTR9
          EXTI10: INTR10
          EXTI11: INTR11
          EXTI12: INTR12
          EXTI13: INTR13
          EXTI14: INTR14
          EXTI15: INTR15
          WAKEUP_PIN: WAKEUP_PIN
      FDCAN:
        from: STM32H7S.FDCAN1
        instances: [FDCAN1, FDCAN2]
        interrupts:
          FDCAN1_IT0: IT0
          FDCAN1_IT1: IT1
      Flash:
        from: STM32H7S.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
      FMC:
        from: STM32H7S.FMC
        instances: [FMC]
        interrupts:
          FMC: INTR
      GFXMMU:
        from: STM32H7S.GFXMMU
        instances: [GFXMMU]
        interrupts:
          GFXMMU: INTR
      GFXTIM:
        from: STM32H7S.GFXTIM
        instances: [GFXTIM]
        interrupts:
          GFXTIM: INTR
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH, GPIOM, GPION, GPIOO, GPIOP]
      GPDMA:
        from: STM32H7S.GPDMA
        instances: [GPDMA]
        interrupts:
          GPDMA1_CH0: CH0
          GPDMA1_CH1: CH1
          GPDMA1_CH2: CH2
          GPDMA1_CH3: CH3
          GPDMA1_CH4: CH4
          GPDMA1_CH5: CH5
          GPDMA1_CH6: CH6
          GPDMA1_CH7: CH7
          GPDMA1_CH8: CH8
          GPDMA1_CH9: CH9
          GPDMA1_CH10: CH10
          GPDMA1_CH11: CH11
          GPDMA1_CH12: CH12
          GPDMA1_CH13: CH13
          GPDMA1_CH14: CH14
          GPDMA1_CH15: CH15
      Timer:
        uses: TimerV2
        instances: [TIM1, TIM12, TIM13, TIM14, TIM15, TIM16, TIM17, TIM2, TIM3, TIM4, TIM5, TIM9]
      HASH:
        uses: HASH
        instances: [HASH]
      HPDMA:
        from: STM32H7S.HPDMA
        instances: [HPDMA]
        interrupts:
          HPDMA1_CH0: CH0
          HPDMA1_CH1: CH1
          HPDMA1_CH2: CH2
          HPDMA1_CH3: CH3
          HPDMA1_CH4: CH4
          HPDMA1_CH5: CH5
          HPDMA1_CH6: CH6
          HPDMA1_CH7: CH7
          HPDMA1_CH8: CH8
          HPDMA1_CH9: CH9
          HPDMA1_CH10: CH10
          HPDMA1_CH11: CH11
          HPDMA1_CH12: CH12
          HPDMA1_CH13: CH13
          HPDMA1_CH14: CH14
          HPDMA1_CH15: CH15
      I2C:
        uses: I2C
        instances: [I2C1_I3C1, I2C2, I2C3]
      ICACHE:
        from: STM32H7S.ICACHE
        instances: [ICACHE]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      JPEG:
        from: STM32H7S.JPEG
        instances: [JPEG]
        interrupts:
          JPEG: INTR
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM2, LPTIM3, LPTIM4, LPTIM5]
      LPUART:
        uses: LPUART
        instances: [LPUART1]
      LTDC:
        from: STM32H7S.LTDC
        instances: [LTDC]
        interrupts:
          LTDC: INTR
          LTDC_ER: ER
      MCE:
        from: STM32H7S.MCE1
        instances: [MCE1, MCE2, MCE3]
        interrupts:
          MCE1: INTR
      MDIOS:
        uses: MDIOS
        instances: [MDIOS]
      OTG:
        from: STM32H7S.OTG_HS
        instances: [OTG_HS, OTG_FS]
        interrupts:
          OTG_HS: INTR
          OTG_FS: INTR
      PKA:
        uses: PKA
        instances: [PKA]
      PSSI:
        uses: PSSI
        instances: [PSSI]
      PWR:
        from: STM32H7S.PWR
        instances: [PWR]
      RAMCFG:
        from: STM32H7S.RAMCFG
        instances: [RAMCFG]
        transforms:
          - {type: renameRegisters, pattern: '^RAMECC_', replacement: ''}
      RCC:
        from: STM32H7S.RCC
        instances: [RCC]
        interrupts:
          RCC: INTR
      RNG:
        uses: RNG
        instances: [RNG]
      RTC:
        from: STM32H7S.RTC
        instances: [RTC]
        interrupts:
          RTC: INTR
      SAES:
        from: STM32H7S.SAES
        instances: [SAES]
        interrupts:
          SAES: INTR
          AES: AES
      SAI:
        uses: SAI
        instances: [SAI1, SAI2]
      SBS:
        from: STM32H7S.SBS
        instances: [SBS]
      SDMMC:
        from: STM32H7S.SDMMC1
        instances: [SDMMC1, SDMMC2]
        interrupts:
          SDMMC1: INTR
          SDMMC2: INTR
      SPDIFRX:
        uses: SPDIFRX
        instances: [SPDIFRX]
      SPI:
        uses: ModernSPI
        instances: [SPI1, SPI2, SPI3, SPI4, SPI5, SPI6]
      TAMP:
        from: STM32H7S.TAMP
        instances: [TAMP]
        interrupts:
          TAMP: INTR
      UCPD:
        from: STM32H7S.UCPD
        instances: [UCPD]
        interrupts:
          UCPD1: INTR
      USART:
        uses: USART
        instances: [USART1, USART2, USART3, UART4, UART5, UART7, UART8]
        interrupts:
          USART1: {name: INTR, description: Global interrupt}
      VREFBUF:
        from: STM32H7S.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG]
      XSPI:
        from: STM32H7S.XSPI1
        instances: [XSPI1, XSPI2]
        interrupts:
          OSPI1: INTR
      XSPIM:
        from: STM32H7S.XSPIM1
        instances: [XSPIM1]
    chip_interrupts:
      _all:
        _all:
          SPDIFRX: {INTR: 124}
    chip_params:
      _all:
        _all:
          WWDG: {cfr_version: 2}
          IWDG: {gen: 3}
          RNG: {gen: 3}
          CRYP: {gen: 2}
          HASH: {gen: 2}
          DMA2D: {gen: 3}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          UART7: {synchronous: 0}
          UART8: {synchronous: 0}
          SPI1: {has_i2s: true}
          SPI2: {has_i2s: true}
          SPI3: {has_i2s: true}
          SPI6: {has_i2s: true}
          TIM2: {width32: true, encoder: 3, sms_preload: 2}
          TIM3: {encoder: 3, sms_preload: 2}
          TIM4: {encoder: 3, sms_preload: 2}
          TIM5: {width32: true, encoder: 3, sms_preload: 2}
          TIM9: {max_channel: 1, has_centerPWM: false, has_etr: false, has_dma_burst: false}
          TIM12: {max_channel: 1, has_centerPWM: false, has_etr: false, has_dma_burst: false}
          TIM13: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM14: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true, sms_preload: 1}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          LPTIM: {max_channel: 1}
          SAI: {has_pdm: true, has_mcken: true}
  L0:
    svd:
      zip: stm32l0-svd.zip
      version: "1.4"
      date: "2023-12-14"
    subfamilies:
      L0x0:
        ref_manual: {name: RM0451, url: https://www.st.com/resource/en/reference_manual/rm0451-ultralowpower-stm32l0x0-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '3', date: 2022-01}
        chips:
          - STM32L0x0
      L0x1:
        ref_manual: {name: RM0377, url: https://www.st.com/resource/en/reference_manual/rm0377-ultralowpower-stm32l0x1-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '10', date: 2022-02}
        chips:
          - STM32L0x1
      L0x2:
        ref_manual: {name: RM0376, url: https://www.st.com/resource/en/reference_manual/rm0376-ultralowpower-stm32l0x2-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '7', date: 2022-02}
        chips:
          - STM32L052
          - STM32L062
          - STM32L0x2
      L0x3:
        ref_manual: {name: RM0367, url: https://www.st.com/resource/en/reference_manual/rm0367-ultralowpower-stm32l0x3-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '8', date: 2022-02}
        chips:
          - STM32L053
          - STM32L063
          - STM32L0x3
    blocks:
      ADC:
        from: STM32L0x0.ADC
        instances: [ADC]
        params:
          - {name: vlcd_channel, type: bool, default: false, description: VLCD pin connected to ADC input channel for LCD voltage measurement}
      AES:
        from: STM32L0x1.AES
        instances: [AES]
        interrupts:
          AES_RNG_LPUART1: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6: INTR
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      DAC:
        from: STM32L052.DAC
        instances: [DAC]
      DBGMCU:
        from: STM32L0x0.DBG
        instances: [DBG, DBGMCU]
      DMA:
        from: STM32L0x0.DMA1
        instances: [DMA1]
        interrupts:
          DMA1_Channel1: Channel1
          DMA1_Channel2_3: Channel2_3
          DMA1_Channel4_7: Channel4_7
      EXTI:
        from: STM32L0x0.EXTI
        instances: [EXTI]
      Flash:
        from: STM32L0x0.Flash
        instances: [Flash]
        interrupts:
          FLASH: INTR
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOH]
      Timer:
        uses: TimerV1
        instances: [TIM2, TIM21, TIM22, TIM3]
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      LCD:
        from: STM32L053.LCD
        instances: [LCD]
        interrupts:
          LCD: INTR
      LPTIM:
        uses: LPTIM
        instances: [LPTIM]
      LPUART:
        uses: LPUART
        instances: [LPUART1, LPUSART1]
      PWR:
        instances: [PWR]
        variants:
          L0x0:
            from: STM32L0x0.PWR
          L0x1:
            from: STM32L0x1.PWR
          L0x2:
            from: STM32L0x2.PWR
          L0x3:
            from: STM32L0x3.PWR
      RCC:
        instances: [RCC]
        interrupts:
          RCC: INTR
        variants:
          L0x0:
            from: STM32L0x0.RCC
          L0x1:
            from: STM32L0x1.RCC
          L0x2:
            from: STM32L0x2.RCC
          L0x3:
            from: STM32L0x3.RCC
      RNG:
        uses: RNG
        instances: [RNG]
      RTC:
        from: STM32L0x0.RTC
        instances: [RTC]
        interrupts:
          RTC: INTR
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2]
      SYSCFG:
        instances: [SYSCFG, SYSCFG_COMP]
        variants:
          L0x0:
            from: STM32L0x0.SYSCFG
          L0x1:
            from: STM32L0x1.SYSCFG
          L0x2:
            from: STM32L0x2.SYSCFG_COMP
          L0x3:
            from: STM32L0x3.SYSCFG_COMP
      TSC:
        from: STM32L052.TSC
        instances: [TSC]
        interrupts:
          TSC: INTR
      USART:
        uses: USART
        instances: [USART1, USART2, USART4, USART5]
      USB:
        from: STM32L052.USB_FS
        instances: [USB_FS]
        interrupts:
          USB: INTR
      WWDG:
        uses: WWDG
        instances: [WWDG]
    chip_params:
      _all:
        _all:
          CRC: {idr32: false}
          USART: {has_fifo: false, synchronous: 2}
          LPUART: {has_fifo: false}
          SPI: {has_fifo: false}
          SPI2: {has_i2s: true}
          TIM2: {width32: true, encoder: 1}
          TIM21: {max_channel: 1, has_xor_input: false, has_dma_burst: false}
          TIM22: {max_channel: 1, has_xor_input: false, has_dma_burst: false}
          TIM3: {encoder: 1}
          LPTIM: {has_counter_reset: false, has_repetition: false, has_cfgr2: false}
      L0x0:
        _all:
          SPI2: {has_i2s: false}
      L0x3:
        _all:
          ADC: {vlcd_channel: true}
  L1:
    svd:
      zip: stm32l1_svd.zip
      version: "1.4"
      date: "2023-08-11"
    subfamilies:
      L1xx:
        ref_manual:
          name: RM0038
          url: https://www.st.com/resource/en/reference_manual/rm0038-stm32l100xx-stm32l151xx-stm32l152xx-and-stm32l162xx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '18'
          date: 2023-05
        chips:
          - STM32L100
          - STM32L151
          - STM32L152
          - STM32L162
    blocks:
      ADC:
        from: STM32L100.ADC
        instances: [ADC]
        interrupts:
          ADC1: INTR
      AES:
        from: STM32L100.AES
        instances: [AES]
        interrupts:
          AES: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM7: INTR
      COMP:
        from: STM32L100.COMP
        instances: [COMP]
        interrupts:
          COMP_ACQ: INTR
      CRC:
        from: STM32L100.CRC
        instances: [CRC]
      DAC:
        from: STM32L100.DAC
        instances: [DAC]
        interrupts:
          DAC: INTR
      DBGMCU:
        from: STM32L100.DBGMCU
        instances: [DBGMCU]
      DMA:
        from: STM32L100.DMA1
        instances: [DMA1, DMA2]
        interrupts:
          DMA1_Channel1: Channel1
          DMA1_Channel2: Channel2
          DMA1_Channel3: Channel3
          DMA1_Channel4: Channel4
          DMA1_Channel5: Channel5
          DMA1_Channel6: Channel6
          DMA1_Channel7: Channel7
      EXTI:
        from: STM32L100.EXTI
        instances: [EXTI]
        interrupts:
          TAMPER_STAMP: TAMPER_STAMP
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI9_5: INTR9_5
          EXTI15_10: INTR15_10
      FSMC:
        from: STM32L100.FSMC
        instances: [FSMC]
      Flash:
        from: STM32L100.Flash
        instances: [Flash]
        interrupts:
          FLASH: INTR
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH]
      Timer:
        uses: TimerV1
        instances: [TIM10, TIM11, TIM2, TIM3, TIM4, TIM5, TIM9]
      I2C:
        from: STM32L100.I2C1
        instances: [I2C1, I2C2]
        interrupts:
          I2C1_EV: EV
          I2C1_ER: ER
      IWDG:
        uses: IWDG
        instances: [IWDG]
      LCD:
        from: STM32L100.LCD
        instances: [LCD]
        interrupts:
          LCD: INTR
      OPAMP:
        from: STM32L100.OPAMP
        instances: [OPAMP]
      PWR:
        from: STM32L100.PWR
        instances: [PWR]
        interrupts:
          PVD: INTR
      RCC:
        from: STM32L100.RCC
        instances: [RCC]
        interrupts:
          RCC: INTR
      RI:
        from: STM32L100.RI
        instances: [RI]
      RTC:
        from: STM32L100.RTC
        instances: [RTC]
        interrupts:
          RTC_WKUP: WKUP
          RTC_Alarm: Alarm
      SDIO:
        from: STM32L100.SDIO
        instances: [SDIO]
        interrupts:
          SDIO: INTR
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2, SPI3]
      SYSCFG:
        from: STM32L151.SYSCFG
        instances: [SYSCFG]
      USART:
        from: STM32L151.UART4
        instances: [UART4, UART5, USART1, USART2, USART3, USART4, USART5]
        interrupts:
          UART4: INTR
        params:
          - {name: synchronous, type: int, default: 2, max: 2, description: 'Synchronous/smartcard capability: 0=none, 2=sync+smartcard'}
      USB:
        from: STM32L100.USB
        instances: [USB]
        interrupts:
          USB_HP: HP
          USB_LP: LP
          USB_FS_WKUP: FS_WKUP
      WWDG:
        uses: WWDG
        instances: [WWDG]
    chip_params:
      _all:
        _all:
          IWDG: {gen: 0}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          bxCAN: {filter_banks: 14}
          SPI: {has_fifo: false}
          SPI2: {has_i2s: true}
          SPI3: {has_i2s: true}
          TIM2: {width32: true, encoder: 1}
          TIM5: {width32: true, encoder: 1}
          TIM9: {max_channel: 1, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM10: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM11: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM3: {encoder: 1}
          TIM4: {encoder: 1}
          GPIO: {has_brr: false}
  L4:
    svd:
      zip: stm32l4_svd.zip
      version: "1.9"
      date: "2025-07-22"
    subfamilies:
      L41x_L42x:
        ref_manual: {name: RM0394, url: https://www.st.com/resource/en/reference_manual/rm0394-stm32l41xxx42xxx43xxx44xxx45xxx46xxx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '5', date: 2024-12}
        chips:
          - STM32L412
          - STM32L422
      L43x_L46x:
        ref_manual: {name: RM0394, url: https://www.st.com/resource/en/reference_manual/rm0394-stm32l41xxx42xxx43xxx44xxx45xxx46xxx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf, rev: '5', date: 2024-12}
        chips:
          - STM32L431
          - STM32L432
          - STM32L433
          - STM32L442
          - STM32L443
          - STM32L451
          - STM32L452
          - STM32L462
      L47x_L4Ax:
        ref_manual: {name: RM0351, url: https://www.st.com/resource/en/reference_manual/rm0351-stm32l47xxx-stm32l48xxx-stm32l49xxx-and-stm32l4axxx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf}
        chips:
          - STM32L471
          - STM32L475
          - STM32L476
          - STM32L486
          - STM32L496
          - STM32L4A6
    blocks:
      ADC:
        from: STM32L412.ADC1
        instances: [ADC1, ADC2, ADC3]
        interrupts:
          ADC1: INTR
      ADC_Common:
        from: STM32L471.ADC_Common
        instances: [ADC123_Common, ADC12_Common, ADC_Common]
      AES:
        from: STM32L431.AES
        instances: [AES]
        interrupts:
          AES: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6_DACUNDER: INTR
      COMP:
        from: STM32L412.COMP
        instances: [COMP]
        transforms:
          - {type: renameRegisters, pattern: ^COMP\d+_, replacement: ''}
        interrupts:
          COMP: INTR
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      DAC:
        from: STM32L471.DAC
        instances: [DAC, DAC1]
      DBGMCU:
        from: STM32L412.DBGMCU
        instances: [DBGMCU]
      DCMI:
        uses: DCMI
        instances: [DCMI]
      DFSDM:
        from: STM32L431.DFSDM
        instances: [DFSDM, DFSDM1]
        interrupts:
          DFSDM1_FLT3: FLT3
          DFSDM1_FLT0: FLT0
          DFSDM1_FLT1: FLT1
          DFSDM1_FLT2: FLT2
      DMA:
        from: STM32L412.DMA1
        instances: [DMA1, DMA2]
        interrupts:
          DMA1_Channel1: Channel1
          DMA1_Channel2: Channel2
          DMA1_Channel3: Channel3
          DMA1_Channel4: Channel4
          DMA1_Channel5: Channel5
          DMA1_Channel6: Channel6
          DMA1_Channel7: Channel7
      DMA2D:
        uses: DMA2D
        instances: [DMA2D]
      EXTI:
        from: STM32L412.EXTI
        instances: [EXTI]
        interrupts:
          PVD_PVM: PVD_PVM
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI9_5: INTR9_5
          EXTI15_10: INTR15_10
      FMC:
        from: STM32L471.FMC
        instances: [FMC]
        interrupts:
          FMC: INTR
      Flash:
        from: STM32L412.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH, GPIOI]
      Timer:
        uses: TimerV1
        instances: [TIM1, TIM15, TIM16, TIM17, TIM2, TIM3, TIM4, TIM5, TIM8]
      HASH:
        uses: HASH
        instances: [HASH]
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3, I2C4]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      LCD:
        from: STM32L431.LCD
        instances: [LCD]
        interrupts:
          LCD: INTR
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM2]
      LPUART:
        uses: LPUART
        instances: [LPUART1]
      OPAMP:
        uses: LPOPAMP
        instances: [OPAMP]
      OTG_FS_DEVICE:
        from: STM32L471.OTG_FS_DEVICE
        instances: [OTG_FS_DEVICE]
      OTG_FS_GLOBAL:
        from: STM32L471.OTG_FS_GLOBAL
        instances: [OTG_FS_GLOBAL]
        interrupts:
          OTG_FS: INTR
      OTG_FS_HOST:
        from: STM32L471.OTG_FS_HOST
        instances: [OTG_FS_HOST]
      OTG_FS_PWRCLK:
        uses: OTG_FS_PWRCLK
        instances: [OTG_FS_PWRCLK]
      PWR:
        from: STM32L412.PWR
        instances: [PWR]
      QUADSPI:
        uses: QUADSPI
        instances: [QUADSPI]
      RCC:
        from: STM32L412.RCC
        instances: [RCC]
        interrupts:
          RCC: INTR
      RNG:
        uses: RNG
        instances: [RNG]
      RTC:
        from: STM32L431.RTC
        instances: [RTC]
        variants:
          L41x_L42x:
            from: STM32L412.RTC
      SAI:
        uses: SAI
        instances: [SAI1, SAI2]
      SDMMC:
        from: STM32L431.SDMMC
        instances: [SDMMC, SDMMC1]
        interrupts:
          SDMMC1: INTR
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2, SPI3]
      SWPMI:
        from: STM32L431.SWPMI1
        instances: [SWPMI1]
        interrupts:
          SWPMI1: INTR
      SYSCFG:
        from: STM32L412.SYSCFG
        instances: [SYSCFG]
      TSC:
        from: STM32L412.TSC
        instances: [TSC]
        interrupts:
          TSC: INTR
      USART:
        uses: USART
        instances: [UART4, UART5, USART1, USART2, USART3]
      USB:
        from: STM32L412.USB_FS
        instances: [USB_FS]
        interrupts:
          USB_FS: INTR
      VREFBUF:
        from: STM32L431.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG]
      bxCAN:
        uses: bxCAN
        instances: [CAN1, CAN2]
    chip_params:
      _all:
        _all:
          CRC: {idr32: false}
          DMA2D: {gen: 1}
          USART: {has_fifo: false, synchronous: 2}
          LPUART: {has_fifo: false}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          TIM2: {width32: true, encoder: 1}
          TIM5: {width32: true, encoder: 1}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM8: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM3: {encoder: 1}
          TIM4: {encoder: 1}
          SAI: {has_gcr: false}
      L41x_L42x:
        _all:
          LPTIM: {or_type: 1}
      L43x_L46x:
        STM32L432:
          LPTIM: {or_type: 1}
        STM32L442:
          LPTIM: {or_type: 1}
        STM32L452:
          LPTIM: {or_type: 1}
        STM32L462:
          LPTIM: {or_type: 1}
  L4P:
    svd:
      zip: stm32l4plus-svd.zip
      version: "1.6"
      date: "2025-07-22"
    subfamilies:
      L4Px_L4Qx:
        ref_manual:
          name: RM0432
          url: https://www.st.com/resource/en/reference_manual/rm0432-stm32l4-series-advanced-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '9'
          date: 2021-06
        chips:
          - STM32L4P5
          - STM32L4Q5
      L4Rx_L4Sx:
        ref_manual:
          name: RM0432
          url: https://www.st.com/resource/en/reference_manual/rm0432-stm32l4-series-advanced-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '9'
          date: 2021-06
        chips:
          - STM32L4R5
          - STM32L4R7
          - STM32L4R9
          - STM32L4S5
          - STM32L4S7
          - STM32L4S9
    blocks:
      ADC:
        from: STM32L4R5.ADC
        instances: [ADC]
        interrupts:
          ADC1_2: INTR
        transforms:
          - type: patchFields
            register: CFGR
            fields:
              - name: DFSDMCFG
                description: DFSDM mode configuration
                bitOffset: 2
                bitWidth: 1
          - type: patchFields
            register: CFGR2
            fields:
              - name: ROVSM
                description: Regular Oversampling mode
      ADC_Common:
        from: STM32L4P5.ADC_Common
        instances: [ADC_Common]
      AES:
        from: STM32L4P5.AES
        instances: [AES]
        interrupts:
          AES: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6_DACUNDER: INTR
      COMP:
        from: STM32L4P5.COMP
        instances: [COMP]
        transforms:
          - {type: renameRegisters, pattern: ^COMP\d+_, replacement: ''}
        interrupts:
          COMP: INTR
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      DAC:
        from: STM32L4P5.DAC
        instances: [DAC]
      DBGMCU:
        from: STM32L4P5.DBGMCU
        instances: [DBGMCU]
      DCMI:
        uses: DCMI
        instances: [DCMI]
      DFSDM:
        from: STM32L4P5.DFSDM1
        instances: [DFSDM1]
        interrupts:
          DFSDM1_FLT3: FLT3
          DFSDM1_FLT0: FLT0
          DFSDM1_FLT1: FLT1
          DFSDM1_FLT2: FLT2
      DMA:
        from: STM32L4P5.DMA1
        instances: [DMA1, DMA2]
        interrupts:
          DMA1_CH1: CH1
          DMA1_CH2: CH2
          DMA1_CH3: CH3
          DMA1_CH4: CH4
          DMA1_CH5: CH5
          DMA1_CH6: CH6
          DMA1_CH7: CH7
      DMA2D:
        uses: DMA2D
        instances: [DMA2D]
      DMAMUX:
        from: STM32L4P5.DMAMUX1
        instances: [DMAMUX1]
        interrupts:
          DMAMUX1_OVR: INTR
      DSI:
        from: STM32L4R9.DSI
        instances: [DSI]
        interrupts:
          DSIHSOT: INTR
      EXTI:
        from: STM32L4P5.EXTI
        instances: [EXTI]
        interrupts:
          PVD_PVM: PVD_PVM
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI9_5: INTR9_5
          EXTI15_10: INTR15_10
      FMC:
        from: STM32L4P5.FMC
        instances: [FMC]
        interrupts:
          FMC: INTR
          FPU: FPU
      Flash:
        instances: [FLASH]
        interrupts:
          FLASH: INTR
        variants:
          L4Px_L4Qx:
            from: STM32L4P5.FLASH
          L4Rx_L4Sx:
            from: STM32L4R5.FLASH
      GFXMMU:
        from: STM32L4R5.GFXMMU
        instances: [GFXMMU]
        interrupts:
          GFXMMU: INTR
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH, GPIOI]
      Timer:
        uses: TimerV1
        instances: [TIM1, TIM15, TIM16, TIM17, TIM2, TIM3, TIM4, TIM5, TIM8]
      HASH:
        uses: HASH
        instances: [HASH]
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3, I2C4]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM2]
      LPUART:
        uses: LPUART
        instances: [LPUART1]
      LTDC:
        from: STM32L4P5.LTCD
        instances: [LTCD]
        interrupts:
          LCD_TFT: INTR
          LCD_TFT_ER: ERROR
      OCTOSPI:
        instances: [OCTOSPI1, OCTOSPI2]
        interrupts:
          OCTOSPI1: INTR
        variants:
          L4Px_L4Qx:
            from: STM32L4P5.OCTOSPI1
          L4Rx_L4Sx:
            from: STM32L4R5.OCTOSPI1
      OPAMP:
        uses: LPOPAMP
        instances: [OPAMP]
      OTG_FS_DEVICE:
        from: STM32L4P5.OTG_FS_DEVICE
        instances: [OTG_FS_DEVICE]
      OTG_FS_GLOBAL:
        from: STM32L4P5.OTG_FS_GLOBAL
        instances: [OTG_FS_GLOBAL]
        interrupts:
          OTG_FS: INTR
      OTG_FS_HOST:
        from: STM32L4P5.OTG_FS_HOST
        instances: [OTG_FS_HOST]
      OTG_FS_PWRCLK:
        uses: OTG_FS_PWRCLK
        instances: [OTG_FS_PWRCLK]
      PWR:
        from: STM32L4P5.PWR
        instances: [PWR]
      RCC:
        instances: [RCC]
        interrupts:
          RCC: INTR
        variants:
          L4Px_L4Qx:
            from: STM32L4P5.RCC
          L4Rx_L4Sx:
            from: STM32L4R5.RCC
      RNG:
        uses: RNG
        instances: [RNG]
        interrupts:
          RNG_HASH: INTR
      RTC:
        instances: [RTC]
        interrupts:
          RTC_TAMP_STAMP_CSS_LSE: TAMP_STAMP_CSS_LSE
          RTC_WKUP: WKUP
          RTC_ALARM: ALARM
        variants:
          L4Px_L4Qx:
            from: STM32L4P5.RTC
          L4Rx_L4Sx:
            from: STM32L4R5.RTC
      SAI:
        uses: SAI
        instances: [SAI1, SAI2]
      SDMMC:
        instances: [SDMMC1, SDMMC2]
        interrupts:
          SDMMC1: INTR
        variants:
          L4Px_L4Qx:
            from: STM32L4P5.SDMMC1
          L4Rx_L4Sx:
            from: STM32L4R5.SDMMC1
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2, SPI3]
      SWPMI:
        from: STM32L4P5.SWPMI1
        instances: [SWPMI1]
      SYSCFG:
        from: STM32L4P5.SYSCFG
        instances: [SYSCFG]
      TSC:
        from: STM32L4P5.TSC
        instances: [TSC]
        interrupts:
          TSC: INTR
      USART:
        uses: USART
        instances: [UART4, UART5, USART1, USART2, USART3]
      VREFBUF:
        from: STM32L4P5.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG]
      bxCAN:
        uses: bxCAN
        instances: [CAN1]
    chip_params:
      _all:
        _all:
          CRC: {idr32: false}
          DMA2D: {gen: 1}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          TIM2: {width32: true, encoder: 1}
          TIM5: {width32: true, encoder: 1}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM8: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM3: {encoder: 1}
          TIM4: {encoder: 1}
          LPTIM: {has_counter_reset: false, has_repetition: false, has_cfgr2: false}
          SAI: {has_gcr: false}
      L4Px_L4Qx:
        _all:
          RNG: {gen: 2}
  L5:
    svd:
      zip: stm32l5-svd.zip
      version: "1.0"
      date: "2024-11-12"
    subfamilies:
      L55x_L56x:
        ref_manual:
          name: RM0438
          url: https://www.st.com/resource/en/reference_manual/rm0438-stm32l552xx-and-stm32l562xx-advanced-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '8'
          date: 2025-06
        chips:
          - STM32L552
          - STM32L562
    blocks:
      ADC:
        from: STM32L552.ADC1
        instances: [ADC1, ADC2]
      ADC_Common:
        from: STM32L552.ADC_Common
        instances: [ADC_Common]
      AES:
        from: STM32L562.AES
        instances: [AES]
        interrupts:
          AES: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6: INTR
      COMP:
        from: STM32L552.COMP
        instances: [COMP]
        transforms:
          - {type: renameRegisters, pattern: ^COMP\d+_, replacement: ''}
        interrupts:
          COMP: INTR
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      DAC:
        from: STM32L552.DAC
        instances: [DAC]
        interrupts:
          DAC: INTR
      DBGMCU:
        from: STM32L552.DBGMCU
        instances: [DBGMCU]
      DFSDM:
        from: STM32L552.DFSDM1
        instances: [DFSDM1]
        interrupts:
          DFSDM1_FLT0: FLT0
          DFSDM1_FLT1: FLT1
          DFSDM1_FLT2: FLT2
          DFSDM1_FLT3: FLT3
      DMA:
        from: STM32L552.DMA1
        instances: [DMA1, DMA2]
        interrupts:
          DMA1_Channel1: Channel1
          DMA1_Channel2: Channel2
          DMA1_Channel3: Channel3
          DMA1_Channel4: Channel4
          DMA1_Channel5: Channel5
          DMA1_Channel6: Channel6
          DMA1_Channel7: Channel7
          DMA1_Channel8: Channel8
      DMAMUX:
        from: STM32L552.DMAMUX1
        instances: [DMAMUX1]
        interrupts:
          DMAMUX1_OVR: OVR
          DMAMUX1_OVR_S: OVR_S
      EXTI:
        from: STM32L552.EXTI
        instances: [EXTI]
        interrupts:
          PVD_PVM: PVD_PVM
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI5: INTR5
          EXTI6: INTR6
          EXTI7: INTR7
          EXTI8: INTR8
          EXTI9: INTR9
          EXTI10: INTR10
          EXTI11: INTR11
          EXTI12: INTR12
          EXTI13: INTR13
          EXTI14: INTR14
          EXTI15: INTR15
      FDCAN:
        from: STM32L552.FDCAN1
        instances: [FDCAN1]
        interrupts:
          FDCAN1_IT0: IT0
          FDCAN1_IT1: IT1
      FMC:
        from: STM32L552.FMC
        instances: [FMC]
        interrupts:
          FMC: INTR
      Flash:
        from: STM32L552.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
          FLASH_S: S
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH]
      Timer:
        uses: TimerV1
        instances: [TIM1, TIM15, TIM16, TIM17, TIM2, TIM3, TIM4, TIM5, TIM8]
      HASH:
        uses: HASH
        instances: [HASH]
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3, I2C4]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM2, LPTIM3]
        interrupts:
          LPTIM1: INTR
          LPTIM2: INTR2
      LPUART:
        uses: LPUART
        instances: [LPUART1]
      OCTOSPI:
        uses: OCTOSPI
        instances: [OCTOSPI1]
      OPAMP:
        uses: LPOPAMP
        instances: [OPAMP]
      OTFDEC:
        from: STM32L562.OTFDEC1
        instances: [OTFDEC1]
        interrupts:
          OTFDEC1: INTR
      PKA:
        uses: PKA
        instances: [PKA]
      PWR:
        from: STM32L552.PWR
        instances: [PWR]
      RCC:
        from: STM32L552.RCC
        instances: [RCC]
        interrupts:
          RCC: INTR
          RCC_S: S
      RNG:
        uses: RNG
        instances: [RNG]
      RTC:
        from: STM32L552.RTC
        instances: [RTC]
        interrupts:
          RTC: INTR
          RTC_S: S
      SAI:
        uses: SAI
        instances: [SAI1, SAI2]
      SDMMC:
        from: STM32L552.SDMMC1
        instances: [SDMMC1]
        interrupts:
          SDMMC1: INTR
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2, SPI3]
      SYSCFG:
        from: STM32L552.SYSCFG
        instances: [SYSCFG]
      TAMP:
        from: STM32L552.TAMP
        instances: [TAMP]
      TSC:
        from: STM32L552.TSC
        instances: [TSC]
        interrupts:
          TSC: INTR
      UCPD:
        from: STM32L552.UCPD1
        instances: [UCPD1]
        interrupts:
          UCPD1: INTR
      USART:
        uses: USART
        instances: [UART4, UART5, USART1, USART2, USART3]
      USB:
        from: STM32L552.USB
        instances: [USB]
        interrupts:
          USB_FS: INTR
      VREFBUF:
        from: STM32L552.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG]
    chip_params:
      _all:
        _all:
          RNG: {gen: 2}
          CRS: {trim_width: 7}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          TIM2: {width32: true, encoder: 1}
          TIM5: {width32: true, encoder: 1}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM8: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM3: {encoder: 1}
          TIM4: {encoder: 1}
          SAI: {has_pdm: true}
          GPIO: {has_seccfgr: true}
          PKA: {gen: 0}
  N6:
    svd:
      zip: stm32n6-svd.zip
      version: "1.0"
      date: "2025-01-07"
    subfamilies:
      N6xx:
        ref_manual:
          name: RM0486
          url: https://www.st.com/resource/en/reference_manual/rm0486-stm32n647657xx-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '2'
          date: 2025-01
        chips:
          - STM32N645
          - STM32N647
          - STM32N655
          - STM32N657
    blocks:
      ADC:
        from: STM32N645.ADC1
        instances: [ADC1, ADC2]
      ADC_Common:
        from: STM32N645.ADC12
        instances: [ADC12]
        interrupts:
          ADC12: INTR
      ADF:
        from: STM32N645.ADF
        instances: [ADF]
        interrupts:
          ADF1_FLT0: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7, TIM18]
        interrupts:
          TIM6: INTR
          TIM18: INTR
      CRC:
        uses: CRC
        instances: [CRC]
      CRYP:
        uses: CRYP
        instances: [CRYP]
      CSI:
        from: STM32N645.CSI
        instances: [CSI]
        interrupts:
          CSI_DBG: INTR
      DBGMCU:
        from: STM32N645.DBGMCU
        instances: [DBGMCU]
      DCMI:
        uses: DCMI
        instances: [DCMI]
      DCMIPP:
        from: STM32N645.DCMIPP
        instances: [DCMIPP]
        interrupts:
          DCMIPP: INTR
      DMA2D:
        uses: DMA2D
        instances: [DMA2D]
      DTS:
        from: STM32N645.DTS
        instances: [DTS]
        interrupts:
          DTS: INTR
      ETH:
        from: STM32N645.ETH
        instances: [ETH]
        interrupts:
          ETH1: INTR
      EXTI:
        from: STM32N645.EXTI
        instances: [EXTI]
        interrupts:
          PVD_PVM: PVD_PVM
          LOCKUP: LOCKUP
          CACHE_ECC: CACHE_ECC
          TCM_ECC: TCM_ECC
          BCK_ECC: BCK_ECC
          FPU: FPU
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI5: INTR5
          EXTI6: INTR6
          EXTI7: INTR7
          EXTI8: INTR8
          EXTI9: INTR9
          EXTI10: INTR10
          EXTI11: INTR11
          EXTI12: INTR12
          EXTI13: INTR13
          EXTI14: INTR14
          EXTI15: INTR15
          PAHB_ERR: PAHB_ERR
          NPU_end_of_epoch: NPU_end_of_epoch
          NPU1: NPU1
          NPU2: NPU2
          NPU3: NPU3
          NPUCACHE: NPUCACHE
          WAKEUP_PIN: WAKEUP_PIN
          CTI0: CTI0
          CTI1: CTI1
      FDCAN:
        from: STM32N645.FDCAN1
        instances: [FDCAN1, FDCAN2, FDCAN3]
        interrupts:
          FDCAN1_IT0: IT0
          FDCAN1_IT1: IT1
          FDCAN_CU: CU
      FMC:
        from: STM32N645.FMC1
        instances: [FMC1]
        interrupts:
          FMC: INTR
      GFXMMU:
        from: STM32N645.GFXMMU
        instances: [GFXMMU]
        interrupts:
          GFXMMU: INTR
      GFXTIM:
        from: STM32N645.GFXTIM
        instances: [GFXTIM]
        interrupts:
          GFXTIM: INTR
      GPDMA:
        from: STM32N645.GPDMA
        instances: [GPDMA]
        interrupts:
          GPDMA1_CH0: CH0
          GPDMA1_CH1: CH1
          GPDMA1_CH2: CH2
          GPDMA1_CH3: CH3
          GPDMA1_CH4: CH4
          GPDMA1_CH5: CH5
          GPDMA1_CH6: CH6
          GPDMA1_CH7: CH7
          GPDMA1_CH8: CH8
          GPDMA1_CH9: CH9
          GPDMA1_CH10: CH10
          GPDMA1_CH11: CH11
          GPDMA1_CH12: CH12
          GPDMA1_CH13: CH13
          GPDMA1_CH14: CH14
          GPDMA1_CH15: CH15
      GPIO:
        from: STM32N645.GPIOC
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH, GPION, GPIOO, GPIOP, GPIOQ]
      Timer:
        uses: TimerV2
        instances: [TIM1, TIM10, TIM11, TIM12, TIM13, TIM14, TIM15, TIM16, TIM17, TIM2, TIM3, TIM4, TIM5, TIM8, TIM9]
      HASH:
        uses: HASH
        instances: [HASH]
      HPDMA:
        from: STM32N645.HPDMA
        instances: [HPDMA]
        interrupts:
          HPDMA1_CH0: CH0
          HPDMA1_CH1: CH1
          HPDMA1_CH2: CH2
          HPDMA1_CH3: CH3
          HPDMA1_CH4: CH4
          HPDMA1_CH5: CH5
          HPDMA1_CH6: CH6
          HPDMA1_CH7: CH7
          HPDMA1_CH8: CH8
          HPDMA1_CH9: CH9
          HPDMA1_CH10: CH10
          HPDMA1_CH11: CH11
          HPDMA1_CH12: CH12
          HPDMA1_CH13: CH13
          HPDMA1_CH14: CH14
          HPDMA1_CH15: CH15
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3, I2C4]
      I3C:
        from: STM32N645.I3C1
        instances: [I3C1, I3C2]
        interrupts:
          I3C1_EV: EV
          I3C1_ER: ER
      IWDG:
        from: STM32N645.IWDG
        instances: [IWDG]
      JPEG:
        from: STM32N645.JPEG
        instances: [JPEG]
        interrupts:
          JPEG: INTR
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM2, LPTIM3, LPTIM4, LPTIM5]
      LPUART:
        uses: LPUART
        instances: [LPUART1]
      LTDC:
        from: STM32N645.LTDC
        instances: [LTDC]
        interrupts:
          LTDC_LO: LO
          LTDC_LO_ERR: LO_ERR
          LTDC_UP: UP
          LTDC_UP_ERR: UP_ERR
          GPU2D: GPU2D
          GPU2D_ERROR: GPU2D_ERROR
          GPU_CACHE: GPU_CACHE
      MDF:
        from: STM32N645.MDF1
        instances: [MDF1]
        interrupts:
          MDF1_FLT0: FLT0
          MDF1_FLT1: FLT1
          MDF1_FLT2: FLT2
          MDF1_FLT3: FLT3
          MDF1_FLT4: FLT4
          MDF1_FLT5: FLT5
      MDIOS:
        uses: MDIOS
        instances: [MDIOS]
      OTG:
        from: STM32N645.OTG1
        instances: [OTG1, OTG2]
        interrupts:
          OTG1: INTR
      PKA:
        uses: PKA
        instances: [PKA]
      PSSI:
        uses: PSSI
        instances: [PSSI]
      PWR:
        from: STM32N645.PWR
        instances: [PWR]
      RAMCFG:
        from: STM32N645.RAMCFG
        instances: [RAMCFG]
      RCC:
        from: STM32N645.RCC
        instances: [RCC]
        interrupts:
          RCC: INTR
      RNG:
        uses: RNG
        instances: [RNG]
      RTC:
        from: STM32N645.RTC
        instances: [RTC]
        interrupts:
          RTC: INTR
      SAES:
        from: STM32N655.SAES
        instances: [SAES]
        interrupts:
          SAES: INTR
      SAI:
        uses: SAI
        instances: [SAI1, SAI2]
      SDMMC:
        from: STM32N645.SDMMC1
        instances: [SDMMC1, SDMMC2]
        interrupts:
          SDMMC1: INTR
      SPDIFRX:
        uses: SPDIFRX
        instances: [SPDIFRX]
      SPI:
        uses: ModernSPI
        instances: [SPI1, SPI2, SPI3, SPI4, SPI5, SPI6]
      SYSCFG:
        from: STM32N645.SYSCFG
        instances: [SYSCFG]
      TAMP:
        from: STM32N645.TAMP
        instances: [TAMP]
        interrupts:
          TAMP: INTR
      UCPD:
        from: STM32N645.UCPD
        instances: [UCPD]
        interrupts:
          UCPD: INTR
      USART:
        uses: USART
        instances: [UART4, UART5, UART7, UART8, UART9, USART1, USART10, USART2, USART3, USART6]
        interrupts:
          UART4: {name: INTR, description: Global interrupt}
      VENC:
        from: STM32N645.VENC
        instances: [VENC]
        interrupts:
          VENC: INTR
      VREFBUF:
        from: STM32N645.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG]
      XSPI:
        from: STM32N645.XSPI1
        instances: [XSPI1, XSPI2, XSPI3]
        interrupts:
          XSPI1: INTR
      XSPIM:
        from: STM32N645.XSPIM
        instances: [XSPIM]
    chip_params:
      _all:
        _all:
          WWDG: {cfr_version: 2}
          RNG: {gen: 3}
          CRYP: {gen: 2}
          HASH: {gen: 2}
          DMA2D: {gen: 3}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          UART7: {synchronous: 0}
          UART8: {synchronous: 0}
          UART9: {synchronous: 0}
          CRC: {has_rtype: true}
          CRS: {trim_width: 7}
          SPI1: {has_i2s: true}
          SPI2: {has_i2s: true}
          SPI3: {has_i2s: true}
          SPI6: {has_i2s: true}
          TIM2: {width32: true, encoder: 3, sms_preload: 2}
          TIM3: {width32: true, encoder: 3, sms_preload: 2}
          TIM4: {width32: true, encoder: 3, sms_preload: 2}
          TIM5: {width32: true, encoder: 3, sms_preload: 2}
          TIM9: {max_channel: 1, has_centerPWM: false, has_etr: false, has_dma_burst: false}
          TIM10: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM11: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM12: {max_channel: 1, has_centerPWM: false, has_etr: false, has_dma_burst: false}
          TIM13: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM14: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_dma_burst: false}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true, sms_preload: 1}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          TIM8: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          LPTIM: {max_channel: 1}
          SAI: {has_pdm: true, has_mcken: true}
  U0:
    svd:
      zip: stm32u0-svd.zip
      version: "1.0"
      date: "2024-05-28"
    subfamilies:
      U0xx:
        ref_manual:
          name: RM0503
          url: https://www.st.com/resource/en/reference_manual/rm0503-stm32u0-series-advanced-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '4'
          date: 2025-07
        chips:
          - STM32U031
          - STM32U073
          - STM32U083
    blocks:
      ADC:
        from: STM32U031.ADC
        instances: [ADC]
        interrupts:
          ADC_COMP: INTR
      AES:
        from: STM32U083.AES
        instances: [AES]
        interrupts:
          AES_RNG: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6_DAC_LPTIM1: INTR
      COMP:
        from: STM32U083.COMP
        instances: [COMP, COMP1]
        transforms:
          - {type: renameRegisters, pattern: ^COMP\d+_, replacement: ''}
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      DAC:
        from: STM32U031.DAC
        instances: [DAC]
      DBGMCU:
        from: STM32U073.DBGMCU
        instances: [DBGMCU]
      DMA:
        from: STM32U031.DMA1
        instances: [DMA1, DMA2]
        interrupts:
          DMA1_CHannel1: CHannel1
          DMA1_Channel2_3: Channel2_3
          DMA1_Channel4_5_6_7: Channel4_5_6_7
      DMAMUX:
        from: STM32U031.DMAMUX
        instances: [DMAMUX]
      EXTI:
        from: STM32U031.EXTI
        instances: [EXTI]
        interrupts:
          PVD_PVM: PVD_PVM
          EXTI0_1: INTR0_1
          EXTI2_3: INTR2_3
          EXTI4_15: INTR4_15
      Flash:
        from: STM32U031.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF]
      Timer:
        uses: TimerV1
        instances: [TIM1, TIM15, TIM16, TIM2, TIM3]
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3]
      IWDG:
        uses: IWDG
        instances: [IWDG]
      LCD:
        from: STM32U073.LCD
        instances: [LCD]
        interrupts:
          LCD: INTR
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM2, LPTIM3]
      LPUART:
        uses: LPUART
        instances: [LPUART1, LPUART2, LPUART3]
      OPAMP:
        uses: LPOPAMP
        instances: [OPAMP]
      PWR:
        from: STM32U031.PWR
        instances: [PWR]
      RCC:
        from: STM32U073.RCC
        instances: [RCC]
        interrupts:
          RCC_CRS: INTR
      RNG:
        uses: RNG
        instances: [RNG]
      RTC:
        from: STM32U031.RTC
        instances: [RTC]
        interrupts:
          RTC_TAMP: INTR
      SPI:
        uses: LegacySPI
        instances: [SPI1, SPI2, SPI3]
      SYSCFG:
        from: STM32U073.SYSCFG
        instances: [SYSCFG]
      TAMP:
        from: STM32U031.TAMP
        instances: [TAMP]
      TSC:
        from: STM32U031.TSC
        instances: [TSC]
        interrupts:
          TSC: INTR
      USART:
        uses: USART
        instances: [USART1, USART2, USART3, USART4]
      USB:
        from: STM32U073.USB
        instances: [USB]
        interrupts:
          USB: INTR
      VREFBUF:
        from: STM32U031.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG]
    chip_params:
      _all:
        _all:
          WWDG: {cfr_version: 2}
          IWDG: {gen: 3}
          RNG: {gen: 3}
          CRC: {has_rtype: true}
          OPAMP: {single: true}
          USART3: {synchronous: 1, has_fifo: false, has_wakeup: false}
          USART4: {synchronous: 1, has_fifo: false, has_wakeup: false}
          TIM2: {width32: true, encoder: 1}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 1}
          TIM3: {encoder: 1}
          LPTIM: {max_channel: 3}
  U3:
    svd:
      zip: stm32u3-svd.zip
      version: "1.1"
      date: "2025-07-16"
    subfamilies:
      U3xx:
        ref_manual:
          name: RM0487
          url: https://www.st.com/resource/en/reference_manual/rm0487-stm32u3-series-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '1'
          date: 2025-02
        chips:
          - STM32U375
          - STM32U385
    blocks:
      ADC:
        from: STM32U375.ADC1
        instances: [ADC1, ADC2]
        interrupts:
          ADC1: INTR
      ADC_Common:
        from: STM32U375.ADC12
        instances: [ADC12]
      ADF:
        from: STM32U375.ADF
        instances: [ADF]
        interrupts:
          ADF1: INTR
      AES:
        from: STM32U385.AES
        instances: [AES]
        interrupts:
          AES: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6: INTR
      CCB:
        from: STM32U375.CCB
        instances: [CCB]
      COMP:
        from: STM32U375.COMP
        instances: [COMP]
        transforms:
          - {type: renameRegisters, pattern: ^COMP\d+_, replacement: ''}
        interrupts:
          COMP: INTR
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      DAC:
        from: STM32U375.DAC
        instances: [DAC]
        interrupts:
          DAC1: INTR
      DBGMCU:
        from: STM32U375.DBGMCU
        instances: [DBGMCU]
      EXTI:
        from: STM32U375.ExTI
        instances: [ExTI]
        interrupts:
          PVD_PVM: PVD_PVM
          ExTI0: INTR0
          ExTI1: INTR1
          ExTI2: INTR2
          ExTI3: INTR3
          ExTI4: INTR4
          ExTI5: INTR5
          ExTI6: INTR6
          ExTI7: INTR7
          ExTI8: INTR8
          ExTI9: INTR9
          ExTI10: INTR10
          ExTI11: INTR11
          ExTI12: INTR12
          ExTI13: INTR13
          ExTI14: INTR14
          ExTI15: INTR15
          FPU: FPU
      FDCAN:
        from: STM32U375.FDCAN1
        instances: [FDCAN1]
        interrupts:
          FDCAN1_IT0: IT0
          FDCAN1_IT1: IT1
      Flash:
        from: STM32U375.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
      GPDMA:
        from: STM32U375.GPDMA1
        instances: [GPDMA1]
        interrupts:
          GPDMA1_CHannel0: CHannel0
          GPDMA1_CHannel1: CHannel1
          GPDMA1_CHannel2: CHannel2
          GPDMA1_CHannel3: CHannel3
          GPDMA1_CHannel4: CHannel4
          GPDMA1_CHannel5: CHannel5
          GPDMA1_CHannel6: CHannel6
          GPDMA1_CHannel7: CHannel7
          GPDMA1_CHannel8: CHannel8
          GPDMA1_CHannel9: CHannel9
          GPDMA1_CHannel10: CHannel10
          GPDMA1_CHannel11: CHannel11
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOG, GPIOH]
      Timer:
        uses: TimerV2
        instances: [TIM1, TIM15, TIM16, TIM17, TIM2, TIM3, TIM4]
      HASH:
        uses: HASH
        instances: [HASH]
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3]
      I3C:
        from: STM32U375.I3C1
        instances: [I3C1, I3C2]
        interrupts:
          I3C1_ER: ER
          I3C1_EV: EV
      IWDG:
        uses: IWDG
        instances: [IWDG]
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM2, LPTIM3, LPTIM4]
      LPUART:
        uses: LPUART
        instances: [LPUART]
      OCTOSPI:
        uses: OCTOSPI
        instances: [OCTOSPI]
      OPAMP:
        from: STM32U375.OPAMP
        instances: [OPAMP]
        transforms:
          - {type: renameRegisters, pattern: '^OPAMP1_', replacement: ''}
          - {type: renameRegisters, pattern: '^OPAMP2_(.+)', replacement: '\g<1>2'}
          # U3 SVD typo: OPAMP2_CRS instead of OPAMP2_CSR
          - {type: renameRegisters, pattern: '^CRS', replacement: CSR}
      PKA:
        uses: PKA
        instances: [PKA]
      PWR:
        from: STM32U375.PWR
        instances: [PWR]
        interrupts:
          PWR: INTR
      RAMCFG:
        from: STM32U375.RAMCFG
        instances: [RAMCFG]
        interrupts:
          RAMCFG: INTR
      RCC:
        from: STM32U375.RCC
        instances: [RCC]
        interrupts:
          RCC: INTR
      RNG:
        from: STM32U375.RNG
        instances: [RNG]
        interrupts:
          RNG: INTR
      RTC:
        from: STM32U375.RTC
        instances: [RTC]
        interrupts:
          RTC: INTR
      SAES:
        from: STM32U385.SAES
        instances: [SAES]
        interrupts:
          SAES: INTR
      SAI:
        uses: SAI
        instances: [SAI]
      SDMMC:
        from: STM32U375.SDMMC1
        instances: [SDMMC1]
        interrupts:
          SDMMC1: INTR
      SPI:
        uses: ModernSPI
        instances: [SPI1, SPI2, SPI3]
      SYSCFG:
        from: STM32U375.SYSCFG
        instances: [SYSCFG]
      TAMP:
        from: STM32U375.TAMP
        instances: [TAMP]
        interrupts:
          TAMP: INTR
      TSC:
        from: STM32U375.TSC
        instances: [TSC]
        interrupts:
          TSC: INTR
      USART:
        uses: USART
        instances: [UART4, UART5, USART1, USART3]
      USB:
        from: STM32U375.USB
        instances: [USB]
        interrupts:
          USB_FS: INTR
      VREFBUF:
        from: STM32U375.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG]
    chip_params:
      _all:
        _all:
          WWDG: {cfr_version: 2}
          IWDG: {gen: 2}
          CRC: {has_rtype: true}
          CRS: {trim_width: 7}
          SPI: {has_autocr: true}
          USART: {has_wakeup: false, has_autocr: true}
          LPUART: {has_wakeup: false, has_autocr: true}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          TIM2: {width32: true, encoder: 3, sms_preload: 2}
          TIM3: {width32: true, encoder: 3, sms_preload: 2}
          TIM4: {width32: true, encoder: 3, sms_preload: 2}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true, sms_preload: 1}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          LPTIM: {max_channel: 1}
          SAI: {has_gcr: false, has_pdm: true, has_mcken: true}
          GPIO: {has_hslvr: true, has_seccfgr: true}
          HASH: {gen: 2}
          PKA: {gen: 3}
  U5:
    svd:
      zip: stm32u5_svd.zip
      version: "1.3"
      date: "2023-09-27"
    subfamilies:
      U5xx:
        ref_manual:
          name: RM0456
          url: https://www.st.com/resource/en/reference_manual/rm0456-stm32u5-series-armbased-32bit-mcus-stmicroelectronics.pdf
          rev: '6'
          date: 2025-01
        chips:
          - STM32U535
          - STM32U545
          - STM32U575
          - STM32U585
          - STM32U595
          - STM32U599
          - STM32U5A5
          - STM32U5A9
          - STM32U5Fx
          - STM32U5Gx
    blocks:
      ADC:
        from: STM32U535.ADC1
        instances: [ADC1, ADC2, ADC4]
        interrupts:
          ADC12: INTR
      ADC_Common:
        from: STM32U5Fx.ADC12
        instances: [ADC12, ADC12_Common]
      ADF:
        from: STM32U535.ADF1
        instances: [ADF1]
        interrupts:
          ADF1_FLT0: INTR
      AES:
        from: STM32U5Gx.AES
        instances: [AES]
        interrupts:
          AES: INTR
      BasicTimer:
        uses: BasicTimer
        instances: [TIM6, TIM7]
        interrupts:
          TIM6: INTR
      COMP:
        from: STM32U535.COMP
        instances: [COMP]
        transforms:
          - {type: renameRegisters, pattern: ^COMP\d+_, replacement: ''}
        interrupts:
          COMP: INTR
      CORDIC:
        uses: CORDIC
        instances: [CORDIC]
      CRC:
        uses: CRC
        instances: [CRC]
      CRS:
        uses: CRS
        instances: [CRS]
      DAC:
        from: STM32U535.DAC1
        instances: [DAC1]
        interrupts:
          DAC1: INTR
      DBGMCU:
        from: STM32U5Fx.DBGMCU
        instances: [DBGMCU]
      DCB:
        from: STM32U535.DCB
        instances: [DCB]
      DCMI:
        uses: DCMI
        instances: [DCMI]
      DMA2D:
        uses: DMA2D
        instances: [DMA2D]
      DSI:
        from: STM32U599.DSI
        instances: [DSI]
        interrupts:
          DSIHOST: INTR
      EXTI:
        from: STM32U535.EXTI
        instances: [EXTI]
        interrupts:
          PVD_PVM: PVD_PVM
          EXTI0: INTR0
          EXTI1: INTR1
          EXTI2: INTR2
          EXTI3: INTR3
          EXTI4: INTR4
          EXTI5: INTR5
          EXTI6: INTR6
          EXTI7: INTR7
          EXTI8: INTR8
          EXTI9: INTR9
          EXTI10: INTR10
          EXTI11: INTR11
          EXTI12: INTR12
          EXTI13: INTR13
          EXTI14: INTR14
          EXTI15: INTR15
          FPU: FPU
          LSECSSD: LSECSSD
          GPU2D_IRQ: GPU2D_IRQ
          GPU2D_IRQSYS: GPU2D_IRQSYS
      FDCAN:
        from: STM32U535.FDCAN1
        instances: [FDCAN1, FDCAN1_RAM]
      FMAC:
        uses: FMAC
        instances: [FMAC]
      FMC:
        from: STM32U5Fx.FMC
        instances: [FMC]
        interrupts:
          FMC: INTR
      Flash:
        from: STM32U5Fx.FLASH
        instances: [FLASH]
        interrupts:
          FLASH: INTR
          FLASH_S: S
          USB: USB
      GFXMMU:
        from: STM32U599.GFXMMU
        instances: [GFXMMU]
        interrupts:
          GFXMMU: INTR
      GFXTIM:
        from: STM32U5Fx.GFXTIM
        instances: [GFXTIM]
        interrupts:
          GFXTIM: INTR
      GPDMA:
        from: STM32U5Fx.GPDMA1
        instances: [GPDMA1]
        interrupts:
          GPDMA1_CH0: CH0
          GPDMA1_CH1: CH1
          GPDMA1_CH2: CH2
          GPDMA1_CH3: CH3
          GPDMA1_CH4: CH4
          GPDMA1_CH5: CH5
          GPDMA1_CH6: CH6
          GPDMA1_CH7: CH7
          GPDMA1_CH8: CH8
          GPDMA1_CH9: CH9
          GPDMA1_CH10: CH10
          GPDMA1_CH11: CH11
          GPDMA1_CH12: CH12
          GPDMA1_CH13: CH13
          GPDMA1_CH14: CH14
          GPDMA1_CH15: CH15
      GPIO:
        uses: GPIO
        instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH, GPIOI, GPIOJ]
      Timer:
        uses: TimerV2
        instances: [TIM1, TIM15, TIM16, TIM17, TIM2, TIM3, TIM4, TIM5, TIM8]
      HASH:
        uses: HASH
        instances: [HASH]
      HSPI:
        from: STM32U599.HSPI1
        instances: [HSPI1]
        interrupts:
          HSPI1: INTR
      I2C:
        uses: I2C
        instances: [I2C1, I2C2, I2C3, I2C4, I2C5, I2C6]
      ICACHE:
        from: STM32U535.ICache
        instances: [ICache]
        interrupts:
          ICACHE: INTR
      IWDG:
        uses: IWDG
        instances: [IWDG]
      JPEG:
        from: STM32U5Fx.JPEG
        instances: [JPEG]
        interrupts:
          JPEG: INTR
      LPDMA:
        from: STM32U5Fx.LPDMA1
        instances: [LPDMA1]
        interrupts:
          LPDMA1_CH0: CH0
          LPDMA1_CH1: CH1
          LPDMA1_CH2: CH2
          LPDMA1_CH3: CH3
      LPGPIO:
        from: STM32U5Fx.LPGPIO1
        instances: [LPGPIO1]
      LPTIM:
        uses: LPTIM
        instances: [LPTIM1, LPTIM2, LPTIM3, LPTIM4]
      LPUART:
        uses: LPUART
        instances: [LPUART1]
      LTDC:
        from: STM32U599.LTDC
        instances: [LTDC]
        interrupts:
          LCD_TFT: LCD_TFT
          LCD_TFT_ERR: LCD_TFT_ERR
      MDF:
        from: STM32U535.MDF1
        instances: [MDF1]
        interrupts:
          MDF1_FLT0: FLT0
          MDF1_FLT1: FLT1
          MDF1_FLT2: FLT2
          MDF1_FLT3: FLT3
          MDF1_FLT4: FLT4
          MDF1_FLT5: FLT5
      OCTOSPI:
        uses: OCTOSPI
        instances: [OCTOSPI1, OCTOSPI2, OCTOSPIM]
      OPAMP:
        uses: LPOPAMP
        instances: [OPAMP]
      OTFDEC:
        from: STM32U5Gx.OTFDEC1
        instances: [OTFDEC1, OTFDEC2]
        interrupts:
          OTFDEC1: INTR
      OTG_FS:
        from: STM32U5Fx.OTG_FS
        instances: [OTG_FS]
        interrupts:
          OTG_FS: INTR
      OTG_HS:
        from: STM32U595.OTG_HS
        instances: [OTG_HS]
        interrupts:
          OTG_HS: INTR
      PKA:
        uses: PKA
        instances: [PKA]
      PSSI:
        uses: PSSI
        instances: [PSSI]
      PWR:
        from: STM32U5Fx.PWR
        instances: [PWR]
        interrupts:
          PWR_S3WU: INTR
      RAMCFG:
        from: STM32U5Fx.RAMCFG
        instances: [RAMCFG]
        interrupts:
          RAMCFG: INTR
      RCC:
        from: STM32U535.RCC
        instances: [RCC]
        interrupts:
          RCC: INTR
          RCC_S: S
      RNG:
        uses: RNG
        instances: [RNG]
      RTC:
        from: STM32U535.RTC
        instances: [RTC]
        interrupts:
          RTC: INTR
          RTC_S: S
      SAES:
        from: STM32U5Gx.SAES
        instances: [SAES]
        interrupts:
          SAES: INTR
      SAI:
        uses: SAI
        instances: [SAI1, SAI2]
      SDMMC:
        from: STM32U535.SDMMC
        instances: [SDMMC, SDMMC1, SDMMC2]
        interrupts:
          SDMMC1: INTR
      SPI:
        uses: ModernSPI
        instances: [SPI1, SPI2, SPI3]
      SYSCFG:
        from: STM32U5Fx.SYSCFG
        instances: [SYSCFG]
      TAMP:
        from: STM32U5Fx.TAMP
        instances: [TAMP]
        interrupts:
          TAMP: INTR
      TSC:
        from: STM32U535.TSC
        instances: [TSC]
        interrupts:
          TSC: INTR
      UCPD:
        from: STM32U5Fx.UCPD1
        instances: [UCPD1]
        interrupts:
          UCPD1: INTR
      USART:
        uses: USART
        instances: [UART4, UART5, USART1, USART2, USART3, USART6]
      VREFBUF:
        from: STM32U535.VREFBUF
        instances: [VREFBUF]
      WWDG:
        uses: WWDG
        instances: [WWDG]
    chip_params:
      _all:
        _all:
          WWDG: {cfr_version: 2}
          IWDG: {gen: 2}
          RNG: {gen: 3}
          DMA2D: {gen: 2}
          OCTOSPI: {has_maxtran: true}
          SPI: {has_autocr: true}
          USART: {has_wakeup: false, has_autocr: true}
          LPUART: {has_wakeup: false, has_autocr: true}
          UART4: {synchronous: 0}
          UART5: {synchronous: 0}
          TIM2: {width32: true, encoder: 2, sms_preload: 2}
          TIM3: {width32: true, encoder: 1, sms_preload: 2}
          TIM4: {width32: true, encoder: 1, sms_preload: 2}
          TIM5: {width32: true, encoder: 1, sms_preload: 2}
          TIM15: {max_channel: 1, has_centerPWM: false, has_etr: false, has_complementary: true}
          TIM16: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM17: {max_channel: 0, has_centerPWM: false, has_xor_input: false, has_etr: false, has_complementary: true}
          TIM1: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          TIM8: {max_channel: 5, has_complementary: true, has_mms2: true, encoder: 3, sms_preload: 2}
          LPTIM: {max_channel: 1}
          SAI: {has_pdm: true, has_mcken: true}
          GPIO: {has_hslvr: true, has_seccfgr: true}
          HASH: {gen: 1}
          PKA: {gen: 1}
