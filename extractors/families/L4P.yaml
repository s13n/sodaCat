families:
  L4Px_L4Qx:
    ref_manual:
      name: RM0432
      url: https://www.st.com/resource/en/reference_manual/rm0432-stm32l4-series-advanced-armbased-32bit-mcus-stmicroelectronics.pdf
    chips:
    - STM32L4P5
    - STM32L4Q5
  L4Rx_L4Sx:
    ref_manual:
      name: RM0432
      url: https://www.st.com/resource/en/reference_manual/rm0432-stm32l4-series-advanced-armbased-32bit-mcus-stmicroelectronics.pdf
    chips:
    - STM32L4R5
    - STM32L4R7
    - STM32L4R9
    - STM32L4S5
    - STM32L4S7
    - STM32L4S9
blocks:
  ADC:
    from: STM32L4R5.ADC
    instances: [ADC]
    interrupts:
      ADC1_2: INTR
    transforms:
      - type: patchFields
        register: CFGR
        fields:
          - name: DFSDMCFG
            description: DFSDM mode configuration
            bitOffset: 2
            bitWidth: 1
      - type: patchFields
        register: CFGR2
        fields:
          - name: ROVSM
            description: Regular Oversampling mode
  ADC_Common:
    from: STM32L4P5.ADC_Common
    instances: [ADC_Common]
  AES:
    from: STM32L4P5.AES
    instances: [AES]
    interrupts:
      AES: INTR
  AdvCtrlTimer:
    from: STM32L4P5.TIM1
    instances: [TIM1, TIM8]
    interrupts:
      TIM1_BRK_TIM15: BRK
      TIM1_UP_TIM16: UP
      TIM1_TRG_COM_TIM17: TRG_COM
      TIM1_CC: CC
  BasicTimer:
    from: STM32L4P5.TIM6
    instances: [TIM6, TIM7]
    interrupts:
      TIM6_DACUNDER: INTR
  COMP:
    from: STM32L4P5.COMP
    instances: [COMP]
    interrupts:
      COMP: INTR
  CRC:
    from: STM32L4P5.CRC
    instances: [CRC]
  CRS:
    from: STM32L4P5.CRS
    instances: [CRS]
    interrupts:
      CRS: INTR
  DAC:
    from: STM32L4P5.DAC
    instances: [DAC]
  DBGMCU:
    from: STM32L4P5.DBGMCU
    instances: [DBGMCU]
  DCMI:
    from: STM32L4P5.DCMI
    instances: [DCMI]
    interrupts:
      DCMI: INTR
  DFSDM:
    from: STM32L4P5.DFSDM1
    instances: [DFSDM1]
    interrupts:
      DFSDM1_FLT3: FLT3
      DFSDM1_FLT0: FLT0
      DFSDM1_FLT1: FLT1
      DFSDM1_FLT2: FLT2
  DMA:
    from: STM32L4P5.DMA1
    instances: [DMA1, DMA2]
    interrupts:
      DMA1_CH1: CH1
      DMA1_CH2: CH2
      DMA1_CH3: CH3
      DMA1_CH4: CH4
      DMA1_CH5: CH5
      DMA1_CH6: CH6
      DMA1_CH7: CH7
  DMA2D:
    from: STM32L4P5.DMA2D
    instances: [DMA2D]
    interrupts:
      DMA2D: INTR
  DMAMUX:
    from: STM32L4P5.DMAMUX1
    instances: [DMAMUX1]
    interrupts:
      DMAMUX1_OVR: INTR
  DSI:
    from: STM32L4R9.DSI
    instances: [DSI]
    interrupts:
      DSIHSOT: INTR
  EXTI:
    from: STM32L4P5.EXTI
    instances: [EXTI]
    interrupts:
      PVD_PVM: PVD_PVM
      EXTI0: INTR0
      EXTI1: INTR1
      EXTI2: INTR2
      EXTI3: INTR3
      EXTI4: INTR4
      EXTI9_5: INTR9_5
      EXTI15_10: INTR15_10
  FMC:
    from: STM32L4P5.FMC
    instances: [FMC]
    interrupts:
      FMC: INTR
      FPU: FPU
  Flash:
    instances: [FLASH]
    interrupts:
      FLASH: INTR
    variants:
      L4Px_L4Qx:
        from: STM32L4P5.FLASH
      L4Rx_L4Sx:
        from: STM32L4R5.FLASH
  GFXMMU:
    from: STM32L4R5.GFXMMU
    instances: [GFXMMU]
    interrupts:
      GFXMMU: INTR
  GPIO:
    from: STM32L4P5.GPIOA
    instances: [GPIOA, GPIOB, GPIOC, GPIOD, GPIOE, GPIOF, GPIOG, GPIOH, GPIOI]
  GpTimer:
    from: STM32L4P5.TIM2
    instances: [TIM15, TIM16, TIM17, TIM2, TIM3, TIM4, TIM5]
    interrupts:
      TIM2: INTR
  HASH:
    from: STM32L4P5.HASH
    instances: [HASH]
  I2C:
    from: STM32L4P5.I2C1
    instances: [I2C1, I2C2, I2C3, I2C4]
    interrupts:
      I2C1_EV: EV
      I2C1_ER: ER
  IWDG:
    from: STM32L4P5.IWDG
    instances: [IWDG]
  LPTIM:
    from: STM32L4P5.LPTIM1
    instances: [LPTIM1, LPTIM2]
    interrupts:
      LPTIM1: INTR
  LPUART:
    from: STM32L4P5.LPUART1
    instances: [LPUART1]
    interrupts:
      LPUART1: INTR
  LTDC:
    from: STM32L4P5.LTCD
    instances: [LTCD]
    interrupts:
      LCD_TFT: INTR
      LCD_TFT_ER: ERROR
  OCTOSPI:
    instances: [OCTOSPI1, OCTOSPI2]
    interrupts:
      OCTOSPI1: INTR
    variants:
      L4Px_L4Qx:
        from: STM32L4P5.OCTOSPI1
      L4Rx_L4Sx:
        from: STM32L4R5.OCTOSPI1
  OPAMP:
    from: STM32L4P5.OPAMP
    instances: [OPAMP]
  OTG_FS_DEVICE:
    from: STM32L4P5.OTG_FS_DEVICE
    instances: [OTG_FS_DEVICE]
  OTG_FS_GLOBAL:
    from: STM32L4P5.OTG_FS_GLOBAL
    instances: [OTG_FS_GLOBAL]
    interrupts:
      OTG_FS: INTR
  OTG_FS_HOST:
    from: STM32L4P5.OTG_FS_HOST
    instances: [OTG_FS_HOST]
  OTG_FS_PWRCLK:
    from: STM32L4P5.OTG_FS_PWRCLK
    instances: [OTG_FS_PWRCLK]
  PWR:
    from: STM32L4P5.PWR
    instances: [PWR]
  RCC:
    instances: [RCC]
    interrupts:
      RCC: INTR
    variants:
      L4Px_L4Qx:
        from: STM32L4P5.RCC
      L4Rx_L4Sx:
        from: STM32L4R5.RCC
  RNG:
    from: STM32L4P5.RNG
    instances: [RNG]
    interrupts:
      RNG_HASH: INTR
  RTC:
    instances: [RTC]
    interrupts:
      RTC_TAMP_STAMP_CSS_LSE: TAMP_STAMP_CSS_LSE
      RTC_WKUP: WKUP
      RTC_ALARM: ALARM
    variants:
      L4Px_L4Qx:
        from: STM32L4P5.RTC
      L4Rx_L4Sx:
        from: STM32L4R5.RTC
  SAI:
    from: STM32L4P5.SAI1
    instances: [SAI1, SAI2]
    interrupts:
      SAI1: INTR
  SDMMC:
    instances: [SDMMC1, SDMMC2]
    interrupts:
      SDMMC1: INTR
    variants:
      L4Px_L4Qx:
        from: STM32L4P5.SDMMC1
      L4Rx_L4Sx:
        from: STM32L4R5.SDMMC1
  SPI:
    from: STM32L4P5.SPI1
    instances: [SPI1, SPI2, SPI3]
    interrupts:
      SPI1: INTR
  SWPMI:
    from: STM32L4P5.SWPMI1
    instances: [SWPMI1]
  SYSCFG:
    from: STM32L4P5.SYSCFG
    instances: [SYSCFG]
  TSC:
    from: STM32L4P5.TSC
    instances: [TSC]
    interrupts:
      TSC: INTR
  USART:
    from: STM32L4P5.UART4
    instances: [UART4, UART5, USART1, USART2, USART3]
    interrupts:
      UART4: INTR
  VREFBUF:
    from: STM32L4P5.VREFBUF
    instances: [VREFBUF]
  WWDG:
    from: STM32L4P5.WWDG
    instances: [WWDG]
    interrupts:
      WWDG: INTR
  bxCAN:
    from: STM32L4P5.CAN1
    instances: [CAN1]
    interrupts:
      CAN1_TX: TX
      CAN1_RX0: RX0
      CAN1_RX1: RX1
      CAN1_SCE: SCE
