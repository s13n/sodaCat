# Created from LPC865.svd

name: DMA
description: LPC84x DMA controller
groupName: DMA
registers:
  - name: CTRL
    description: DMA control.
    addressOffset: 0
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 1
    fields:
      - name: ENABLE
        description: DMA controller master enable.
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: DISABLED
            description: Disabled. The DMA controller is disabled. This clears any
              triggers that were asserted at the point when disabled, but does not
              prevent re-triggering when the DMA controller is re-enabled.
            value: 0
          - name: ENABLED
            description: Enabled. The DMA controller is enabled.
            value: 1
  - name: INTSTAT
    description: Interrupt status.
    addressOffset: 4
    size: 32
    access: read-only
    resetValue: 0
    resetMask: 6
    fields:
      - name: ACTIVEINT
        description: Summarizes whether any enabled interrupts (other than error interrupts)
          are pending.
        bitOffset: 1
        bitWidth: 1
        access: read-only
        enumeratedValues:
          - name: NOT_PENDING
            description: Not pending. No enabled interrupts are pending.
            value: 0
          - name: PENDING
            description: Pending. At least one enabled interrupt is pending.
            value: 1
      - name: ACTIVEERRINT
        description: Summarizes whether any error interrupts are pending.
        bitOffset: 2
        bitWidth: 1
        access: read-only
        enumeratedValues:
          - name: NOT_PENDING
            description: Not pending. No error interrupts are pending.
            value: 0
          - name: PENDING
            description: Pending. At least one error interrupt is pending.
            value: 1
  - name: SRAMBASE
    description: SRAM address of the channel configuration table.
    addressOffset: 8
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294966784
    fields:
      - name: OFFSET
        description: Address bits 31:9 of the beginning of the DMA descriptor table.
          For 18 channels, the table must begin on a 512 byte boundary.
        bitOffset: 9
        bitWidth: 23
        access: read-write
  - name: ENABLESET0
    description: Channel Enable read and Set for all DMA channels.
    addressOffset: 32
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 67108863
    fields:
      - name: ENA
        description: Enable for DMA channels. Bit n enables or disables DMA channel
          n. The number of bits = number of DMA channels in this device. Other bits
          are reserved. 0 = disabled. 1 = enabled.
        bitOffset: 0
        bitWidth: 25
        access: read-write
  - name: ENABLECLR0
    description: Channel Enable Clear for all DMA channels.
    addressOffset: 40
    size: 32
    access: write-only
    resetValue: 0
    resetMask: 0
    fields:
      - name: CLR
        description: Writing ones to this register clears the corresponding bits in
          ENABLESET0. Bit n clears the channel enable bit n. The number of bits =
          number of DMA channels in this device. Other bits are reserved.
        bitOffset: 0
        bitWidth: 25
        access: write-only
  - name: ACTIVE0
    description: Channel Active status for all DMA channels.
    addressOffset: 48
    size: 32
    access: read-only
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: ACT
        description: Active flag for DMA channel n. Bit n corresponds to DMA channel
          n. The number of bits = number of DMA channels in this device. Other bits
          are reserved. 0 = not active. 1 = active.
        bitOffset: 0
        bitWidth: 25
        access: read-only
  - name: BUSY0
    description: Channel Busy status for all DMA channels.
    addressOffset: 56
    size: 32
    access: read-only
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: BSY
        description: Busy flag for DMA channel n. Bit n corresponds to DMA channel
          n. The number of bits = number of DMA channels in this device. Other bits
          are reserved. 0 = not busy. 1 = busy.
        bitOffset: 0
        bitWidth: 25
        access: read-only
  - name: ERRINT0
    description: Error Interrupt status for all DMA channels.
    addressOffset: 64
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: ERR
        description: Error Interrupt flag for DMA channel n. Bit n corresponds to
          DMA channel n. The number of bits = number of DMA channels in this device.
          Other bits are reserved. 0 = error interrupt is not active. 1 = error interrupt
          is active.
        bitOffset: 0
        bitWidth: 25
        access: read-write
  - name: INTENSET0
    description: Interrupt Enable read and Set for all DMA channels.
    addressOffset: 72
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: INTEN
        description: Interrupt Enable read and set for DMA channel n. Bit n corresponds
          to DMA channel n. The number of bits = number of DMA channels in this device.
          Other bits are reserved. 0 = interrupt for DMA channel is disabled. 1 =
          interrupt for DMA channel is enabled.
        bitOffset: 0
        bitWidth: 25
        access: read-write
  - name: INTENCLR0
    description: Interrupt Enable Clear for all DMA channels.
    addressOffset: 80
    size: 32
    access: write-only
    resetValue: 0
    resetMask: 0
    fields:
      - name: CLR
        description: Writing ones to this register clears corresponding bits in the
          INTENSET0. Bit n corresponds to DMA channel n. The number of bits = number
          of DMA channels in this device. Other bits are reserved.
        bitOffset: 0
        bitWidth: 25
        access: write-only
  - name: INTA0
    description: Interrupt A status for all DMA channels.
    addressOffset: 88
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: IA
        description: Interrupt A status for DMA channel n. Bit n corresponds to DMA
          channel n. The number of bits = number of DMA channels in this device. Other
          bits are reserved. 0 = the DMA channel interrupt A is not active. 1 = the
          DMA channel interrupt A is active.
        bitOffset: 0
        bitWidth: 25
        access: read-write
  - name: INTB0
    description: Interrupt B status for all DMA channels.
    addressOffset: 96
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: IB
        description: Interrupt B status for DMA channel n. Bit n corresponds to DMA
          channel n. The number of bits = number of DMA channels in this device. Other
          bits are reserved. 0 = the DMA channel interrupt B is not active. 1 = the
          DMA channel interrupt B is active.
        bitOffset: 0
        bitWidth: 25
        access: read-write
  - name: SETVALID0
    description: Set ValidPending control bits for all DMA channels.
    addressOffset: 104
    size: 32
    access: write-only
    resetValue: 0
    resetMask: 0
    fields:
      - name: SV
        description: SETVALID control for DMA channel n. Bit n corresponds to DMA
          channel n. The number of bits = number of DMA channels in this device. Other
          bits are reserved. 0 = no effect. 1 = sets the VALIDPENDING control bit
          for DMA channel n
        bitOffset: 0
        bitWidth: 32
        access: write-only
  - name: SETTRIG0
    description: Set Trigger control bits for all DMA channels.
    addressOffset: 112
    size: 32
    access: write-only
    resetValue: 0
    resetMask: 0
    fields:
      - name: TRIG
        description: Set Trigger control bit for DMA channel 0. Bit n corresponds
          to DMA channel n. The number of bits = number of DMA channels in this device.
          Other bits are reserved. 0 = no effect. 1 = sets the TRIG bit for DMA channel
          n.
        bitOffset: 0
        bitWidth: 32
        access: write-only
  - name: ABORT0
    description: Channel Abort control for all DMA channels.
    addressOffset: 120
    size: 32
    access: write-only
    resetValue: 0
    resetMask: 0
    fields:
      - name: ABORTCTRL
        description: Abort control for DMA channel 0. Bit n corresponds to DMA channel
          n. 0 = no effect. 1 = aborts DMA operations on channel n.
        bitOffset: 0
        bitWidth: 32
        access: write-only
  - dim: 25
    dimIncrement: 16
    name: CHANNEL[%s]
    description: no description available
    addressOffset: 1024
    registers:
      - name: CFG
        description: Configuration register for DMA channel .
        addressOffset: 0
        size: 32
        access: read-write
        resetValue: 0
        resetMask: 511859
        fields:
          - name: PERIPHREQEN
            description: Peripheral request Enable. If a DMA channel is used to perform
              a memory-to-memory move, any peripheral DMA request associated with
              that channel can be disabled to prevent any interaction between the
              peripheral and the DMA controller.
            bitOffset: 0
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: DISABLED
                description: Disabled. Peripheral DMA requests are disabled.
                value: 0
              - name: ENABLED
                description: Enabled. Peripheral DMA requests are enabled.
                value: 1
          - name: HWTRIGEN
            description: Hardware Triggering Enable for this channel.
            bitOffset: 1
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: DISABLED
                description: Disabled. Hardware triggering is not used.
                value: 0
              - name: ENABLED
                description: Enabled. Use hardware triggering.
                value: 1
          - name: TRIGPOL
            description: Trigger Polarity. Selects the polarity of a hardware trigger
              for this channel.
            bitOffset: 4
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: ACTIVE_LOW_FALLING
                description: Active low - falling edge. Hardware trigger is active
                  low or falling edge triggered, based on TRIGTYPE.
                value: 0
              - name: ACTIVE_HIGH_RISING
                description: Active high - rising edge. Hardware trigger is active
                  high or rising edge triggered, based on TRIGTYPE.
                value: 1
          - name: TRIGTYPE
            description: Trigger Type. Selects hardware trigger as edge triggered
              or level triggered.
            bitOffset: 5
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: EDGE
                description: Edge. Hardware trigger is edge triggered. Transfers will
                  be initiated and completed, as specified for a single trigger.
                value: 0
              - name: LEVEL
                description: Level. Hardware trigger is level triggered. Note that
                  when level triggering without burst (BURSTPOWER = 0) is selected,
                  only hardware triggers should be used on that channel. Transfers
                  continue as long as the trigger level is asserted. Once the trigger
                  is de-asserted, the transfer will be paused until the trigger is,
                  again, asserted. However, the transfer will not be paused until
                  any remaining transfers within the current BURSTPOWER length are
                  completed.
                value: 1
          - name: TRIGBURST
            description: Trigger Burst. Selects whether hardware triggers cause a
              single or burst transfer.
            bitOffset: 6
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: SINGLE
                description: Single transfer. Hardware trigger causes a single transfer.
                value: 0
              - name: BURST
                description: Burst transfer. When the trigger for this channel is
                  set to edge triggered, a hardware trigger causes a burst transfer,
                  as defined by BURSTPOWER. When the trigger for this channel is set
                  to level triggered, a hardware trigger causes transfers to continue
                  as long as the trigger is asserted, unless the transfer is complete.
                value: 1
          - name: BURSTPOWER
            description: 'Burst Power is used in two ways. It always selects the address
              wrap size when SRCBURSTWRAP and/or DSTBURSTWRAP modes are selected (see
              descriptions elsewhere in this register). When the TRIGBURST field elsewhere
              in this register = 1, Burst Power selects how many transfers are performed
              for each DMA trigger. This can be used, for example, with peripherals
              that contain a FIFO that can initiate a DMA operation when the FIFO
              reaches a certain level. 0000: Burst size = 1 (20). 0001: Burst size
              = 2 (21). 0010: Burst size = 4 (22). 1010: Burst size = 1024 (210).
              This corresponds to the maximum supported transfer count. others: not
              supported. The total transfer length as defined in the XFERCOUNT bits
              in the XFERCFG register must be an even multiple of the burst size.'
            bitOffset: 8
            bitWidth: 4
            access: read-write
          - name: SRCBURSTWRAP
            description: Source Burst Wrap. When enabled, the source data address
              for the DMA is 'wrapped', meaning that the source address range for
              each burst will be the same. As an example, this could be used to read
              several sequential registers from a peripheral for each DMA burst, reading
              the same registers again for each burst.
            bitOffset: 14
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: DISABLED
                description: Disabled. Source burst wrapping is not enabled for this
                  DMA channel.
                value: 0
              - name: ENABLED
                description: Enabled. Source burst wrapping is enabled for this DMA
                  channel.
                value: 1
          - name: DSTBURSTWRAP
            description: Destination Burst Wrap. When enabled, the destination data
              address for the DMA is 'wrapped', meaning that the destination address
              range for each burst will be the same. As an example, this could be
              used to write several sequential registers to a peripheral for each
              DMA burst, writing the same registers again for each burst.
            bitOffset: 15
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: DISABLED
                description: Disabled. Destination burst wrapping is not enabled for
                  this DMA channel.
                value: 0
              - name: ENABLED
                description: Enabled. Destination burst wrapping is enabled for this
                  DMA channel.
                value: 1
          - name: CHPRIORITY
            description: 'Priority of this channel when multiple DMA requests are
              pending. Eight priority levels are supported: 0x0 = highest priority.
              0x7 = lowest priority.'
            bitOffset: 16
            bitWidth: 3
            access: read-write
      - name: CTLSTAT
        description: Control and status register for DMA channel .
        addressOffset: 4
        size: 32
        access: read-only
        resetValue: 0
        resetMask: 5
        fields:
          - name: VALIDPENDING
            description: Valid pending flag for this channel. This bit is set when
              a 1 is written to the corresponding bit in the related SETVALID register
              when CFGVALID = 1 for the same channel.
            bitOffset: 0
            bitWidth: 1
            access: read-only
            enumeratedValues:
              - name: NO_EFFECT
                description: No effect. No effect on DMA operation.
                value: 0
              - name: VALID_PENDING
                description: Valid pending.
                value: 1
          - name: TRIG
            description: Trigger flag. Indicates that the trigger for this channel
              is currently set. This bit is cleared at the end of an entire transfer
              or upon reload when CLRTRIG = 1.
            bitOffset: 2
            bitWidth: 1
            access: read-only
            enumeratedValues:
              - name: NOT_TRIGGERED
                description: Not triggered. The trigger for this DMA channel is not
                  set. DMA operations will not be carried out.
                value: 0
              - name: TRIGGERED
                description: Triggered. The trigger for this DMA channel is set. DMA
                  operations will be carried out.
                value: 1
      - name: XFERCFG
        description: Transfer configuration register for DMA channel .
        addressOffset: 8
        size: 32
        access: read-write
        resetValue: 0
        resetMask: 67105599
        fields:
          - name: CFGVALID
            description: Configuration Valid flag. This bit indicates whether the
              current channel descriptor is valid and can potentially be acted upon,
              if all other activation criteria are fulfilled.
            bitOffset: 0
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: NOT_VALID
                description: Not valid. The channel descriptor is not considered valid
                  until validated by an associated SETVALID0 setting.
                value: 0
              - name: VALID
                description: Valid. The current channel descriptor is considered valid.
                value: 1
          - name: RELOAD
            description: Indicates whether the channel's control structure will be
              reloaded when the current descriptor is exhausted. Reloading allows
              ping-pong and linked transfers.
            bitOffset: 1
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: DISABLED
                description: Disabled. Do not reload the channels' control structure
                  when the current descriptor is exhausted.
                value: 0
              - name: ENABLED
                description: Enabled. Reload the channels' control structure when
                  the current descriptor is exhausted.
                value: 1
          - name: SWTRIG
            description: Software Trigger.
            bitOffset: 2
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: NOT_SET
                description: Not set. When written by software, the trigger for this
                  channel is not set. A new trigger, as defined by the HWTRIGEN, TRIGPOL,
                  and TRIGTYPE will be needed to start the channel.
                value: 0
              - name: SET
                description: Set. When written by software, the trigger for this channel
                  is set immediately. This feature should not be used with level triggering
                  when TRIGBURST = 0.
                value: 1
          - name: CLRTRIG
            description: Clear Trigger.
            bitOffset: 3
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: NOT_CLEARED
                description: Not cleared. The trigger is not cleared when this descriptor
                  is exhausted. If there is a reload, the next descriptor will be
                  started.
                value: 0
              - name: CLEARED
                description: Cleared. The trigger is cleared when this descriptor
                  is exhausted
                value: 1
          - name: SETINTA
            description: Set Interrupt flag A for this channel. There is no hardware
              distinction between interrupt A and B. They can be used by software
              to assist with more complex descriptor usage. By convention, interrupt
              A may be used when only one interrupt flag is needed.
            bitOffset: 4
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: NO_EFFECT
                description: No effect.
                value: 0
              - name: SET
                description: Set. The INTA flag for this channel will be set when
                  the current descriptor is exhausted.
                value: 1
          - name: SETINTB
            description: Set Interrupt flag B for this channel. There is no hardware
              distinction between interrupt A and B. They can be used by software
              to assist with more complex descriptor usage. By convention, interrupt
              A may be used when only one interrupt flag is needed.
            bitOffset: 5
            bitWidth: 1
            access: read-write
            enumeratedValues:
              - name: NO_EFFECT
                description: No effect.
                value: 0
              - name: SET
                description: Set. The INTB flag for this channel will be set when
                  the current descriptor is exhausted.
                value: 1
          - name: WIDTH
            description: Transfer width used for this DMA channel.
            bitOffset: 8
            bitWidth: 2
            access: read-write
            enumeratedValues:
              - name: BIT_8
                description: 8-bit. 8-bit transfers are performed (8-bit source reads
                  and destination writes).
                value: 0
              - name: BIT_16
                description: 16-bit. 6-bit transfers are performed (16-bit source
                  reads and destination writes).
                value: 1
              - name: BIT_32
                description: 32-bit. 32-bit transfers are performed (32-bit source
                  reads and destination writes).
                value: 2
          - name: SRCINC
            description: Determines whether the source address is incremented for
              each DMA transfer.
            bitOffset: 12
            bitWidth: 2
            access: read-write
            enumeratedValues:
              - name: NO_INCREMENT
                description: No increment. The source address is not incremented for
                  each transfer. This is the usual case when the source is a peripheral
                  device.
                value: 0
              - name: WIDTH_X_1
                description: 1 x width. The source address is incremented by the amount
                  specified by Width for each transfer. This is the usual case when
                  the source is memory.
                value: 1
              - name: WIDTH_X_2
                description: 2 x width. The source address is incremented by 2 times
                  the amount specified by Width for each transfer.
                value: 2
              - name: WIDTH_X_4
                description: 4 x width. The source address is incremented by 4 times
                  the amount specified by Width for each transfer.
                value: 3
          - name: DSTINC
            description: Determines whether the destination address is incremented
              for each DMA transfer.
            bitOffset: 14
            bitWidth: 2
            access: read-write
            enumeratedValues:
              - name: NO_INCREMENT
                description: No increment. The destination address is not incremented
                  for each transfer. This is the usual case when the destination is
                  a peripheral device.
                value: 0
              - name: WIDTH_X_1
                description: 1 x width. The destination address is incremented by
                  the amount specified by Width for each transfer. This is the usual
                  case when the destination is memory.
                value: 1
              - name: WIDTH_X_2
                description: 2 x width. The destination address is incremented by
                  2 times the amount specified by Width for each transfer.
                value: 2
              - name: WIDTH_X_4
                description: 4 x width. The destination address is incremented by
                  4 times the amount specified by Width for each transfer.
                value: 3
          - name: XFERCOUNT
            description: 'Total number of transfers to be performed, minus 1 encoded.
              The number of bytes transferred is: (XFERCOUNT + 1) x data width (as
              defined by the WIDTH field). The DMA controller uses this bit field
              during transfer to count down. Hence, it cannot be used by software
              to read back the size of the transfer, for instance, in an interrupt
              handler. 0x0 = a total of 1 transfer will be performed. 0x1 = a total
              of 2 transfers will be performed. 0x3FF = a total of 1,024 transfers
              will be performed.'
            bitOffset: 16
            bitWidth: 10
            access: read-write
interrupts:
  - name: DMA
addressBlocks:
  - offset: 0
    size: 1420
    usage: registers
headerStructName: DMA
clocks:
  - name: clk
parameters:
  - name: max_channel
    bits: 5
    min: 0
    max: 31
    description: index of last channel
