name: VREFBUF
description: Voltage reference buffer
groupName: VREFBUF
source: STM32H7S SVD v1.3
registers:
  - name: CSR
    displayName: CSR
    description: Control and status register
    addressOffset: 0
    size: 32
    resetValue: 2
    resetMask: 4294967295
    fields:
      - name: ENVR
        description: "Voltage reference buffer mode enable\nThis bit is used to enable the voltage reference buffer mode."
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Internal voltage reference mode disable (external voltage reference mode).
            value: 0
          - name: B_0x1
            description: Internal voltage reference mode (reference buffer enable or hold mode) enable.
            value: 1
      - name: HIZ
        description: "High impedance mode\nThis bit controls the analog switch to connect or not the V<sub>REF+</sub> pin.\nRefer to Table 229: VREF buffer modes for the mode descriptions depending on ENVR bit configuration."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: V<sub>REF+</sub> pin is internally connected to the voltage reference buffer output.
            value: 0
          - name: B_0x1
            description: V<sub>REF+</sub> pin is high impedance.
            value: 1
      - name: VRR
        description: Voltage reference buffer ready
        bitOffset: 3
        bitWidth: 1
        access: read-only
        enumeratedValues:
          - name: B_0x0
            description: the voltage reference buffer output is not ready.
            value: 0
          - name: B_0x1
            description: the voltage reference buffer output reached the requested level.
            value: 1
      - name: VRS
        description: "Voltage reference scale\nThese bits select the value generated by the voltage reference buffer.\nVRS = 000: VREFBUF0 voltage selected.\nVRS = 001: VREFBUF1 voltage selected.\nVRS = 010: VREFBUF2 voltage selected.\nVRS = 011: VREFBUF3 voltage selected.\nOthers: Reserved\nRefer to the product datasheet for each VREFBUFx voltage setting value.\nNote: The software can program this bitfield only when the VREFBUF is disabled (ENVR=0)."
        bitOffset: 4
        bitWidth: 3
        access: read-write
  - name: CCR
    displayName: CCR
    description: Calibration control register
    addressOffset: 4
    size: 32
    resetValue: 0
    resetMask: 4294967040
    fields:
      - name: TRIM
        description: "Trimming code\nThe TRIM code is a 6-bit unsigned data (minimum 000000, maximum 111111) that is set and updated according the mechanism described below.\nReset:\nTRIM[5:0] is automatically initialized with the VRS = 0 trimming value stored in the flash memory during the production test.\nVRS change:\nTRIM[5:0] is automatically initialized with the trimming value (corresponding to VRS setting) stored in the flash memory during the production test.\nWrite in TRIM[5:0]:\nUser can modify the TRIM[5:0] with an arbitrary value. This is permanently disabling the control of the trimming value with VRS (until the device is reset).\nNote: If the user application performs the trimming, the trimming code must start from 000000 to 111111 in ascending order."
        bitOffset: 0
        bitWidth: 6
        access: read-write
addressBlocks:
  - offset: 0
    size: 8
    usage: registers
