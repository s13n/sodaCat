name: SDMMC
description: Secure digital input/output MultiMediaCard interface
groupName: SDMMC
source: STM32U535 SVD v1.0
registers:
  - name: POWER
    displayName: POWER
    description: power control register
    addressOffset: 0
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: PWRCTRL
        description: SDMMC state control bits
        bitOffset: 0
        bitWidth: 2
      - name: VSWITCH
        description: Voltage switch sequence start
        bitOffset: 2
        bitWidth: 1
      - name: VSWITCHEN
        description: Voltage switch procedure enable
        bitOffset: 3
        bitWidth: 1
      - name: DIRPOL
        description: Data and command direction signals polarity selection
        bitOffset: 4
        bitWidth: 1
  - name: CLKCR
    displayName: CLKCR
    description: clock control register
    addressOffset: 4
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CLKDIV
        description: Clock divide factor
        bitOffset: 0
        bitWidth: 10
      - name: PWRSAV
        description: Power saving configuration bit
        bitOffset: 12
        bitWidth: 1
      - name: WIDBUS
        description: Wide bus mode enable bit
        bitOffset: 14
        bitWidth: 2
      - name: NEGEDGE
        description: SDIO_CK dephasing selection bit
        bitOffset: 16
        bitWidth: 1
      - name: HWFC_EN
        description: HW Flow Control enable
        bitOffset: 17
        bitWidth: 1
      - name: DDR
        description: Data rate signaling selection
        bitOffset: 18
        bitWidth: 1
      - name: BUSSPEED
        description: Bus speed mode selection between DS, HS, SDR12, SDR25 and SDR50,DDR50, SDR104
        bitOffset: 19
        bitWidth: 1
      - name: SELCLKRX
        description: Receive clock selection
        bitOffset: 20
        bitWidth: 2
  - name: ARGR
    displayName: ARGR
    description: argument register
    addressOffset: 8
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CMDARG
        description: Command argument
        bitOffset: 0
        bitWidth: 32
  - name: CMDR
    displayName: CMDR
    description: command register
    addressOffset: 12
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CMDINDEX
        description: Command index
        bitOffset: 0
        bitWidth: 6
      - name: CMDTRANS
        description: The CPSM treats the command as a data transfer command, stops the interrupt period, and signals DataEnable to the DPSM
        bitOffset: 6
        bitWidth: 1
      - name: CMDSTOP
        description: The CPSM treats the command as a Stop Transmission command and signals Abort to the DPSM
        bitOffset: 7
        bitWidth: 1
      - name: WAITRESP
        description: Wait for response bits
        bitOffset: 8
        bitWidth: 2
      - name: WAITINT
        description: CPSM waits for interrupt request
        bitOffset: 10
        bitWidth: 1
      - name: WAITPEND
        description: CPSM Waits for ends of data transfer (CmdPend internal signal) from DPSM
        bitOffset: 11
        bitWidth: 1
      - name: CPSMEN
        description: Command path state machine (CPSM) Enable bit
        bitOffset: 12
        bitWidth: 1
      - name: DTHOLD
        description: Hold new data block transmission and reception in the DPSM
        bitOffset: 13
        bitWidth: 1
      - name: BOOTMODE
        description: Select the boot mode procedure to be used
        bitOffset: 14
        bitWidth: 1
      - name: BOOTEN
        description: Enable boot mode procedure
        bitOffset: 15
        bitWidth: 1
      - name: CMDSUSPEND
        description: The CPSM treats the command as a Suspend or Resume command and signals interrupt period start/end
        bitOffset: 16
        bitWidth: 1
  - name: RESPCMDR
    displayName: RESPCMD
    description: command response register
    addressOffset: 16
    size: 32
    access: read-only
    resetValue: 0
    fields:
      - name: RESPCMD
        description: Response command index
        bitOffset: 0
        bitWidth: 6
  - name: RESP1
    displayName: RESP1
    description: response 1 register
    addressOffset: 20
    size: 32
    access: read-only
    resetValue: 0
    fields:
      - name: CARDSTATUS1
        description: CARDSTATUS1
        bitOffset: 0
        bitWidth: 32
  - name: RESP2
    displayName: RESP2
    description: response 2 register
    addressOffset: 24
    size: 32
    access: read-only
    resetValue: 0
    fields:
      - name: CARDSTATUS2
        description: CARDSTATUS2
        bitOffset: 0
        bitWidth: 32
  - name: RESP3
    displayName: RESP3
    description: response 3 register
    addressOffset: 28
    size: 32
    access: read-only
    resetValue: 0
    fields:
      - name: CARDSTATUS3
        description: CARDSTATUS3
        bitOffset: 0
        bitWidth: 32
  - name: RESP4
    displayName: RESP4
    description: response 4 register
    addressOffset: 32
    size: 32
    access: read-only
    resetValue: 0
    fields:
      - name: CARDSTATUS4
        description: CARDSTATUS4
        bitOffset: 0
        bitWidth: 32
  - name: DTIMER
    displayName: DTIMER
    description: data timer register
    addressOffset: 36
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: DATATIME
        description: Data and R1b busy timeout period
        bitOffset: 0
        bitWidth: 32
  - name: DLENR
    displayName: DLENR
    description: data length register
    addressOffset: 40
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: DATALENGTH
        description: Data length value
        bitOffset: 0
        bitWidth: 25
  - name: DCTRL
    displayName: DCTRL
    description: data control register
    addressOffset: 44
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: DTEN
        description: DTEN
        bitOffset: 0
        bitWidth: 1
      - name: DTDIR
        description: Data transfer direction selection
        bitOffset: 1
        bitWidth: 1
      - name: DTMODE
        description: Data transfer mode selection
        bitOffset: 2
        bitWidth: 2
      - name: DBLOCKSIZE
        description: Data block size
        bitOffset: 4
        bitWidth: 4
      - name: RWSTART
        description: Read wait start
        bitOffset: 8
        bitWidth: 1
      - name: RWSTOP
        description: Read wait stop
        bitOffset: 9
        bitWidth: 1
      - name: RWMOD
        description: Read wait mode
        bitOffset: 10
        bitWidth: 1
      - name: SDIOEN
        description: SD I/O enable functions
        bitOffset: 11
        bitWidth: 1
      - name: BOOTACKEN
        description: Enable the reception of the boot acknowledgment
        bitOffset: 12
        bitWidth: 1
      - name: FIFORST
        description: FIFO reset, will flush any remaining data
        bitOffset: 13
        bitWidth: 1
  - name: DCNTR
    displayName: DCNTR
    description: data counter register
    addressOffset: 48
    size: 32
    access: read-only
    resetValue: 0
    fields:
      - name: DATACOUNT
        description: Data count value
        bitOffset: 0
        bitWidth: 25
  - name: STAR
    displayName: STAR
    description: status register
    addressOffset: 52
    size: 32
    access: read-only
    resetValue: 0
    fields:
      - name: CCRCFAIL
        description: Command response received (CRC check failed)
        bitOffset: 0
        bitWidth: 1
      - name: DCRCFAIL
        description: Data block sent/received (CRC check failed)
        bitOffset: 1
        bitWidth: 1
      - name: CTIMEOUT
        description: Command response timeout
        bitOffset: 2
        bitWidth: 1
      - name: DTIMEOUT
        description: Data timeout
        bitOffset: 3
        bitWidth: 1
      - name: TXUNDERR
        description: Transmit FIFO underrun error (masked by hardware when IDMA is enabled)
        bitOffset: 4
        bitWidth: 1
      - name: RXOVERR
        description: Received FIFO overrun error (masked by hardware when IDMA is enabled)
        bitOffset: 5
        bitWidth: 1
      - name: CMDREND
        description: Command response received (CRC check passed, or no CRC)
        bitOffset: 6
        bitWidth: 1
      - name: CMDSENT
        description: Command sent (no response required)
        bitOffset: 7
        bitWidth: 1
      - name: DATAEND
        description: Data transfer ended correctly
        bitOffset: 8
        bitWidth: 1
      - name: DHOLD
        description: Data transfer Hold
        bitOffset: 9
        bitWidth: 1
      - name: DBCKEND
        description: Data block sent/received
        bitOffset: 10
        bitWidth: 1
      - name: DABORT
        description: Data transfer aborted by CMD12
        bitOffset: 11
        bitWidth: 1
      - name: DPSMACT
        description: Data path state machine active, i.e. not in Idle state
        bitOffset: 12
        bitWidth: 1
      - name: CPSMACT
        description: Command path state machine active, i.e. not in Idle state
        bitOffset: 13
        bitWidth: 1
      - name: TXFIFOHE
        description: Transmit FIFO half empty
        bitOffset: 14
        bitWidth: 1
      - name: RXFIFOHF
        description: Receive FIFO half full
        bitOffset: 15
        bitWidth: 1
      - name: TXFIFOF
        description: Transmit FIFO full
        bitOffset: 16
        bitWidth: 1
      - name: RXFIFOF
        description: Receive FIFO full
        bitOffset: 17
        bitWidth: 1
      - name: TXFIFOE
        description: Transmit FIFO empty
        bitOffset: 18
        bitWidth: 1
      - name: RXFIFOE
        description: Receive FIFO empty
        bitOffset: 19
        bitWidth: 1
      - name: BUSYD0
        description: Inverted value of SDMMC_D0 line (Busy), sampled at the end of a CMD response and a second time 2 SDMMC_CK cycles after the CMD response
        bitOffset: 20
        bitWidth: 1
      - name: BUSYD0END
        description: end of SDMMC_D0 Busy following a CMD response detected
        bitOffset: 21
        bitWidth: 1
      - name: SDIOIT
        description: SDIO interrupt received
        bitOffset: 22
        bitWidth: 1
      - name: ACKFAIL
        description: Boot acknowledgment received (boot acknowledgment check fail)
        bitOffset: 23
        bitWidth: 1
      - name: ACKTIMEOUT
        description: Boot acknowledgment timeout
        bitOffset: 24
        bitWidth: 1
      - name: VSWEND
        description: Voltage switch critical timing section completion
        bitOffset: 25
        bitWidth: 1
      - name: CKSTOP
        description: SDMMC_CK stopped in Voltage switch procedure
        bitOffset: 26
        bitWidth: 1
      - name: IDMATE
        description: IDMA transfer error
        bitOffset: 27
        bitWidth: 1
      - name: IDMABTC
        description: IDMA buffer transfer complete
        bitOffset: 28
        bitWidth: 1
  - name: ICR
    displayName: ICR
    description: interrupt clear register
    addressOffset: 56
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CCRCFAILC
        description: CCRCFAIL flag clear bit
        bitOffset: 0
        bitWidth: 1
      - name: DCRCFAILC
        description: DCRCFAIL flag clear bit
        bitOffset: 1
        bitWidth: 1
      - name: CTIMEOUTC
        description: CTIMEOUT flag clear bit
        bitOffset: 2
        bitWidth: 1
      - name: DTIMEOUTC
        description: DTIMEOUT flag clear bit
        bitOffset: 3
        bitWidth: 1
      - name: TXUNDERRC
        description: TXUNDERR flag clear bit
        bitOffset: 4
        bitWidth: 1
      - name: RXOVERRC
        description: RXOVERR flag clear bit
        bitOffset: 5
        bitWidth: 1
      - name: CMDRENDC
        description: CMDREND flag clear bit
        bitOffset: 6
        bitWidth: 1
      - name: CMDSENTC
        description: CMDSENT flag clear bit
        bitOffset: 7
        bitWidth: 1
      - name: DATAENDC
        description: DATAEND flag clear bit
        bitOffset: 8
        bitWidth: 1
      - name: DHOLDC
        description: DHOLD flag clear bit
        bitOffset: 9
        bitWidth: 1
      - name: DBCKENDC
        description: DBCKEND flag clear bit
        bitOffset: 10
        bitWidth: 1
      - name: DABORTC
        description: DABORT flag clear bit
        bitOffset: 11
        bitWidth: 1
      - name: BUSYD0ENDC
        description: BUSYD0END flag clear bit
        bitOffset: 21
        bitWidth: 1
      - name: SDIOITC
        description: SDIOIT flag clear bit
        bitOffset: 22
        bitWidth: 1
      - name: ACKFAILC
        description: ACKFAIL flag clear bit
        bitOffset: 23
        bitWidth: 1
      - name: ACKTIMEOUTC
        description: ACKTIMEOUT flag clear bit
        bitOffset: 24
        bitWidth: 1
      - name: VSWENDC
        description: VSWEND flag clear bit
        bitOffset: 25
        bitWidth: 1
      - name: CKSTOPC
        description: CKSTOP flag clear bit
        bitOffset: 26
        bitWidth: 1
      - name: IDMATEC
        description: IDMA transfer error clear bit
        bitOffset: 27
        bitWidth: 1
      - name: IDMABTCC
        description: IDMA buffer transfer complete clear bit
        bitOffset: 28
        bitWidth: 1
  - name: MASKR
    displayName: MASKR
    description: mask register
    addressOffset: 60
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CCRCFAILIE
        description: Command CRC fail interrupt enable
        bitOffset: 0
        bitWidth: 1
      - name: DCRCFAILIE
        description: Data CRC fail interrupt enable
        bitOffset: 1
        bitWidth: 1
      - name: CTIMEOUTIE
        description: Command timeout interrupt enable
        bitOffset: 2
        bitWidth: 1
      - name: DTIMEOUTIE
        description: Data timeout interrupt enable
        bitOffset: 3
        bitWidth: 1
      - name: TXUNDERRIE
        description: Tx FIFO underrun error interrupt enable
        bitOffset: 4
        bitWidth: 1
      - name: RXOVERRIE
        description: Rx FIFO overrun error interrupt enable
        bitOffset: 5
        bitWidth: 1
      - name: CMDRENDIE
        description: Command response received interrupt enable
        bitOffset: 6
        bitWidth: 1
      - name: CMDSENTIE
        description: Command sent interrupt enable
        bitOffset: 7
        bitWidth: 1
      - name: DATAENDIE
        description: Data end interrupt enable
        bitOffset: 8
        bitWidth: 1
      - name: DHOLDIE
        description: Data hold interrupt enable
        bitOffset: 9
        bitWidth: 1
      - name: DBCKENDIE
        description: Data block end interrupt enable
        bitOffset: 10
        bitWidth: 1
      - name: DABORTIE
        description: Data transfer aborted interrupt enable
        bitOffset: 11
        bitWidth: 1
      - name: TXFIFOHEIE
        description: Tx FIFO half empty interrupt enable
        bitOffset: 14
        bitWidth: 1
      - name: RXFIFOHFIE
        description: Rx FIFO half full interrupt enable
        bitOffset: 15
        bitWidth: 1
      - name: RXFIFOFIE
        description: Rx FIFO full interrupt enable
        bitOffset: 17
        bitWidth: 1
      - name: TXFIFOEIE
        description: Tx FIFO empty interrupt enable
        bitOffset: 18
        bitWidth: 1
      - name: BUSYD0ENDIE
        description: BUSYD0END interrupt enable
        bitOffset: 21
        bitWidth: 1
      - name: SDIOITIE
        description: SDIO mode interrupt received interrupt enable
        bitOffset: 22
        bitWidth: 1
      - name: ACKFAILIE
        description: Acknowledgment Fail interrupt enable
        bitOffset: 23
        bitWidth: 1
      - name: ACKTIMEOUTIE
        description: Acknowledgment timeout interrupt enable
        bitOffset: 24
        bitWidth: 1
      - name: VSWENDIE
        description: Voltage switch critical timing section completion interrupt enable
        bitOffset: 25
        bitWidth: 1
      - name: CKSTOPIE
        description: Voltage Switch clock stopped interrupt enable
        bitOffset: 26
        bitWidth: 1
      - name: IDMABTCIE
        description: IDMA buffer transfer complete interrupt enable
        bitOffset: 28
        bitWidth: 1
  - name: ACKTIMER
    displayName: ACKTIMER
    description: acknowledgment timer register
    addressOffset: 64
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: ACKTIME
        description: Boot acknowledgment timeout period
        bitOffset: 0
        bitWidth: 25
  - name: IDMACTRLR
    displayName: IDMACTRLR
    description: DMA control register
    addressOffset: 80
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: IDMAEN
        description: IDMA enable This bit can only be written by firmware when DPSM is inactive (DPSMACT = 0).
        bitOffset: 0
        bitWidth: 1
      - name: IDMABMODE
        description: Buffer mode selection. This bit can only be written by firmware when DPSM is inactive (DPSMACT = 0).
        bitOffset: 1
        bitWidth: 1
  - name: IDMABSIZER
    displayName: IDMABSIZER
    description: buffer size register
    addressOffset: 84
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: IDMABNDT
        description: Number of bytes per buffer
        bitOffset: 5
        bitWidth: 12
  - name: IDMABASER
    displayName: IDMABASER
    description: buffer base address register
    addressOffset: 88
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: IDMABASE
        description: Buffer memory base address bits [31:2], shall be word aligned (bit [1:0] are always 0 and read only)
        bitOffset: 0
        bitWidth: 32
  - name: IDMALAR
    displayName: IDMALAR
    description: linked list address register
    addressOffset: 100
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: IDMALA
        description: Acknowledge linked list buffer ready
        bitOffset: 2
        bitWidth: 14
      - name: ABR
        description: Acknowledge linked list buffer ready
        bitOffset: 29
        bitWidth: 1
      - name: ULS
        description: Update SDMMC_IDMABSIZE from the next linked list when in linked list mode (SDMMC_IDMACTRLR.IDMABMODE select linked list mode and ULA = 1)
        bitOffset: 30
        bitWidth: 1
      - name: ULA
        description: Update SDMMC_IDMALAR from linked list when in linked list mode (SDMMC_IDMACTRLR.IDMABMODE select linked list mode)
        bitOffset: 31
        bitWidth: 1
  - name: IDMABAR
    displayName: IDMABAR
    description: linked list memory base register
    addressOffset: 104
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: IDMABA
        description: Word aligned Linked list memory base address
        bitOffset: 2
        bitWidth: 30
  - name: FIFOR0
    displayName: FIFOR0
    description: data FIFO register 0
    addressOffset: 128
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR1
    displayName: FIFOR1
    description: data FIFO register 1
    addressOffset: 132
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR2
    displayName: FIFOR2
    description: data FIFO register 2
    addressOffset: 136
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR3
    displayName: FIFOR3
    description: data FIFO register 3
    addressOffset: 140
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR4
    displayName: FIFOR4
    description: data FIFO register 4
    addressOffset: 144
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR5
    displayName: FIFOR5
    description: data FIFO register 5
    addressOffset: 148
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR6
    displayName: FIFOR6
    description: data FIFO register 6
    addressOffset: 152
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR7
    displayName: FIFOR7
    description: data FIFO register 7
    addressOffset: 156
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR8
    displayName: FIFOR8
    description: data FIFO register 8
    addressOffset: 160
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR9
    displayName: FIFOR9
    description: data FIFO register 9
    addressOffset: 164
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR10
    displayName: FIFOR10
    description: data FIFO register 10
    addressOffset: 168
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR11
    displayName: FIFOR11
    description: data FIFO register 11
    addressOffset: 172
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR12
    displayName: FIFOR12
    description: data FIFO register 12
    addressOffset: 176
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR13
    displayName: FIFOR13
    description: data FIFO register 13
    addressOffset: 180
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR14
    displayName: FIFOR14
    description: data FIFO register 14
    addressOffset: 184
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
  - name: FIFOR15
    displayName: FIFOR15
    description: data FIFO register 15
    addressOffset: 188
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: FIFODATA
        description: Receive and transmit FIFO data
        bitOffset: 0
        bitWidth: 32
addressBlocks:
  - offset: 0
    size: 1024
    usage: registers
interrupts:
  - name: INTR
    description: SDMMC1 global interrupt
