name: LPTIM
description: Low power timer
groupName: LPTIM
registers:
  - name: LPTIM_ISR
    displayName: LPTIM_ISR
    description: Interrupt and Status Register
    addressOffset: 0
    size: 32
    access: read-only
    resetValue: 0
    fields:
      - name: CMPM
        description: "Compare match\nThe CMPM bit is set by hardware to inform application that LPTIM_CNT register value reached the LPTIM_CMP register's value."
        bitOffset: 0
        bitWidth: 1
        access: read-only
      - name: ARRM
        description: "Autoreload match\nARRM is set by hardware to inform application that LPTIM_CNT register's value reached the LPTIM_ARR register's value. ARRM flag can be cleared by writing 1 to the ARRMCF bit in the LPTIM_ICR register."
        bitOffset: 1
        bitWidth: 1
        access: read-only
      - name: EXTTRIG
        description: "External trigger edge event\nEXTTRIG is set by hardware to inform application that a valid edge on the selected external trigger input has occurred. If the trigger is ignored because the timer has already started, then this flag is not set. EXTTRIG flag can be cleared by writing 1 to the EXTTRIGCF bit in the LPTIM_ICR register."
        bitOffset: 2
        bitWidth: 1
        access: read-only
      - name: CMPOK
        description: "Compare register update OK\nCMPOK is set by hardware to inform application that the APB bus write operation to the LPTIM_CMP register has been successfully completed."
        bitOffset: 3
        bitWidth: 1
        access: read-only
      - name: ARROK
        description: "Autoreload register update OK\nARROK is set by hardware to inform application that the APB bus write operation to the LPTIM_ARR register has been successfully completed. ARROK flag can be cleared by writing 1 to the ARROKCF bit in the LPTIM_ICR register."
        bitOffset: 4
        bitWidth: 1
        access: read-only
      - name: UP
        description: "Counter direction change down to up\nIn Encoder mode, UP bit is set by hardware to inform application that the counter direction has changed from down to up. UP flag can be cleared by writing 1 to the UPCF bit in the LPTIM_ICR register.\nNote: If the LPTIM does not support encoder mode feature, this bit is reserved. Please refer to ."
        bitOffset: 5
        bitWidth: 1
        access: read-only
      - name: DOWN
        description: "Counter direction change up to down\nIn Encoder mode, DOWN bit is set by hardware to inform application that the counter direction has changed from up to down. DOWN flag can be cleared by writing 1 to the DOWNCF bit in the LPTIM_ICR register.\nNote: If the LPTIM does not support encoder mode feature, this bit is reserved. Please refer to ."
        bitOffset: 6
        bitWidth: 1
        access: read-only
  - name: LPTIM_ICR
    displayName: LPTIM_ICR
    description: Interrupt Clear Register
    addressOffset: 4
    size: 32
    access: write-only
    resetValue: 0
    fields:
      - name: CMPMCF
        description: "Compare match clear flag\nWriting 1 to this bit clears the CMP flag in the LPTIM_ISR register"
        bitOffset: 0
        bitWidth: 1
        access: write-only
      - name: ARRMCF
        description: "Autoreload match clear flag\nWriting 1 to this bit clears the ARRM flag in the LPTIM_ISR register"
        bitOffset: 1
        bitWidth: 1
        access: write-only
      - name: EXTTRIGCF
        description: "External trigger valid edge clear flag\nWriting 1 to this bit clears the EXTTRIG flag in the LPTIM_ISR register"
        bitOffset: 2
        bitWidth: 1
        access: write-only
      - name: CMPOKCF
        description: "Compare register update OK clear flag\nWriting 1 to this bit clears the CMPOK flag in the LPTIM_ISR register"
        bitOffset: 3
        bitWidth: 1
        access: write-only
      - name: ARROKCF
        description: "Autoreload register update OK clear flag\nWriting 1 to this bit clears the ARROK flag in the LPTIM_ISR register"
        bitOffset: 4
        bitWidth: 1
        access: write-only
      - name: UPCF
        description: "Direction change to UP clear flag\nWriting 1 to this bit clear the UP flag in the LPTIM_ISR register.\nNote: If the LPTIM does not support encoder mode feature, this bit is reserved. Please refer to ."
        bitOffset: 5
        bitWidth: 1
        access: write-only
      - name: DOWNCF
        description: "Direction change to down clear flag\nWriting 1 to this bit clear the DOWN flag in the LPTIM_ISR register.\nNote: If the LPTIM does not support encoder mode feature, this bit is reserved. Please refer to ."
        bitOffset: 6
        bitWidth: 1
        access: write-only
  - name: LPTIM_IER
    displayName: LPTIM_IER
    description: Interrupt Enable Register
    addressOffset: 8
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CMPMIE
        description: Compare match Interrupt Enable
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: CMPM interrupt disabled
            value: 0
          - name: B_0x1
            description: CMPM interrupt enabled
            value: 1
      - name: ARRMIE
        description: Autoreload match Interrupt Enable
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: ARRM interrupt disabled
            value: 0
          - name: B_0x1
            description: ARRM interrupt enabled
            value: 1
      - name: EXTTRIGIE
        description: External trigger valid edge Interrupt Enable
        bitOffset: 2
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: EXTTRIG interrupt disabled
            value: 0
          - name: B_0x1
            description: EXTTRIG interrupt enabled
            value: 1
      - name: CMPOKIE
        description: Compare register update OK Interrupt Enable
        bitOffset: 3
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: CMPOK interrupt disabled
            value: 0
          - name: B_0x1
            description: CMPOK interrupt enabled
            value: 1
      - name: ARROKIE
        description: Autoreload register update OK Interrupt Enable
        bitOffset: 4
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: ARROK interrupt disabled
            value: 0
          - name: B_0x1
            description: ARROK interrupt enabled
            value: 1
      - name: UPIE
        description: "Direction change to UP Interrupt Enable\nNote: If the LPTIM does not support encoder mode feature, this bit is reserved. Please refer to ."
        bitOffset: 5
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: UP interrupt disabled
            value: 0
          - name: B_0x1
            description: UP interrupt enabled
            value: 1
      - name: DOWNIE
        description: "Direction change to down Interrupt Enable\nNote: If the LPTIM does not support encoder mode feature, this bit is reserved. Please refer to ."
        bitOffset: 6
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: DOWN interrupt disabled
            value: 0
          - name: B_0x1
            description: DOWN interrupt enabled
            value: 1
  - name: LPTIM_CFGR
    displayName: LPTIM_CFGR
    description: Configuration Register
    addressOffset: 12
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CKSEL
        description: "Clock selector\nThe CKSEL bit selects which clock source the LPTIM will use:"
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: LPTIM is clocked by internal clock source (APB clock or any of the embedded oscillators)
            value: 0
          - name: B_0x1
            description: LPTIM is clocked by an external clock source through the LPTIM external Input1
            value: 1
      - name: CKPOL
        description: "Clock Polarity\nIf LPTIM is clocked by an external clock source:\nWhen the LPTIM is clocked by an external clock source, CKPOL bits is used to configure the active edge or edges used by the counter:\nIf the LPTIM is configured in Encoder mode (ENC bit is set), the encoder sub-mode 1 is active.\nIf the LPTIM is configured in Encoder mode (ENC bit is set), the encoder sub-mode 2 is active.\nRefer to  for more details about Encoder mode sub-modes."
        bitOffset: 1
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: the rising edge is the active edge used for counting.
            value: 0
          - name: B_0x1
            description: the falling edge is the active edge used for counting
            value: 1
          - name: B_0x2
            description: both edges are active edges. When both external clock signal edges are considered active ones, the LPTIM must also be clocked by an internal clock source with a frequency equal to at least four times the external clock frequency.If the LPTIM is configured in Encoder mode (ENC bit is set), the encoder sub-mode 3 is active.
            value: 2
          - name: B_0x3
            description: not allowed
            value: 3
      - name: CKFLT
        description: "Configurable digital filter for external clock\nThe CKFLT value sets the number of consecutive equal samples that should be detected when a level change occurs on an external clock signal before it is considered as a valid level transition. An internal clock source must be present to use this feature"
        bitOffset: 3
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: any external clock signal level change is considered as a valid transition
            value: 0
          - name: B_0x1
            description: external clock signal level change must be stable for at least 2 clock periods before it is considered as valid transition.
            value: 1
          - name: B_0x2
            description: external clock signal level change must be stable for at least 4 clock periods before it is considered as valid transition.
            value: 2
          - name: B_0x3
            description: external clock signal level change must be stable for at least 8 clock periods before it is considered as valid transition.
            value: 3
      - name: TRGFLT
        description: "Configurable digital filter for trigger\nThe TRGFLT value sets the number of consecutive equal samples that should be detected when a level change occurs on an internal trigger before it is considered as a valid level transition. An internal clock source must be present to use this feature"
        bitOffset: 6
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: any trigger active level change is considered as a valid trigger
            value: 0
          - name: B_0x1
            description: trigger active level change must be stable for at least 2 clock periods before it is considered as valid trigger.
            value: 1
          - name: B_0x2
            description: trigger active level change must be stable for at least 4 clock periods before it is considered as valid trigger.
            value: 2
          - name: B_0x3
            description: trigger active level change must be stable for at least 8 clock periods before it is considered as valid trigger.
            value: 3
      - name: PRESC
        description: "Clock prescaler\nThe PRESC bits configure the prescaler division factor. It can be one among the following division factors:"
        bitOffset: 9
        bitWidth: 3
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: /1
            value: 0
          - name: B_0x1
            description: /2
            value: 1
          - name: B_0x2
            description: /4
            value: 2
          - name: B_0x3
            description: /8
            value: 3
          - name: B_0x4
            description: /16
            value: 4
          - name: B_0x5
            description: /32
            value: 5
          - name: B_0x6
            description: /64
            value: 6
          - name: B_0x7
            description: /128
            value: 7
      - name: TRIGSEL
        description: "Trigger selector\nThe TRIGSEL bits select the trigger source that will serve as a trigger event for the LPTIM among the below 8 available sources:\nSee  for details."
        bitOffset: 13
        bitWidth: 3
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: lptim_ext_trig0
            value: 0
          - name: B_0x1
            description: lptim_ext_trig1
            value: 1
          - name: B_0x2
            description: lptim_ext_trig2
            value: 2
          - name: B_0x3
            description: lptim_ext_trig3
            value: 3
          - name: B_0x4
            description: lptim_ext_trig4
            value: 4
          - name: B_0x5
            description: lptim_ext_trig5
            value: 5
          - name: B_0x6
            description: lptim_ext_trig6
            value: 6
          - name: B_0x7
            description: lptim_ext_trig7
            value: 7
      - name: TRIGEN
        description: "Trigger enable and polarity\nThe TRIGEN bits controls whether the LPTIM counter is started by an external trigger or not. If the external trigger option is selected, three configurations are possible for the trigger active edge:"
        bitOffset: 17
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: software trigger (counting start is initiated by software)
            value: 0
          - name: B_0x1
            description: rising edge is the active edge
            value: 1
          - name: B_0x2
            description: falling edge is the active edge
            value: 2
          - name: B_0x3
            description: both edges are active edges
            value: 3
      - name: TIMOUT
        description: "Timeout enable\nThe TIMOUT bit controls the Timeout feature"
        bitOffset: 19
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: A trigger event arriving when the timer is already started will be ignored
            value: 0
          - name: B_0x1
            description: A trigger event arriving when the timer is already started will reset and restart the counter
            value: 1
      - name: WAVE
        description: "Waveform shape\nThe WAVE bit controls the output shape"
        bitOffset: 20
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Deactivate Set-once mode, PWM or One Pulse waveform depending on how the timer was started, CNTSTRT for PWM or SNGSTRT for One Pulse waveform.
            value: 0
          - name: B_0x1
            description: Activate the Set-once mode
            value: 1
      - name: WAVPOL
        description: "Waveform shape polarity\nThe WAVEPOL bit controls the output polarity"
        bitOffset: 21
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: The LPTIM output reflects the compare results between LPTIM_CNT and LPTIM_CMP registers
            value: 0
          - name: B_0x1
            description: The LPTIM output reflects the inverse of the compare results between LPTIM_CNT and LPTIM_CMP registers
            value: 1
      - name: PRELOAD
        description: "Registers update mode\nThe PRELOAD bit controls the LPTIM_ARR and the LPTIM_CMP registers update modality"
        bitOffset: 22
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Registers are updated after each APB bus write access
            value: 0
          - name: B_0x1
            description: Registers are updated at the end of the current LPTIM period
            value: 1
      - name: COUNTMODE
        description: "counter mode enabled\nThe COUNTMODE bit selects which clock source is used by the LPTIM to clock the counter:"
        bitOffset: 23
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: the counter is incremented following each internal clock pulse
            value: 0
          - name: B_0x1
            description: the counter is incremented following each valid clock pulse on the LPTIM external Input1
            value: 1
      - name: ENC
        description: "Encoder mode enable\nThe ENC bit controls the Encoder mode\nNote: If the LPTIM does not support encoder mode feature, this bit is reserved. Please refer to ."
        bitOffset: 24
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: Encoder mode disabled
            value: 0
          - name: B_0x1
            description: Encoder mode enabled
            value: 1
  - name: LPTIM_CR
    displayName: LPTIM_CR
    description: Control Register
    addressOffset: 16
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: ENABLE
        description: "LPTIM enable\nThe ENABLE bit is set and cleared by software."
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: LPTIM is disabled
            value: 0
          - name: B_0x1
            description: LPTIM is enabled
            value: 1
      - name: SNGSTRT
        description: "LPTIM start in Single mode\nThis bit is set by software and cleared by hardware.\nIn case of software start (TRIGEN[1:0] = '00'), setting this bit starts the LPTIM in single pulse mode.\nIf the software start is disabled (TRIGEN[1:0] different than '00'), setting this bit starts the LPTIM in single pulse mode as soon as an external trigger is detected.\nIf this bit is set when the LPTIM is in continuous counting mode, then the LPTIM will stop at the following match between LPTIM_ARR and LPTIM_CNT registers.\nThis bit can only be set when the LPTIM is enabled. It will be automatically reset by hardware."
        bitOffset: 1
        bitWidth: 1
        access: read-write
      - name: CNTSTRT
        description: "Timer start in Continuous mode\nThis bit is set by software and cleared by hardware.\nIn case of software start (TRIGEN[1:0] = '00'), setting this bit starts the LPTIM in Continuous mode.\nIf the software start is disabled (TRIGEN[1:0] different than '00'), setting this bit starts the timer in Continuous mode as soon as an external trigger is detected.\nIf this bit is set when a single pulse mode counting is ongoing, then the timer will not stop at the next match between the LPTIM_ARR and LPTIM_CNT registers and the LPTIM counter keeps counting in Continuous mode.\nThis bit can be set only when the LPTIM is enabled. It will be automatically reset by hardware."
        bitOffset: 2
        bitWidth: 1
        access: read-write
      - name: COUNTRST
        description: "Counter reset\nThis bit is set by software and cleared by hardware. When set to '1' this bit will trigger a synchronous reset of the LPTIM_CNT counter register. Due to the synchronous nature of this reset, it only takes place after a synchronization delay of 3 LPTimer core clock cycles (LPTimer core clock may be different from APB clock).\nCOUNTRST must never be set to '1' by software before it is already cleared to '0' by hardware. Software should consequently check that COUNTRST bit is already cleared to '0' before attempting to set it to '1'."
        bitOffset: 3
        bitWidth: 1
        access: read-write
      - name: RSTARE
        description: "Reset after read enable\nThis bit is set and cleared by software. When RSTARE is set to '1', any read access to LPTIM_CNT register will asynchronously reset LPTIM_CNT register content."
        bitOffset: 4
        bitWidth: 1
        access: read-write
  - name: LPTIM_CMP
    displayName: LPTIM_CMP
    description: Compare Register
    addressOffset: 20
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CMP
        description: Compare value
        bitOffset: 0
        bitWidth: 16
  - name: LPTIM_ARR
    displayName: LPTIM_ARR
    description: Autoreload Register
    addressOffset: 24
    size: 32
    access: read-write
    resetValue: 1
    fields:
      - name: ARR
        description: Auto reload value
        bitOffset: 0
        bitWidth: 16
  - name: LPTIM_CNT
    displayName: LPTIM_CNT
    description: Counter Register
    addressOffset: 28
    size: 32
    access: read-only
    resetValue: 0
    fields:
      - name: CNT
        description: Counter value
        bitOffset: 0
        bitWidth: 16
  - name: LPTIM_CFGR2
    displayName: LPTIM_CFGR2
    description: LPTIM configuration register 2
    addressOffset: 36
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: IN1SEL
        description: "LPTIM input 1 selection\nThe IN1SEL bits control the LPTIM Input 1 multiplexer, which connects LPTIM Input 1 to one of the available inputs.\nFor connection details refer to ."
        bitOffset: 0
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: lptim_in1_mux0
            value: 0
          - name: B_0x1
            description: lptim_in1_mux1
            value: 1
          - name: B_0x2
            description: lptim_in1_mux2
            value: 2
          - name: B_0x3
            description: lptim_in1_mux3
            value: 3
      - name: IN2SEL
        description: "LPTIM input 2 selection\nThe IN2SEL bits control the LPTIM Input 2 multiplexer, which connect LPTIM Input 2 to one of the available inputs.\nFor connection details refer to .\nNote: If the LPTIM does not support encoder mode feature, these bits are reserved. Please refer to ."
        bitOffset: 4
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: lptim_in2_mux0
            value: 0
          - name: B_0x1
            description: lptim_in2_mux1
            value: 1
          - name: B_0x2
            description: lptim_in2_mux2
            value: 2
          - name: B_0x3
            description: lptim_in2_mux3
            value: 3
addressBlocks:
  - offset: 0
    size: 1024
    usage: registers
