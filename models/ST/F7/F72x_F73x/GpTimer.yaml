name: GpTimer
description: General purpose timers
groupName: TIM
registers:
  - name: CR1
    displayName: CR1
    description: control register 1
    addressOffset: 0
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CEN
        description: Counter enable
        bitOffset: 0
        bitWidth: 1
      - name: UDIS
        description: Update disable
        bitOffset: 1
        bitWidth: 1
      - name: URS
        description: Update request source
        bitOffset: 2
        bitWidth: 1
      - name: OPM
        description: One-pulse mode
        bitOffset: 3
        bitWidth: 1
      - name: ARPE
        description: Auto-reload preload enable
        bitOffset: 7
        bitWidth: 1
      - name: CKD
        description: Clock division
        bitOffset: 8
        bitWidth: 2
  - name: SMCR
    displayName: SMCR
    description: slave mode control register
    addressOffset: 8
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: SMS
        description: Slave mode selection
        bitOffset: 0
        bitWidth: 3
      - name: TS
        description: Trigger selection
        bitOffset: 4
        bitWidth: 3
      - name: MSM
        description: Master/Slave mode
        bitOffset: 7
        bitWidth: 1
  - name: DIER
    displayName: DIER
    description: DMA/Interrupt enable register
    addressOffset: 12
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: UIE
        description: Update interrupt enable
        bitOffset: 0
        bitWidth: 1
      - name: CC1IE
        description: "Capture/Compare 1 interrupt\n              enable"
        bitOffset: 1
        bitWidth: 1
      - name: CC2IE
        description: "Capture/Compare 2 interrupt\n              enable"
        bitOffset: 2
        bitWidth: 1
      - name: TIE
        description: Trigger interrupt enable
        bitOffset: 6
        bitWidth: 1
  - name: SR
    displayName: SR
    description: status register
    addressOffset: 16
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: UIF
        description: Update interrupt flag
        bitOffset: 0
        bitWidth: 1
      - name: CC1IF
        description: "Capture/compare 1 interrupt\n              flag"
        bitOffset: 1
        bitWidth: 1
      - name: CC2IF
        description: "Capture/Compare 2 interrupt\n              flag"
        bitOffset: 2
        bitWidth: 1
      - name: TIF
        description: Trigger interrupt flag
        bitOffset: 6
        bitWidth: 1
      - name: CC1OF
        description: "Capture/Compare 1 overcapture\n              flag"
        bitOffset: 9
        bitWidth: 1
      - name: CC2OF
        description: "Capture/compare 2 overcapture\n              flag"
        bitOffset: 10
        bitWidth: 1
  - name: EGR
    displayName: EGR
    description: event generation register
    addressOffset: 20
    size: 32
    access: write-only
    resetValue: 0
    fields:
      - name: UG
        description: Update generation
        bitOffset: 0
        bitWidth: 1
      - name: CC1G
        description: "Capture/compare 1\n              generation"
        bitOffset: 1
        bitWidth: 1
      - name: CC2G
        description: "Capture/compare 2\n              generation"
        bitOffset: 2
        bitWidth: 1
      - name: TG
        description: Trigger generation
        bitOffset: 6
        bitWidth: 1
  - name: CCMR1_Output
    displayName: CCMR1_Output
    description: "capture/compare mode register 1 (output\n          mode)"
    addressOffset: 24
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CC1S
        description: "Capture/Compare 1\n              selection"
        bitOffset: 0
        bitWidth: 2
      - name: OC1FE
        description: "Output Compare 1 fast\n              enable"
        bitOffset: 2
        bitWidth: 1
      - name: OC1PE
        description: "Output Compare 1 preload\n              enable"
        bitOffset: 3
        bitWidth: 1
      - name: OC1M
        description: Output Compare 1 mode
        bitOffset: 4
        bitWidth: 3
      - name: CC2S
        description: "Capture/Compare 2\n              selection"
        bitOffset: 8
        bitWidth: 2
      - name: OC2FE
        description: "Output Compare 2 fast\n              enable"
        bitOffset: 10
        bitWidth: 1
      - name: OC2PE
        description: "Output Compare 2 preload\n              enable"
        bitOffset: 11
        bitWidth: 1
      - name: OC2M
        description: Output Compare 2 mode
        bitOffset: 12
        bitWidth: 3
      - name: OC1M_3
        description: "Output Compare 1 mode - bit\n              3"
        bitOffset: 16
        bitWidth: 1
      - name: OC2M_3
        description: "Output Compare 2 mode - bit\n              3"
        bitOffset: 24
        bitWidth: 1
  - name: CCMR1_Input
    displayName: CCMR1_Input
    description: "capture/compare mode register 1 (input\n          mode)"
    alternateRegister: CCMR1_Output
    addressOffset: 24
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CC1S
        description: "Capture/Compare 1\n              selection"
        bitOffset: 0
        bitWidth: 2
      - name: ICPCS
        description: Input capture 1 prescaler
        bitOffset: 2
        bitWidth: 2
      - name: IC1F
        description: Input capture 1 filter
        bitOffset: 4
        bitWidth: 3
      - name: CC2S
        description: "Capture/Compare 2\n              selection"
        bitOffset: 8
        bitWidth: 2
      - name: IC2PCS
        description: Input capture 2 prescaler
        bitOffset: 10
        bitWidth: 2
      - name: IC2F
        description: Input capture 2 filter
        bitOffset: 12
        bitWidth: 3
  - name: CCER
    displayName: CCER
    description: "capture/compare enable\n          register"
    addressOffset: 32
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CC1E
        description: "Capture/Compare 1 output\n              enable"
        bitOffset: 0
        bitWidth: 1
      - name: CC1P
        description: "Capture/Compare 1 output\n              Polarity"
        bitOffset: 1
        bitWidth: 1
      - name: CC1NP
        description: "Capture/Compare 1 output\n              Polarity"
        bitOffset: 3
        bitWidth: 1
      - name: CC2E
        description: "Capture/Compare 2 output\n              enable"
        bitOffset: 4
        bitWidth: 1
      - name: CC2P
        description: "Capture/Compare 2 output\n              Polarity"
        bitOffset: 5
        bitWidth: 1
      - name: CC2NP
        description: "Capture/Compare 2 output\n              Polarity"
        bitOffset: 7
        bitWidth: 1
  - name: CNT
    displayName: CNT
    description: counter
    addressOffset: 36
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CNT
        description: counter value
        bitOffset: 0
        bitWidth: 16
  - name: PSC
    displayName: PSC
    description: prescaler
    addressOffset: 40
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: PSC
        description: Prescaler value
        bitOffset: 0
        bitWidth: 16
  - name: ARR
    displayName: ARR
    description: auto-reload register
    addressOffset: 44
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: ARR
        description: Auto-reload value
        bitOffset: 0
        bitWidth: 16
  - name: CCR1
    displayName: CCR1
    description: capture/compare register 1
    addressOffset: 52
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CCR1
        description: Capture/Compare 1 value
        bitOffset: 0
        bitWidth: 16
  - name: CCR2
    displayName: CCR2
    description: capture/compare register 2
    addressOffset: 56
    size: 32
    access: read-write
    resetValue: 0
    fields:
      - name: CCR2
        description: Capture/Compare 2 value
        bitOffset: 0
        bitWidth: 16
addressBlocks:
  - offset: 0
    size: 1024
    usage: registers
interrupts:
  - name: INTR
    description: TIM5 global interrupt
