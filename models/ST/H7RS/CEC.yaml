name: CEC
description: HDMI-CEC controller
groupName: CEC
source: STM32H7S SVD v1.3
registers:
  - name: CR
    displayName: CR
    description: Control register
    addressOffset: 0
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: CECEN
        description: "CEC enable\nThe CECEN bit is set and cleared by software. CECEN = 1 starts message reception and enables the TXSOM control. CECEN = 0 disables the CEC peripheral, clears all bits of CEC_CR register and aborts any on-going reception or transmission."
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: CEC peripheral is off.
            value: 0
          - name: B_0x1
            description: CEC peripheral is on.
            value: 1
      - name: TXSOM
        description: "Tx start of message\nTXSOM is set by software to command transmission of the first byte of a CEC message. If the CEC message consists of only one byte, TXEOM must be set before of TXSOM.\nStart-bit is effectively started on the CEC line after SFT is counted. If TXSOM is set while a message reception is ongoing, transmission starts after the end of reception.\nTXSOM is cleared by hardware after the last byte of the message is sent with a positive acknowledge (TXEND = 1), in case of transmission underrun (TXUDR = 1), negative acknowledge (TXACKE = 1), and transmission error (TXERR = 1). It is also cleared by CECEN = 0. It is not cleared and transmission is automatically retried in case of arbitration lost (ARBLST = 1).\nTXSOM can be also used as a status bit informing application whether any transmission request is pending or under execution. The application can abort a transmission request at any time by clearing the CECEN bit.\nNote: TXSOM must be set when CECEN = 1.\nNote: TXSOM must be set when transmission data is available into TXDR.\nNote: HEADER first four bits containing own peripheral address are taken from TXDR[7:4], not from CEC_CFGR.OAR that is used only for reception."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: No CEC transmission is on-going
            value: 0
          - name: B_0x1
            description: CEC transmission command
            value: 1
      - name: TXEOM
        description: "Tx end of message\nThe TXEOM bit is set by software to command transmission of the last byte of a CEC message.\nTXEOM is cleared by hardware at the same time and under the same conditions as for TXSOM.\nNote: TXEOM must be set when CECEN = 1.\nNote: TXEOM must be set before writing transmission data to TXDR.\nNote: If TXEOM is set when TXSOM = 0, transmitted message consists of 1 byte (HEADER) only (PING message)."
        bitOffset: 2
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: TXDR data byte is transmitted with EOM = 0
            value: 0
          - name: B_0x1
            description: TXDR data byte is transmitted with EOM = 1
            value: 1
  - name: CFGR
    displayName: CFGR
    description: Configuration register
    addressOffset: 4
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: SFT
        description: "Signal free time\nSFT bits are set by software. In the SFT = 0x0 configuration, the number of nominal data bit periods waited before transmission is ruled by hardware according to the transmission history. In all the other configurations the SFT number is determined by software.\n0x0\n2.5 data-bit periods if CEC is the last bus initiator with unsuccessful transmission (ARBLST = 1, TXERR = 1, TXUDR = 1 or TXACKE = 1)\n4 data-bit periods if CEC is the new bus initiator\n6 data-bit periods if CEC is the last bus initiator with successful transmission (TXEOM = 1)"
        bitOffset: 0
        bitWidth: 3
        access: read-write
        enumeratedValues:
          - name: B_0x1
            description: 0.5 nominal data bit periods
            value: 1
          - name: B_0x2
            description: 1.5 nominal data bit periods
            value: 2
          - name: B_0x3
            description: 2.5 nominal data bit periods
            value: 3
          - name: B_0x4
            description: 3.5 nominal data bit periods
            value: 4
          - name: B_0x5
            description: 4.5 nominal data bit periods
            value: 5
          - name: B_0x6
            description: 5.5 nominal data bit periods
            value: 6
          - name: B_0x7
            description: 6.5 nominal data bit periods
            value: 7
      - name: RXTOL
        description: "Rx-tolerance\nThe RXTOL bit is set and cleared by software.\nStart-bit, +/- 200  s rise, +/- 200  s fall\nData-bit: +/- 200  s rise. +/- 350  s fall\nStart-bit: +/- 400  s rise, +/- 400  s fall\nData-bit: +/-300  s rise, +/- 500  s fall"
        bitOffset: 3
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: 'Standard tolerance margin:'
            value: 0
          - name: B_0x1
            description: Extended tolerance
            value: 1
      - name: BRESTP
        description: "Rx-stop on bit rising error\nThe BRESTP bit is set and cleared by software."
        bitOffset: 4
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: BRE detection does not stop reception of the CEC message. Data bit is sampled at 1.05 ms.
            value: 0
          - name: B_0x1
            description: BRE detection stops message reception.
            value: 1
      - name: BREGEN
        description: "Generate error-bit on bit rising error\nThe BREGEN bit is set and cleared by software.\nNote: If BRDNOGEN = 0, an error-bit is generated upon BRE detection with BRESTP = 1 in broadcast even if BREGEN = 0."
        bitOffset: 5
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: BRE detection does not generate an error-bit on the CEC line.
            value: 0
          - name: B_0x1
            description: BRE detection generates an error-bit on the CEC line (if BRESTP is set).
            value: 1
      - name: LBPEGEN
        description: "Generate error-bit on long bit period error\nThe LBPEGEN bit is set and cleared by software.\nNote: If BRDNOGEN = 0, an error-bit is generated upon LBPE detection in broadcast even if LBPEGEN = 0."
        bitOffset: 6
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: LBPE detection does not generate an error-bit on the CEC line.
            value: 0
          - name: B_0x1
            description: LBPE detection generates an error-bit on the CEC line.
            value: 1
      - name: BRDNOGEN
        description: "Avoid error-bit generation in broadcast\nThe BRDNOGEN bit is set and cleared by software.\nerror-bit on the CEC line. LBPE detection with LBPEGEN = 0 on a broadcast message generates an error-bit on the CEC line."
        bitOffset: 7
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: BRE detection with BRESTP = 1 and BREGEN = 0 on a broadcast message generates an
            value: 0
          - name: B_0x1
            description: Error-bit is not generated in the same condition as above. An error-bit is not generated even in case of an SBPE detection in a broadcast message if listen mode is set.
            value: 1
      - name: SFTOP
        description: "SFT option bit\nThe SFTOPT bit is set and cleared by software."
        bitOffset: 8
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: SFT timer starts when TXSOM is set by software.
            value: 0
          - name: B_0x1
            description: SFT timer starts automatically at the end of message transmission/reception.
            value: 1
      - name: OAR
        description: "Own addresses configuration\nThe OAR bits are set by software to select which destination logical addresses has to be considered in receive mode. Each bit, when set, enables the CEC logical address identified by the given bit position.\nAt the end of HEADER reception, the received destination address is compared with the enabled addresses. In case of matching address, the incoming message is acknowledged and received. In case of non-matching address, the incoming message is received only in listen mode (LSTN = 1), but without acknowledge sent. Broadcast messages are always received.\nExample:\nOAR = 0b000 0000 0010 0001 means that CEC acknowledges addresses 0x0 and 0x5. Consequently, each message directed to one of these addresses is received."
        bitOffset: 16
        bitWidth: 15
        access: read-write
      - name: LSTN
        description: "Listen mode\nLSTN bit is set and cleared by software."
        bitOffset: 31
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: CEC peripheral receives only message addressed to its own address (OAR). Messages addressed to different destination are ignored. Broadcast messages are always received.
            value: 0
          - name: B_0x1
            description: 'CEC peripheral receives messages addressed to its own address (OAR) with positive acknowledge. Messages addressed to different destination are received, but without interfering with the CEC bus: no acknowledge sent.'
            value: 1
  - name: TXDR
    displayName: TXDR
    description: Tx data register
    addressOffset: 8
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: TXD
        description: "Tx data\nTXD is a write-only register containing the data byte to be transmitted."
        bitOffset: 0
        bitWidth: 8
        access: write-only
  - name: RXDR
    displayName: RXDR
    description: Rx data register
    addressOffset: 12
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: RXD
        description: "Rx data\nRXD is read-only and contains the last data byte that has been received from the CEC line."
        bitOffset: 0
        bitWidth: 8
        access: read-only
  - name: ISR
    displayName: ISR
    description: Interrupt and status register
    addressOffset: 16
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: RXBR
        description: "Rx-byte received\nThe RXBR bit is set by hardware to inform application that a new byte has been received from the CEC line and stored into the RXD buffer.\nRXBR is cleared by software write at 1."
        bitOffset: 0
        bitWidth: 1
        access: read-write
      - name: RXEND
        description: "End of reception\nRXEND is set by hardware to inform application that the last byte of a CEC message is received from the CEC line and stored into the RXD buffer. RXEND is set at the same time of RXBR.\nRXEND is cleared by software write at 1."
        bitOffset: 1
        bitWidth: 1
        access: read-write
      - name: RXOVR
        description: "Rx-overrun\nRXOVR is set by hardware if RXBR is not yet cleared at the time a new byte is received on the CEC line and stored into RXD. RXOVR assertion stops message reception so that no acknowledge is sent. In case of broadcast, a negative acknowledge is sent.\nRXOVR is cleared by software write at 1."
        bitOffset: 2
        bitWidth: 1
        access: read-write
      - name: BRE
        description: "Rx-bit rising error\nBRE is set by hardware in case a data-bit waveform is detected with bit rising error. BRE is set either at the time the misplaced rising edge occurs, or at the end of the maximum BRE tolerance allowed by RXTOL, in case rising edge is still longing. BRE stops message reception if BRESTP = 1. BRE generates an error-bit on the CEC line if BREGEN = 1.\nBRE is cleared by software write at 1."
        bitOffset: 3
        bitWidth: 1
        access: read-write
      - name: SBPE
        description: "Rx-short bit period error\nSBPE is set by hardware in case a data-bit waveform is detected with short bit period error. SBPE is set at the time the anticipated falling edge occurs. SBPE generates an error-bit on the CEC line.\nSBPE is cleared by software write at 1."
        bitOffset: 4
        bitWidth: 1
        access: read-write
      - name: LBPE
        description: "Rx-long bit period error\nLBPE is set by hardware in case a data-bit waveform is detected with long bit period error. LBPE is set at the end of the maximum bit-extension tolerance allowed by RXTOL, in case falling edge is still longing. LBPE always stops reception of the CEC message. LBPE generates an error-bit on the CEC line if LBPEGEN = 1. In case of broadcast, error-bit is generated even in case of LBPEGEN = 0.\nLBPE is cleared by software write at 1."
        bitOffset: 5
        bitWidth: 1
        access: read-write
      - name: RXACKE
        description: "Rx-missing acknowledge\nIn receive mode, RXACKE is set by hardware to inform application that no acknowledge was seen on the CEC line. RXACKE applies only for broadcast messages and in listen mode also for not directly addressed messages (destination address not enabled in OAR). RXACKE aborts message reception.\nRXACKE is cleared by software write at 1."
        bitOffset: 6
        bitWidth: 1
        access: read-write
      - name: ARBLST
        description: "Arbitration lost\nARBLST is set by hardware to inform application that CEC device is switching to reception due to arbitration lost event following the TXSOM command. ARBLST can be due either to a contending CEC device starting earlier or starting at the same time but with higher HEADER priority. After ARBLST assertion TXSOM bit keeps pending for next transmission attempt.\nARBLST is cleared by software write at 1."
        bitOffset: 7
        bitWidth: 1
        access: read-write
      - name: TXBR
        description: "Tx-byte request\nTXBR is set by hardware to inform application that the next transmission data has to be written to TXDR. TXBR is set when the 4th bit of currently transmitted byte is sent. Application must write the next byte to TXDR within six nominal data-bit periods before transmission underrun error occurs (TXUDR).\nTXBR is cleared by software write at 1."
        bitOffset: 8
        bitWidth: 1
        access: read-write
      - name: TXEND
        description: "End of transmission\nTXEND is set by hardware to inform application that the last byte of the CEC message has been successfully transmitted. TXEND clears the TXSOM and TXEOM control bits.\nTXEND is cleared by software write at 1."
        bitOffset: 9
        bitWidth: 1
        access: read-write
      - name: TXUDR
        description: "Tx-buffer underrun\nIn transmission mode, TXUDR is set by hardware if application was not in time to load TXDR before of next byte transmission. TXUDR aborts message transmission and clears TXSOM and TXEOM control bits.\nTXUDR is cleared by software write at 1"
        bitOffset: 10
        bitWidth: 1
        access: read-write
      - name: TXERR
        description: "Tx-error\nIn transmission mode, TXERR is set by hardware if the CEC initiator detects low impedance on the CEC line while it is released. TXERR aborts message transmission and clears TXSOM and TXEOM controls.\nTXERR is cleared by software write at 1."
        bitOffset: 11
        bitWidth: 1
        access: read-write
      - name: TXACKE
        description: "Tx-missing acknowledge error\nIn transmission mode, TXACKE is set by hardware to inform application that no acknowledge was received. In case of broadcast transmission, TXACKE informs application that a negative acknowledge was received. TXACKE aborts message transmission and clears TXSOM and TXEOM controls.\nTXACKE is cleared by software write at 1."
        bitOffset: 12
        bitWidth: 1
        access: read-write
  - name: IER
    displayName: IER
    description: Interrupt enable register
    addressOffset: 20
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: RXBRIE
        description: "Rx-byte received interrupt enable\nThe RXBRIE bit is set and cleared by software."
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: RXBR interrupt disabled
            value: 0
          - name: B_0x1
            description: RXBR interrupt enabled
            value: 1
      - name: RXENDIE
        description: "End of reception interrupt enable\nThe RXENDIE bit is set and cleared by software."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: RXEND interrupt disabled
            value: 0
          - name: B_0x1
            description: RXEND interrupt enabled
            value: 1
      - name: RXOVRIE
        description: "Rx-buffer overrun interrupt enable\nThe RXOVRIE bit is set and cleared by software."
        bitOffset: 2
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: RXOVR interrupt disabled
            value: 0
          - name: B_0x1
            description: RXOVR interrupt enabled
            value: 1
      - name: BREIE
        description: "Bit rising error interrupt enable\nThe BREIE bit is set and cleared by software."
        bitOffset: 3
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: BRE interrupt disabled
            value: 0
          - name: B_0x1
            description: BRE interrupt enabled
            value: 1
      - name: SBPEIE
        description: "Short bit period error interrupt enable\nThe SBPEIE bit is set and cleared by software."
        bitOffset: 4
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: SBPE interrupt disabled
            value: 0
          - name: B_0x1
            description: SBPE interrupt enabled
            value: 1
      - name: LBPEIE
        description: "Long bit period error interrupt enable\nThe LBPEIE bit is set and cleared by software."
        bitOffset: 5
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: LBPE interrupt disabled
            value: 0
          - name: B_0x1
            description: LBPE interrupt enabled
            value: 1
      - name: RXACKIE
        description: "Rx-missing acknowledge error interrupt enable\nThe RXACKIE bit is set and cleared by software."
        bitOffset: 6
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: RXACKE interrupt disabled
            value: 0
          - name: B_0x1
            description: RXACKE interrupt enabled
            value: 1
      - name: ARBLSTIE
        description: "Arbitration lost interrupt enable\nThe ARBLSTIE bit is set and cleared by software."
        bitOffset: 7
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: ARBLST interrupt disabled
            value: 0
          - name: B_0x1
            description: ARBLST interrupt enabled
            value: 1
      - name: TXBRIE
        description: "Tx-byte request interrupt enable\nThe TXBRIE bit is set and cleared by software."
        bitOffset: 8
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: TXBR interrupt disabled
            value: 0
          - name: B_0x1
            description: TXBR interrupt enabled
            value: 1
      - name: TXENDIE
        description: "Tx-end of message interrupt enable\nThe TXENDIE bit is set and cleared by software."
        bitOffset: 9
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: TXEND interrupt disabled
            value: 0
          - name: B_0x1
            description: TXEND interrupt enabled
            value: 1
      - name: TXUDRIE
        description: "Tx-underrun interrupt enable\nThe TXUDRIE bit is set and cleared by software."
        bitOffset: 10
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: TXUDR interrupt disabled
            value: 0
          - name: B_0x1
            description: TXUDR interrupt enabled
            value: 1
      - name: TXERRIE
        description: "Tx-error interrupt enable\nThe TXERRIE bit is set and cleared by software."
        bitOffset: 11
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: TXERR interrupt disabled
            value: 0
          - name: B_0x1
            description: TXERR interrupt enabled
            value: 1
      - name: TXACKIE
        description: "Tx-missing acknowledge error interrupt enable\nThe TXACKEIE bit is set and cleared by software."
        bitOffset: 12
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: TXACKE interrupt disabled
            value: 0
          - name: B_0x1
            description: TXACKE interrupt enabled
            value: 1
addressBlocks:
  - offset: 0
    size: 24
    usage: registers
interrupts:
  - name: INTR
    description: CEC global interrupt
