name: USBHSH
description: LPC54S60x/LPC5460x USB1 High-speed Host Controller
groupName: USBHSH
source: LPC54S018/LPC54S018.xml v1.0 (MCUX_2.16.100)
registers:
  - name: CAPLENGTH_CHIPID
    description: This register contains the offset value towards the start of the operational register space and the version number of the IP block
    addressOffset: 0
    size: 32
    access: read-only
    resetValue: 16842768
    resetMask: 4294902015
    fields:
      - name: CAPLENGTH
        description: 'Capability Length: This is used as an offset.'
        bitOffset: 0
        bitWidth: 8
        access: read-only
      - name: CHIPID
        description: 'Chip identification: indicates major and minor revision of the IP: [31:24] = Major revision [23:16] = Minor revision Major revisions used: 0x01: USB2.'
        bitOffset: 16
        bitWidth: 16
        access: read-only
  - name: HCSPARAMS
    description: Host Controller Structural Parameters
    addressOffset: 4
    size: 32
    access: read-only
    resetValue: 65553
    resetMask: 65567
    fields:
      - name: N_PORTS
        description: This register specifies the number of physical downstream ports implemented on this host controller.
        bitOffset: 0
        bitWidth: 4
        access: read-only
      - name: PPC
        description: This field indicates whether the host controller implementation includes port power control.
        bitOffset: 4
        bitWidth: 1
        access: read-only
      - name: P_INDICATOR
        description: This bit indicates whether the ports support port indicator control.
        bitOffset: 16
        bitWidth: 1
        access: read-only
  - name: HCCPARAMS
    description: Host Controller Capability Parameters
    addressOffset: 8
    size: 32
    access: read-only
    resetValue: 131078
    resetMask: 4294967295
    fields:
      - name: LPMC
        description: Link Power Management Capability.
        bitOffset: 17
        bitWidth: 1
        access: read-only
  - name: FLADJ_FRINDEX
    description: Frame Length Adjustment
    addressOffset: 12
    size: 32
    access: read-write
    resetValue: 32
    resetMask: 1073676351
    fields:
      - name: FLADJ
        description: Frame Length Timing Value.
        bitOffset: 0
        bitWidth: 6
        access: read-write
      - name: FRINDEX
        description: 'Frame Index: Bits 29 to16 in this register are used for the frame number field in the SOF packet.'
        bitOffset: 16
        bitWidth: 14
        access: read-write
  - name: ATL_PTD_BASE_ADDR
    description: Memory base address where ATL PTD0 is stored
    addressOffset: 16
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967280
    fields:
      - name: ATL_CUR
        description: This indicates the current PTD that is used by the hardware when it is processing the ATL list.
        bitOffset: 4
        bitWidth: 5
        access: read-write
      - name: ATL_BASE
        description: Base address to be used by the hardware to find the start of the ATL list.
        bitOffset: 9
        bitWidth: 23
        access: read-write
  - name: ISO_PTD_BASE_ADDR
    description: Memory base address where ISO PTD0 is stored
    addressOffset: 20
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967264
    fields:
      - name: ISO_FIRST
        description: This indicates the first PTD that is used by the hardware when it is processing the ISO list.
        bitOffset: 5
        bitWidth: 5
        access: read-write
      - name: ISO_BASE
        description: Base address to be used by the hardware to find the start of the ISO list.
        bitOffset: 10
        bitWidth: 22
        access: read-write
  - name: INT_PTD_BASE_ADDR
    description: Memory base address where INT PTD0 is stored
    addressOffset: 24
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967264
    fields:
      - name: INT_FIRST
        description: This indicates the first PTD that is used by the hardware when it is processing the INT list.
        bitOffset: 5
        bitWidth: 5
        access: read-write
      - name: INT_BASE
        description: Base address to be used by the hardware to find the start of the INT list.
        bitOffset: 10
        bitWidth: 22
        access: read-write
  - name: DATA_PAYLOAD_BASE_ADDR
    description: Memory base address that indicates the start of the data payload buffers
    addressOffset: 28
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294901760
    fields:
      - name: DAT_BASE
        description: Base address to be used by the hardware to find the start of the data payload section.
        bitOffset: 16
        bitWidth: 16
        access: read-write
  - name: USBCMD
    description: USB Command register
    addressOffset: 32
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 520095631
    fields:
      - name: RS
        description: 'Run/Stop: 1b = Run.'
        bitOffset: 0
        bitWidth: 1
        access: read-write
      - name: HCRESET
        description: 'Host Controller Reset: This control bit is used by the software to reset the host controller.'
        bitOffset: 1
        bitWidth: 1
        access: read-write
      - name: FLS
        description: 'Frame List Size: This field specifies the size of the frame list.'
        bitOffset: 2
        bitWidth: 2
        access: read-write
      - name: LHCR
        description: 'Light Host Controller Reset: This bit allows the driver software to reset the host controller without affecting the state of the ports.'
        bitOffset: 7
        bitWidth: 1
        access: read-write
      - name: ATL_EN
        description: ATL List enabled.
        bitOffset: 8
        bitWidth: 1
        access: read-write
      - name: ISO_EN
        description: ISO List enabled.
        bitOffset: 9
        bitWidth: 1
        access: read-write
      - name: INT_EN
        description: INT List enabled.
        bitOffset: 10
        bitWidth: 1
        access: read-write
      - name: HIRD
        description: Host-Initiated Resume Duration.
        bitOffset: 24
        bitWidth: 4
        access: read-write
  - name: USBSTS
    description: USB Interrupt Status register
    addressOffset: 36
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 983052
    fields:
      - name: PCD
        description: 'Port Change Detect: The host controller sets this bit to logic 1 when any port has a change bit transition from a 0 to a one or a Force Port Resume bit transition from a 0 to a 1 as a result of a J-K transition detected on a suspended port.'
        bitOffset: 2
        bitWidth: 1
        access: read-write
      - name: FLR
        description: 'Frame List Rollover: The host controller sets this bit to logic 1 when the frame list index rolls over its maximum value to 0.'
        bitOffset: 3
        bitWidth: 1
        access: read-write
      - name: ATL_IRQ
        description: 'ATL IRQ: Indicates that an ATL PTD (with I-bit set) was completed.'
        bitOffset: 16
        bitWidth: 1
        access: read-write
      - name: ISO_IRQ
        description: 'ISO IRQ: Indicates that an ISO PTD (with I-bit set) was completed.'
        bitOffset: 17
        bitWidth: 1
        access: read-write
      - name: INT_IRQ
        description: 'INT IRQ: Indicates that an INT PTD (with I-bit set) was completed.'
        bitOffset: 18
        bitWidth: 1
        access: read-write
      - name: SOF_IRQ
        description: 'SOF interrupt: Every time when the host sends a Start of Frame token on the USB bus, this bit is set.'
        bitOffset: 19
        bitWidth: 1
        access: read-write
  - name: USBINTR
    description: USB Interrupt Enable register
    addressOffset: 40
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 983052
    fields:
      - name: PCDE
        description: 'Port Change Detect Interrupt Enable: 1: enable 0: disable.'
        bitOffset: 2
        bitWidth: 1
        access: read-write
      - name: FLRE
        description: 'Frame List Rollover Interrupt Enable: 1: enable 0: disable.'
        bitOffset: 3
        bitWidth: 1
        access: read-write
      - name: ATL_IRQ_E
        description: 'ATL IRQ Enable bit: 1: enable 0: disable.'
        bitOffset: 16
        bitWidth: 1
        access: read-write
      - name: ISO_IRQ_E
        description: 'ISO IRQ Enable bit: 1: enable 0: disable.'
        bitOffset: 17
        bitWidth: 1
        access: read-write
      - name: INT_IRQ_E
        description: 'INT IRQ Enable bit: 1: enable 0: disable.'
        bitOffset: 18
        bitWidth: 1
        access: read-write
      - name: SOF_E
        description: 'SOF Interrupt Enable bit: 1: enable 0: disable.'
        bitOffset: 19
        bitWidth: 1
        access: read-write
  - name: PORTSC1
    description: Port Status and Control register
    addressOffset: 44
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294959103
    fields:
      - name: CCS
        description: 'Current Connect Status: Logic 1 indicates a device is present on the port.'
        bitOffset: 0
        bitWidth: 1
        access: read-write
      - name: CSC
        description: 'Connect Status Change: Logic 1 means that the value of CCS has changed.'
        bitOffset: 1
        bitWidth: 1
        access: read-write
      - name: PED
        description: Port Enabled/Disabled.
        bitOffset: 2
        bitWidth: 1
        access: read-write
      - name: PEDC
        description: 'Port Enabled/Disabled Change: Logic 1 means that the value of PED has changed.'
        bitOffset: 3
        bitWidth: 1
        access: read-write
      - name: OCA
        description: 'Over-current active: Logic 1 means that this port has an over-current condition.'
        bitOffset: 4
        bitWidth: 1
        access: read-write
      - name: OCC
        description: 'Over-current change: Logic 1 means that the value of OCA has changed.'
        bitOffset: 5
        bitWidth: 1
        access: read-write
      - name: FPR
        description: 'Force Port Resume: Logic 1 means resume (K-state) detected or driven on the port.'
        bitOffset: 6
        bitWidth: 1
        access: read-write
      - name: SUSP
        description: 'Suspend: Logic 1 means port is in the suspend state.'
        bitOffset: 7
        bitWidth: 1
        access: read-write
      - name: PR
        description: 'Port Reset: Logic 1 means the port is in the reset state.'
        bitOffset: 8
        bitWidth: 1
        access: read-write
      - name: SUS_L1
        description: Suspend using L1 0b = Suspend using L2 1b = Suspend using L1 When this bit is set to a 1 and a non-zero value is specified in the Device Address field, the host controller will generate an LPM Token to enter the L1 state whenever software writes a one to the Suspend bit, as well as L1 exit timing during any device or host-initiated resume.
        bitOffset: 9
        bitWidth: 1
        access: read-write
      - name: LS
        description: 'Line Status: This field reflects the current logical levels of the DP (bit 11) and DM (bit 10) signal lines.'
        bitOffset: 10
        bitWidth: 2
        access: read-only
      - name: PP
        description: 'Port Power: The function of this bit depends on the value of the Port Power Control (PPC) bit in the HCSPARAMS register.'
        bitOffset: 12
        bitWidth: 1
        access: read-write
      - name: PIC
        description: 'Port Indicator Control : Writing to this field has no effect if the P_INDICATOR bit in the HCSPARAMS register is logic 0.'
        bitOffset: 14
        bitWidth: 2
        access: read-write
      - name: PTC
        description: 'Port Test Control: A non-zero value indicates that the port is operating in the test mode as indicated by the value.'
        bitOffset: 16
        bitWidth: 4
        access: read-write
      - name: PSPD
        description: 'Port Speed: 00b: Low-speed 01b: Full-speed 10b: High-speed 11b: Reserved.'
        bitOffset: 20
        bitWidth: 2
        access: read-write
      - name: WOO
        description: 'Wake on overcurrent enable: Writing this bit to a one enables the port to be sensitive to overcurrent conditions as wake-up events.'
        bitOffset: 22
        bitWidth: 1
        access: read-write
      - name: SUS_STAT
        description: 'These two bits are used by software to determine whether the most recent L1 suspend request was successful: 00b: Success-state transition was successful (ACK) 01b: Not Yet - Device was unable to enter the L1 state at this time (NYET) 10b: Not supported - Device does not support the L1 state (STALL) 11b: Timeout/Error - Device failed to respond or an error occurred.'
        bitOffset: 23
        bitWidth: 2
        access: read-write
      - name: DEV_ADD
        description: Device Address for LPM tokens.
        bitOffset: 25
        bitWidth: 7
        access: read-write
  - name: ATL_PTD_DONE_MAP
    description: Done map for each ATL PTD
    addressOffset: 48
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: ATL_DONE
        description: The bit corresponding to a certain PTD will be set to logic 1 as soon as that PTD execution is completed.
        bitOffset: 0
        bitWidth: 32
        access: read-write
  - name: ATL_PTD_SKIP_MAP
    description: Skip map for each ATL PTD
    addressOffset: 52
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: ATL_SKIP
        description: When a bit in the PTD Skip Map is set to logic 1, the corresponding PTD will be skipped, independent of the V bit setting.
        bitOffset: 0
        bitWidth: 32
        access: read-write
  - name: ISO_PTD_DONE_MAP
    description: Done map for each ISO PTD
    addressOffset: 56
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: ISO_DONE
        description: The bit corresponding to a certain PTD will be set to logic 1 as soon as that PTD execution is completed.
        bitOffset: 0
        bitWidth: 32
        access: read-write
  - name: ISO_PTD_SKIP_MAP
    description: Skip map for each ISO PTD
    addressOffset: 60
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: ISO_SKIP
        description: The bit corresponding to a certain PTD will be set to logic 1 as soon as that PTD execution is completed.
        bitOffset: 0
        bitWidth: 32
        access: read-write
  - name: INT_PTD_DONE_MAP
    description: Done map for each INT PTD
    addressOffset: 64
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: INT_DONE
        description: The bit corresponding to a certain PTD will be set to logic 1 as soon as that PTD execution is completed.
        bitOffset: 0
        bitWidth: 32
        access: read-write
  - name: INT_PTD_SKIP_MAP
    description: Skip map for each INT PTD
    addressOffset: 68
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: INT_SKIP
        description: When a bit in the PTD Skip Map is set to logic 1, the corresponding PTD will be skipped, independent of the V bit setting.
        bitOffset: 0
        bitWidth: 32
        access: read-write
  - name: LASTPTD
    description: Marks the last PTD in the list for ISO, INT and ATL
    addressOffset: 72
    size: 32
    access: read-write
    resetValue: 0
    resetMask: 2039583
    fields:
      - name: ATL_LAST
        description: If hardware has reached this PTD and the J bit is not set, it will go to PTD0 as the next PTD to be processed.
        bitOffset: 0
        bitWidth: 5
        access: read-write
      - name: ISO_LAST
        description: This indicates the last PTD in the ISO list.
        bitOffset: 8
        bitWidth: 5
        access: read-write
      - name: INT_LAST
        description: This indicates the last PTD in the INT list.
        bitOffset: 16
        bitWidth: 5
        access: read-write
  - name: PORTMODE
    description: Controls the port if it is attached to the host block or the device block
    addressOffset: 80
    size: 32
    access: read-write
    resetValue: 262144
    resetMask: 852225
    fields:
      - name: ID0
        description: Port 0 ID pin value.
        bitOffset: 0
        bitWidth: 1
        access: read-write
      - name: ID0_EN
        description: Port 0 ID pin pull-up enable.
        bitOffset: 8
        bitWidth: 1
        access: read-write
      - name: DEV_ENABLE
        description: If this bit is set to one, one of the ports will behave as a USB device.
        bitOffset: 16
        bitWidth: 1
        access: read-write
      - name: SW_CTRL_PDCOM
        description: This bit indicates if the PHY power-down input is controlled by software or by hardware.
        bitOffset: 18
        bitWidth: 1
        access: read-write
      - name: SW_PDCOM
        description: This bit is only used when SW_CTRL_PDCOM is set to 1b.
        bitOffset: 19
        bitWidth: 1
        access: read-write
addressBlocks:
  - offset: 0
    size: 84
    usage: registers
interrupts:
  - name: INTR
  - name: NEEDCLK
