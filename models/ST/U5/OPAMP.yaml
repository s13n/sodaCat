name: OPAMP
description: Operational amplifiers
groupName: OPAMP
registers:
  - name: CSR
    displayName: CSR
    description: OPAMP1 control/status register
    addressOffset: 0
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: OPAEN
        description: OPAMP enable
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: OPAMP disabled
            value: 0
          - name: B_0x1
            description: OPAMP enabled
            value: 1
      - name: OPALPM
        description: "OPAMP low-power mode\nThe OPAMP must be disabled to change this configuration."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: normal mode
            value: 0
          - name: B_0x1
            description: low-power mode
            value: 1
      - name: OPAMODE
        description: "OPAMP PGA mode\n00 and 01: internal PGA disabled"
        bitOffset: 2
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x2
            description: internal PGA enabled, gain programmed in PGA_GAIN
            value: 2
          - name: B_0x3
            description: internal follower
            value: 3
      - name: PGA_GAIN
        description: OPAMP programmable amplifier gain value
        bitOffset: 4
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: internal PGA gain 2
            value: 0
          - name: B_0x1
            description: internal PGA gain 4
            value: 1
          - name: B_0x2
            description: internal PGA gain 8
            value: 2
          - name: B_0x3
            description: internal PGA gain 16
            value: 3
      - name: VM_SEL
        description: "Inverting input selection\nThese bits are used only when OPAMODE = 00, 01 or 10.\n1x: inverting input not externally connected"
        bitOffset: 8
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: GPIO connected to VINM (valid also in PGA mode for filtering)
            value: 0
          - name: B_0x1
            description: dedicated low-leakage input connected to VINM (valid also in PGA mode for filtering)
            value: 1
      - name: VP_SEL
        description: Non-inverted input selection
        bitOffset: 10
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: GPIO connected to VINP
            value: 0
          - name: B_0x1
            description: DAC connected to VINP
            value: 1
      - name: CALON
        description: Calibration mode enable
        bitOffset: 12
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: normal mode
            value: 0
          - name: B_0x1
            description: calibration mode (all switches opened by hardware)
            value: 1
      - name: CALSEL
        description: Calibration selection
        bitOffset: 13
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: NMOS calibration (200�mV applied on OPAMP inputs)
            value: 0
          - name: B_0x1
            description: PMOS calibration (V<sub>DDA </sub>- 200 mV applied on OPAMP inputs)
            value: 1
      - name: USERTRIM
        description: "‘factory’ or ‘user’ offset trimmed values selection\nThis bit is active for normal and low-power modes."
        bitOffset: 14
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: ‘factory’ trim code used
            value: 0
          - name: B_0x1
            description: ‘user’ trim code used
            value: 1
      - name: CALOUT
        description: "OPAMP calibration output\nDuring the calibration mode, the offset is trimmed when this signal toggles."
        bitOffset: 15
        bitWidth: 1
        access: read-only
      - name: OPAHSM
        description: "OPAMP high-speed mode\nThis bit is effective for both normal and low-power modes."
        bitOffset: 30
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: normal mode (standard slew rate)
            value: 0
          - name: B_0x1
            description: increased consumption to improve the slew rate
            value: 1
      - name: OPA_RANGE
        description: "OPAMP range setting\nThis bit must be set before enabling the OPAMP and this bit affects all OPAMP instances."
        bitOffset: 31
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: reserved
            value: 0
          - name: B_0x1
            description: OPAMP range set
            value: 1
  - name: OTR
    displayName: OTR
    description: OPAMP1 offset trimming register in normal mode
    addressOffset: 4
    size: 32
    resetValue: 0
    resetMask: 4294901760
    fields:
      - name: TRIMOFFSETN
        description: Trim for NMOS differential pairs
        bitOffset: 0
        bitWidth: 5
        access: read-write
      - name: TRIMOFFSETP
        description: Trim for PMOS differential pairs
        bitOffset: 8
        bitWidth: 5
        access: read-write
  - name: LPOTR
    displayName: LPOTR
    description: OPAMP1 offset trimming register in low-power mode
    addressOffset: 8
    size: 32
    resetValue: 0
    resetMask: 4294901760
    fields:
      - name: TRIMLPOFFSETN
        description: Low-power mode trim for NMOS differential pairs
        bitOffset: 0
        bitWidth: 5
        access: read-write
      - name: TRIMLPOFFSETP
        description: Low-power mode trim for PMOS differential pairs
        bitOffset: 8
        bitWidth: 5
        access: read-write
  - name: CRS
    displayName: CRS
    description: OPAMP2 control/status register
    addressOffset: 16
    size: 32
    resetValue: 0
    resetMask: 4294967295
    fields:
      - name: OPAEN
        description: OPAMP enable
        bitOffset: 0
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: OPAMP disabled
            value: 0
          - name: B_0x1
            description: OPAMP enabled
            value: 1
      - name: OPALPM
        description: "OPAMP low-power mode\nThe OPAMP must be disabled to change this configuration."
        bitOffset: 1
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: normal mode
            value: 0
          - name: B_0x1
            description: low-power mode
            value: 1
      - name: OPAMODE
        description: "OPAMP PGA mode\n00 and 01: internal PGA disabled"
        bitOffset: 2
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x2
            description: internal PGA enabled, gain programmed in PGA_GAIN
            value: 2
          - name: B_0x3
            description: internal follower
            value: 3
      - name: PGA_GAIN
        description: OPAMP programmable amplifier gain value
        bitOffset: 4
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: internal PGA gain 2
            value: 0
          - name: B_0x1
            description: internal PGA gain 4
            value: 1
          - name: B_0x2
            description: internal PGA gain 8
            value: 2
          - name: B_0x3
            description: internal PGA gain 16
            value: 3
      - name: VM_SEL
        description: "Inverting input selection\nThese bits are used only when OPAMODE = 00, 01 or 10.\nin PGA mode for filtering)\n1x: inverting input not externally connected"
        bitOffset: 8
        bitWidth: 2
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: GPIO connected to VINM (valid also in PGA mode for filtering)
            value: 0
          - name: B_0x1
            description: dedicated low-leakage input connected to VINM (valid also
            value: 1
      - name: VP_SEL
        description: Non inverted input selection
        bitOffset: 10
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: GPIO connected to VINP
            value: 0
          - name: B_0x1
            description: DAC connected to VINP
            value: 1
      - name: CALON
        description: Calibration mode enable
        bitOffset: 12
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: normal mode
            value: 0
          - name: B_0x1
            description: calibration mode (all switches opened by hardware)
            value: 1
      - name: CALSEL
        description: Calibration selection
        bitOffset: 13
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: NMOS calibration (200 mV applied on OPAMP inputs)
            value: 0
          - name: B_0x1
            description: PMOS calibration (V<sub>DDA </sub>- 200 mV applied on OPAMP inputs)
            value: 1
      - name: USERTRIM
        description: "‘factory’ or ‘user’ offset trimmed values selection\nThis bit is active for normal and low-power modes."
        bitOffset: 14
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: ‘factory’ trim code used
            value: 0
          - name: B_0x1
            description: ‘user’ trim code used
            value: 1
      - name: CALOUT
        description: "OPAMP calibration output\nDuring calibration mode, the offset is trimmed when this signal toggles."
        bitOffset: 15
        bitWidth: 1
        access: read-only
      - name: OPAHSM
        description: "OPAMP high-speed mode\nThis bit is effective for both normal and high-speed modes."
        bitOffset: 30
        bitWidth: 1
        access: read-write
        enumeratedValues:
          - name: B_0x0
            description: normal mode (standard slew rate)
            value: 0
          - name: B_0x1
            description: increased consumption to improve the slew rate
            value: 1
  - name: OTR
    displayName: OTR
    description: OPAMP2 offset trimming register in normal mode
    addressOffset: 20
    size: 32
    resetValue: 0
    resetMask: 4294901760
    fields:
      - name: TRIMOFFSETN
        description: Trim for NMOS differential pairs
        bitOffset: 0
        bitWidth: 5
        access: read-write
      - name: TRIMOFFSETP
        description: Trim for PMOS differential pairs
        bitOffset: 8
        bitWidth: 5
        access: read-write
  - name: LPOTR
    displayName: LPOTR
    description: OPAMP2 offset trimming register in low-power mode
    addressOffset: 24
    size: 32
    resetValue: 0
    resetMask: 4294901760
    fields:
      - name: TRIMLPOFFSETN
        description: Low-power mode trim for NMOS differential pairs
        bitOffset: 0
        bitWidth: 5
        access: read-write
      - name: TRIMLPOFFSETP
        description: Low-power mode trim for PMOS differential pairs
        bitOffset: 8
        bitWidth: 5
        access: read-write
addressBlocks:
  - offset: 0
    size: 1024
    usage: registers
